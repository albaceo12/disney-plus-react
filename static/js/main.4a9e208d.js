/*! For license information please see main.4a9e208d.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},244:function(e,t,n){var r=n(447),i=n(51).each;function a(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}a.prototype={constuctor:a,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,(function(t){t[e]()}))}},e.exports=a},0:function(e,t,n){var r=n(244),i=n(51),a=i.each,o=i.isFunction,s=i.isArray;function u(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}u.prototype={constructor:u,register:function(e,t,n){var i=this.queries,u=n&&this.browserIsIncapable;return i[e]||(i[e]=new r(e,u)),o(t)&&(t={match:t}),s(t)||(t=[t]),a(t,(function(t){o(t)&&(t={match:t}),i[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=u},447:function(e){function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},51:function(e){e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},153:function(e,t,n){var r=n(0);e.exports=new r},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},118:function(e,t,n){var r=n(806),i=function(e){var t="",n=Object.keys(e);return n.forEach((function(i,a){var o=e[i];(function(e){return/[height|width]$/.test(e)})(i=r(i))&&"number"===typeof o&&(o+="px"),t+=!0===o?i:!1===o?"not "+i:"("+i+": "+o+")",a<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=i(n),r<e.length-1&&(t+=", ")})),t):i(e)}},95:function(e,t,n){var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,l=u||c||Function("return this")(),f=Object.prototype.toString,h=Math.max,d=Math.min,p=function(){return l.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=a.test(e);return n||o.test(e)?s(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,a,o,s,u,c=0,l=!1,f=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function b(e){return c=e,s=setTimeout(w,t),l?g(e):o}function k(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-c>=a}function w(){var e=p();if(k(e))return x(e);s=setTimeout(w,function(e){var n=t-(e-u);return f?d(n,a-(e-c)):n}(e))}function x(e){return s=void 0,y&&r?g(e):(r=i=void 0,o)}function _(){var e=p(),n=k(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return b(u);if(f)return s=setTimeout(w,t),g(u)}return void 0===s&&(s=setTimeout(w,t)),o}return t=m(t)||0,v(n)&&(l=!!n.leading,a=(f="maxWait"in n)?h(m(n.maxWait)||0,t):a,y="trailing"in n?!!n.trailing:y),_.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=i=s=void 0},_.flush=function(){return void 0===s?o:x(p())},_}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Te(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Ie(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Oe(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==_e||null!==Se)&&(Oe(),Ie())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ue=null,ze={onError:function(e){Me=!0,je=e}};function Ve(e,t,n,r,i,a,o,s,u){Me=!1,je=null,Le.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,Et,Tt=!1,It=[],Ct=null,Ot=null,At=null,Pt=new Map,Nt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function zt(){Tt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Ot&&Ft(Ot)&&(Ot=null),null!==At&&Ft(At)&&(At=null),Pt.forEach(Ut),Nt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<It.length){Vt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==Ot&&Vt(Ot,e),null!==At&&Vt(At,e),Pt.forEach(t),Nt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var qt=k.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Ot=Mt(Ot,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),hn=an(fn),dn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(j({},dn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),yn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Sn}var Tn=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Tn),Cn=an(j({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=an(Pn),Rn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function $n(e){if(G(ki(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Wn(t,Gn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=Er("animationend"),Ir=Er("animationiteration"),Cr=Er("animationstart"),Or=Er("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Ar.set(e,t),u(t,[e])}for(var Rr=0;Rr<Pr.length;Rr++){var Dr=Pr[Rr];Nr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Nr(Tr,"onAnimationEnd"),Nr(Ir,"onAnimationIteration"),Nr(Cr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,c),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Tr:case Ir:case Cr:u=yn;break;case Or:u=An;break;case"scroll":u=hn;break;case"wheel":u=Nn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ne(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Hn(s))if(Yn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ki(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(g=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(y=Kr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Vn(n))&&(b.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=Jt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ne(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Ne(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ne(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Ne(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ti(e,t){_i++,xi[_i]=e.current,e.current=t}var Ii={},Ci=Si(Ii),Oi=Si(!1),Ai=Ii;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ei(Oi),Ei(Ci)}function Di(e,t,n){if(Ci.current!==Ii)throw Error(a(168));Ti(Ci,t),Ti(Oi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ai=Ci.current,Ti(Ci,e),Ti(Oi,Oi.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Oi),Ei(Ci),Ti(Ci,e)):Ei(Oi),Ti(Oi,n)}var Fi=null,Ui=!1,zi=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!zi&&null!==Fi){zi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,zi=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,$i=null,Xi=1,Yi="";function Ji(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Yi,Gi[Qi++]=$i,$i=e;var r=Xi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Xi=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ta=null;function Ia(e){null===Ta?Ta=[e]:Ta.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oa(e,r)}function Oa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Na(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function za(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ni(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ni(t)?Ai:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(za(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===N&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case N:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Dc(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,u)).return=r,r=a}return s(r);case N:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Xa=$a(!0),Ya=$a(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ti(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Io(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Oo(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function No(e,t){var n=vo,r=Io(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ou)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=Oa(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zo(){return Io().memoizedState}function Vo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Vo(8390656,8,e,t)}function Ho(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function $o(){}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return Io().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ia(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:$o,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ou)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Ou.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Yo,useReducer:Oo,useRef:zo,useState:function(){return Oo(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(Io(),mo.memoizedState,e)},useTransition:function(){return[Oo(Co)[0],Io().memoizedState]},useMutableSource:Po,useSyncExternalStore:No,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Yo,useReducer:Ao,useRef:zo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],Io().memoizedState]},useMutableSource:Po,useSyncExternalStore:No,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Wu=r),hs(0,t)},n}function vs(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Xa(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Nc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Is(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ru,Nu),Nu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ru,Nu),Nu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Ru,Nu),Nu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Ru,Nu),Nu|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var a=Ni(n)?Ai:Ci.current;return a=Pi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Cs(e,t,n,r,i){if(Ni(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qs(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Pi(t,c=Ni(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ha(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Oi.current||Aa?("function"===typeof l&&(za(t,n,l,r),u=t.memoizedState),(s=Aa||Ba(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Na(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Pi(t,u=Ni(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ha(t,o,r,u),Aa=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Oi.current||Aa?("function"===typeof d&&(za(t,n,d,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,a,i)}function Os(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Hs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ns,Rs,Ds,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ls,e):Fs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Ou)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Oa(e,i),nc(r,e,i,-1))}return vc(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Yi,Gi[Qi++]=$i,Xi=e.id,Yi=e.overflow,$i=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Rc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Rc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Vs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ni(t.type)&&Ri(),Ks(t),null;case 3:return r=t.stateNode,io(),Ei(Oi),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Ns(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ds(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Du&&(Du=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Ks(t),null;case 10:return xa(t.type._context),Ks(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ws(o,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ws(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Bu&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Ye()-o.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=so.current,Ti(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nu)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Ni(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Oi),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Xs=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||Zs(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Xs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hu(e,t,n),Xs=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));du(o,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Sc(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&Y(i,o),be(u,s);var l=be(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=Ye())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,vu(t,e),Xs=l):vu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(h=Js=f;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Js=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Js=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$s;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=$s;var c=Xs;if($s=o,(Xs=u)&&!c)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Js=u):xu(i);for(;null!==a;)Js=a,bu(a,t,n),a=a.sibling;Js=i,$s=s,Xs=c}ku(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):ku(e)}}function ku(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&iu(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function xu(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Sc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sc(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Sc(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Sc(t,o,u)}}}catch(u){Sc(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var _u,Su=Math.ceil,Eu=k.ReactCurrentDispatcher,Tu=k.ReactCurrentOwner,Iu=k.ReactCurrentBatchConfig,Cu=0,Ou=null,Au=null,Pu=0,Nu=0,Ru=Si(0),Du=0,Lu=null,Mu=0,ju=0,Fu=0,Uu=null,zu=null,Vu=0,Bu=1/0,qu=null,Hu=!1,Wu=null,Ku=null,Gu=!1,Qu=null,$u=0,Xu=0,Yu=null,Ju=-1,Zu=0;function ec(){return 0!==(6&Cu)?Ye():-1!==Ju?Ju:Ju=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Pu?Pu&-Pu:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xu)throw Xu=0,Yu=null,Error(a(185));yt(e,n,r),0!==(2&Cu)&&e===Ou||(e===Ou&&(0===(2&Cu)&&(ju|=n),4===Du&&sc(e,Pu)),rc(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(Bu=Ye()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Ou?Pu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(uc.bind(null,e)):Vi(uc.bind(null,e)),oi((function(){0===(6&Cu)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ju=-1,Zu=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ou?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cu;Cu|=2;var o=pc();for(Ou===e&&Pu===t||(qu=null,Bu=Ye()+500,hc(e,t));;)try{gc();break}catch(u){dc(e,u)}wa(),Eu.current=o,Cu=i,null!==Au?t=0:(Ou=null,Pu=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Lu,hc(e,0),sc(e,r),rc(e,Ye()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Lu,hc(e,0),sc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,zu,qu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Vu+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,zu,qu),t);break}wc(e,zu,qu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,zu,qu),r);break}wc(e,zu,qu);break;default:throw Error(a(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=zu,zu=n,null!==t&&oc(t)),e}function oc(e){null===zu?zu=e:zu.push.apply(zu,e)}function sc(e,t){for(t&=~Fu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Cu))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Lu,hc(e,0),sc(e,t),rc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,zu,qu),rc(e,Ye()),null}function cc(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(Bu=Ye()+500,Ui&&Bi())}}function lc(e){null!==Qu&&0===Qu.tag&&0===(6&Cu)&&xc();var t=Cu;Cu|=1;var n=Iu.transition,r=bt;try{if(Iu.transition=null,bt=1,e)return e()}finally{bt=r,Iu.transition=n,0===(6&(Cu=t))&&Bi()}}function fc(){Nu=Ru.current,Ei(Ru)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ei(Oi),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ou=e,Au=e=Rc(e.current,null),Pu=Nu=t,Du=0,Lu=null,Fu=ju=Mu=0,zu=Uu=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function dc(e,t){for(;;){var n=Au;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,Tu.current=null,null===n||null===n.return){Du=1,Lu=t,Au=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Pu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Du&&(Du=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function pc(){var e=Eu.current;return Eu.current=os,null===e?os:e}function vc(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Ou||0===(268435455&Mu)&&0===(268435455&ju)||sc(Ou,Pu)}function mc(e,t){var n=Cu;Cu|=2;var r=pc();for(Ou===e&&Pu===t||(qu=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cu=n,Eu.current=r,null!==Au)throw Error(a(261));return Ou=null,Pu=0,Du}function yc(){for(;null!==Au;)bc(Au)}function gc(){for(;null!==Au&&!$e();)bc(Au)}function bc(e){var t=_u(e.alternate,e,Nu);e.memoizedProps=e.pendingProps,null===t?kc(e):Au=t,Tu.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Nu)))return void(Au=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Du=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Du&&(Du=5)}function wc(e,t,n){var r=bt,i=Iu.transition;try{Iu.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Qu);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ou&&(Au=Ou=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Oc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=bt;bt=1;var u=Cu;Cu|=4,Tu.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,gu(n,e,i),Xe(),Cu=u,bt=s,Iu.transition=o}else e.current=n;if(Gu&&(Gu=!1,Qu=e,$u=i),0===(o=e.pendingLanes)&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Wu,Wu=null,e;0!==(1&$u)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Yu?Xu++:(Xu=0,Yu=e):Xu=0,Bi()}(e,t,n,r)}finally{Iu.transition=i,bt=r}return null}function xc(){if(null!==Qu){var e=kt($u),t=Iu.transition,n=bt;try{if(Iu.transition=null,bt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,$u=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Js=h;else for(;null!==Js;){var d=(f=Js).sibling,p=f.return;if(au(f),f===l){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Js=g;break e}Js=o.return}}var b=e.current;for(Js=b;null!==Js;){var k=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Js=k;else e:for(s=b;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(x){Sc(u,u.return,x)}if(u===s){Js=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Js=w;break e}Js=u.return}}if(Cu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Iu.transition=t}}return!1}function _c(e,t,n){e=Da(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Da(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ou===e&&(Pu&n)===n&&(4===Du||3===Du&&(130023424&Pu)===Pu&&500>Ye()-Vu?hc(e,0):Fu|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Oa(e,t))&&(yt(e,t,n),rc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Oc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Nc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Pc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case O:return(e=Pc(13,n,t,i)).elementType=O,e.lanes=o,e;case A:return(e=Pc(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case I:s=9;break e;case C:s=11;break e;case P:s=14;break e;case N:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=zc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Ra(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:As(t),da();break;case 5:ao(t);break;case 1:Ni(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ti(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ti(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Os(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Na(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Oi.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_s(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qs(e,t),t.tag=1,Ni(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Wa(t,r,i,n),Os(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wc(o);s.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Hc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(o)}Xc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Xc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Hc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Ye()),0===(6&Cu)&&(Bu=Ye()+500,Bi()))}break;case 13:lc((function(){var t=Oa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Oa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Oa(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Oe=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Te,Ie,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),s=b("react.provider"),u=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),h=b("react.memo"),d=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),y=b("react.debug_trace_mode"),g=b("react.legacy_hidden")}function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case h:case s:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===y||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===s||e.$$typeof===u||e.$$typeof===c||e.$$typeof===m||e.$$typeof===p||e[0]===v)},t.typeOf=k},441:function(e,t,n){"use strict";e.exports=n(372)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},436:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrevArrow=t.NextArrow=void 0;var i=s(n(791)),a=s(n(694)),o=n(26);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var k=function(e){v(n,e);var t=y(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?i.default.cloneElement(this.props.prevArrow,l(l({},n),r)):i.default.createElement("button",u({key:"0",type:"button"},n)," ","Previous")}}]),n}(i.default.PureComponent);t.PrevArrow=k;var w=function(e){v(n,e);var t=y(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,o.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,a.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?i.default.cloneElement(this.props.nextArrow,l(l({},n),r)):i.default.createElement("button",u({key:"1",type:"button"},n)," ","Next")}}]),n}(i.default.PureComponent);t.NextArrow=w},484:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(791))&&r.__esModule?r:{default:r};var a={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return i.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return i.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};t.default=a},800:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var i=s(n(791)),a=s(n(694)),o=n(26);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(p,e);var t,n,r,s=d(p);function p(){return l(this,p),s.apply(this,arguments)}return t=p,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,s=t.onMouseLeave,l=t.infinite,f=t.slidesToScroll,h=t.slidesToShow,d=t.slideCount,p=t.currentSlide,v=(e={slideCount:d,slidesToScroll:f,slidesToShow:h,infinite:l}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,m={onMouseEnter:n,onMouseOver:r,onMouseLeave:s},y=[],g=0;g<v;g++){var b=(g+1)*f-1,k=l?b:(0,o.clamp)(b,0,d-1),w=k-(f-1),x=l?w:(0,o.clamp)(w,0,d-1),_=(0,a.default)({"slick-active":l?p>=x&&p<=k:p===x}),S={message:"dots",index:g,slidesToScroll:f,currentSlide:p},E=this.clickHandler.bind(this,S);y=y.concat(i.default.createElement("li",{key:g,className:_},i.default.cloneElement(this.props.customPaging(g),{onClick:E})))}return i.default.cloneElement(this.props.appendDots(y),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},m))}}],n&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(i.default.PureComponent);t.Dots=m},717:function(e,t,n){"use strict";var r;t.Z=void 0;var i=((r=n(178))&&r.__esModule?r:{default:r}).default;t.Z=i},382:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=n},293:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=h(n(791)),i=h(n(382)),a=h(n(95)),o=h(n(694)),s=n(26),u=n(931),c=n(800),l=n(436),f=h(n(474));function h(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(w,e);var t,n,h,m=k(w);function w(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),S(x(t=m.call(this,e)),"listRefHandler",(function(e){return t.list=e})),S(x(t),"trackRefHandler",(function(e){return t.track=e})),S(x(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,s.getHeight)(e)+"px"}})),S(x(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,s.getOnDemandLazySlides)(y(y({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=y({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new f.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),S(x(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),S(x(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,s.getOnDemandLazySlides)(y(y({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var i=y(y({listRef:t.list,trackRef:t.track},t.props),t.state),a=t.didPropsChange(e);a&&t.updateState(i,a,(function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),S(x(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,a.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),S(x(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=Boolean(t.track&&t.track.node);if(n){var r=y(y({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(r,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),S(x(t),"updateState",(function(e,n,i){var a=(0,s.initializedState)(e);e=y(y(y({},e),a),{},{slideIndex:a.currentSlide});var o=(0,s.getTrackLeft)(e);e=y(y({},e),{},{left:o});var u=(0,s.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(a.trackStyle=u),t.setState(a,i)})),S(x(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,i=[],a=(0,s.getPreClones)(y(y(y({},t.props),t.state),{},{slideCount:t.props.children.length})),o=(0,s.getPostClones)(y(y(y({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){i.push(t.props.style.width),e+=t.props.style.width}));for(var u=0;u<a;u++)n+=i[i.length-1-u],e+=i[i.length-1-u];for(var c=0;c<o;c++)e+=i[c];for(var l=0;l<t.state.currentSlide;l++)n+=i[l];var f={width:e+"px",left:-n+"px"};if(t.props.centerMode){var h="".concat(i[t.state.currentSlide],"px");f.left="calc(".concat(f.left," + (100% - ").concat(h,") / 2 ) ")}return{trackStyle:f}}var d=r.default.Children.count(t.props.children),p=y(y(y({},t.props),t.state),{},{slideCount:d}),v=(0,s.getPreClones)(p)+(0,s.getPostClones)(p)+d,m=100/t.props.slidesToShow*v,g=100/v,b=-g*((0,s.getPreClones)(p)+t.state.currentSlide)*m/100;return t.props.centerMode&&(b+=(100-g*m/100)/2),{slideWidth:g+"%",trackStyle:{width:m+"%",left:b+"%"}}})),S(x(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var i=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var a=e.onclick;e.onclick=function(){a(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=i,e.onerror=function(){i(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),S(x(t),"progressiveLazyLoad",(function(){for(var e=[],n=y(y({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,s.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var i=t.state.currentSlide-1;i>=-(0,s.getPreClones)(n);i--)if(t.state.lazyLoadedList.indexOf(i)<0){e.push(i);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),S(x(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,i=r.asNavFor,a=r.beforeChange,o=r.onLazyLoad,u=r.speed,c=r.afterChange,l=t.state.currentSlide,f=(0,s.slideHandler)(y(y(y({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),h=f.state,d=f.nextState;if(h){a&&a(l,h.currentSlide);var p=h.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));o&&p.length>0&&o(p),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),c&&c(l),delete t.animationEndCallback),t.setState(h,(function(){i&&t.asNavForIndex!==e&&(t.asNavForIndex=e,i.innerSlider.slideHandler(e)),d&&(t.animationEndCallback=setTimeout((function(){var e=d.animating,n=v(d,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),c&&c(h.currentSlide),delete t.animationEndCallback}))}),u))}))}})),S(x(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=y(y({},t.props),t.state),i=(0,s.changeSlide)(r,e);if((0===i||i)&&(!0===n?t.slideHandler(i,n):t.slideHandler(i),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var a=t.list.querySelectorAll(".slick-current");a[0]&&a[0].focus()}})),S(x(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),S(x(t),"keyHandler",(function(e){var n=(0,s.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),S(x(t),"selectHandler",(function(e){t.changeSlide(e)})),S(x(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),S(x(t),"enableBodyScroll",(function(){window.ontouchmove=null})),S(x(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,s.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),S(x(t),"swipeMove",(function(e){var n=(0,s.swipeMove)(e,y(y(y({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),S(x(t),"swipeEnd",(function(e){var n=(0,s.swipeEnd)(e,y(y(y({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),S(x(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),S(x(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),S(x(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),S(x(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),S(x(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,s.canGoNext)(y(y({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),S(x(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),S(x(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),S(x(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),S(x(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),S(x(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),S(x(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),S(x(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),S(x(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),S(x(t),"render",(function(){var e,n,i,a=(0,o.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),f=y(y({},t.props),t.state),h=(0,s.extractObject)(f,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),d=t.props.pauseOnHover;if(h=y(y({},h),{},{onMouseEnter:d?t.onTrackOver:null,onMouseLeave:d?t.onTrackLeave:null,onMouseOver:d?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var v=(0,s.extractObject)(f,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),m=t.props.pauseOnDotsHover;v=y(y({},v),{},{clickHandler:t.changeSlide,onMouseEnter:m?t.onDotsLeave:null,onMouseOver:m?t.onDotsOver:null,onMouseLeave:m?t.onDotsLeave:null}),e=r.default.createElement(c.Dots,v)}var g=(0,s.extractObject)(f,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);g.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(l.PrevArrow,g),i=r.default.createElement(l.NextArrow,g));var b=null;t.props.vertical&&(b={height:t.state.listHeight});var k=null;!1===t.props.vertical?!0===t.props.centerMode&&(k={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(k={padding:t.props.centerPadding+" 0px"});var w=y(y({},b),k),x=t.props.touchMove,_={className:"slick-list",style:w,onClick:t.clickHandler,onMouseDown:x?t.swipeStart:null,onMouseMove:t.state.dragging&&x?t.swipeMove:null,onMouseUp:x?t.swipeEnd:null,onMouseLeave:t.state.dragging&&x?t.swipeEnd:null,onTouchStart:x?t.swipeStart:null,onTouchMove:t.state.dragging&&x?t.swipeMove:null,onTouchEnd:x?t.touchEnd:null,onTouchCancel:t.state.dragging&&x?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},S={className:a,dir:"ltr",style:t.props.style};return t.props.unslick&&(_={className:"slick-list"},S={className:a}),r.default.createElement("div",S,t.props.unslick?"":n,r.default.createElement("div",p({ref:t.listRefHandler},_),r.default.createElement(u.Track,p({ref:t.trackRefHandler},h),t.props.children)),t.props.unslick?"":i,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=y(y({},i.default),{},{currentSlide:t.props.initialSlide,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=y(y({},t.state),n),t}return t=w,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,i=Object.keys(this.props);n<i.length;n++){var a=i[n];if(!e.hasOwnProperty(a)){t=!0;break}if("object"!==d(e[a])&&"function"!==typeof e[a]&&e[a]!==this.props[a]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&g(t.prototype,n),h&&g(t,h),Object.defineProperty(t,"prototype",{writable:!1}),w}(r.default.Component);t.InnerSlider=E},178:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n(791)),a=n(293),o=c(n(118)),s=c(n(484)),u=n(26);function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=(0,u.canUseDOM)()&&n(153),w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(f,e);var t,n,r,c=v(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),b(y(t=c.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),b(y(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),b(y(t),"slickNext",(function(){return t.innerSlider.slickNext()})),b(y(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),b(y(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),b(y(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=f,(n=[{key:"media",value:function(e,t){k.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var i;i=0===r?(0,o.default)({minWidth:0,maxWidth:n}):(0,o.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,u.canUseDOM)()&&e.media(i,(function(){e.setState({breakpoint:n})}))}));var n=(0,o.default)({minWidth:t.slice(-1)[0]});(0,u.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){k.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":h(h(h({},s.default),this.props),t[0].settings):h(h({},s.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var r=i.default.Children.toArray(this.props.children);r=r.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var o=[],u=null,c=0;c<r.length;c+=e.rows*e.slidesPerRow){for(var f=[],d=c;d<c+e.rows*e.slidesPerRow;d+=e.slidesPerRow){for(var p=[],v=d;v<d+e.slidesPerRow&&(e.variableWidth&&r[v].props.style&&(u=r[v].props.style.width),!(v>=r.length));v+=1)p.push(i.default.cloneElement(r[v],{key:100*c+10*d+v,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));f.push(i.default.createElement("div",{key:10*c+d},p))}e.variableWidth?o.push(i.default.createElement("div",{key:c,style:{width:u}},f)):o.push(i.default.createElement("div",{key:c},f))}if("unslick"===e){var m="regular slider "+(this.props.className||"");return i.default.createElement("div",{className:m},r)}return o.length<=e.slidesToShow&&(e.unslick=!0),i.default.createElement(a.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},e),o)}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(i.default.Component);t.default=w},931:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var i=s(n(791)),a=s(n(694)),o=n(26);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){var t,n,r,i,a;return r=(a=e.rtl?e.slideCount-1-e.index:e.index)<0||a>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(a-e.currentSlide)%e.slideCount===0,a>e.currentSlide-i-1&&a<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=a&&a<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":a===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},k=function(e,t){return e.key||t},w=function(e){var t,n=[],r=[],s=[],u=i.default.Children.count(e.children),c=(0,o.lazyStartIndex)(e),l=(0,o.lazyEndIndex)(e);return i.default.Children.forEach(e.children,(function(f,h){var d,p={message:"children",index:h,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};d=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(h)>=0?f:i.default.createElement("div",null);var v=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(y(y({},e),{},{index:h})),m=d.props.className||"",g=b(y(y({},e),{},{index:h}));if(n.push(i.default.cloneElement(d,{key:"original"+k(d,h),"data-index":h,className:(0,a.default)(g,m),tabIndex:"-1","aria-hidden":!g["slick-active"],style:y(y({outline:"none"},d.props.style||{}),v),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&!1===e.fade){var w=u-h;w<=(0,o.getPreClones)(e)&&u!==e.slidesToShow&&((t=-w)>=c&&(d=f),g=b(y(y({},e),{},{index:t})),r.push(i.default.cloneElement(d,{key:"precloned"+k(d,t),"data-index":t,tabIndex:"-1",className:(0,a.default)(g,m),"aria-hidden":!g["slick-active"],style:y(y({},d.props.style||{}),v),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))),u!==e.slidesToShow&&((t=u+h)<l&&(d=f),g=b(y(y({},e),{},{index:t})),s.push(i.default.cloneElement(d,{key:"postcloned"+k(d,t),"data-index":t,tabIndex:"-1",className:(0,a.default)(g,m),"aria-hidden":!g["slick-active"],style:y(y({},d.props.style||{}),v),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})))}})),e.rtl?r.concat(n,s).reverse():r.concat(n,s)},x=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(o,e);var t,n,r,a=h(o);function o(){var e;c(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(p(e=a.call.apply(a,[this].concat(n))),"node",null),g(p(e),"handleRef",(function(t){e.node=t})),e}return t=o,(n=[{key:"render",value:function(){var e=w(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return i.default.createElement("div",u({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.default.PureComponent);t.Track=x},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=u,t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=t.extractObject=void 0;var r,i=(r=n(791))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){return Math.max(t,Math.min(e,n))}var c=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()};t.safePreventDefault=c;var l=function(e){for(var t=[],n=f(e),r=h(e),i=n;i<r;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t};t.getOnDemandLazySlides=l;t.getRequiredLazySlides=function(e){for(var t=[],n=f(e),r=h(e),i=n;i<r;i++)t.push(i);return t};var f=function(e){return e.currentSlide-d(e)};t.lazyStartIndex=f;var h=function(e){return e.currentSlide+p(e)};t.lazyEndIndex=h;var d=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};t.lazySlidesOnLeft=d;var p=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};t.lazySlidesOnRight=p;var v=function(e){return e&&e.offsetWidth||0};t.getWidth=v;var m=function(e){return e&&e.offsetHeight||0};t.getHeight=m;var y=function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(i=Math.round(180*r/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===a?i>=35&&i<=135?"up":"down":"vertical"};t.getSwipeDirection=y;var g=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};t.canGoNext=g;t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n};t.initializedState=function(e){var t,n=i.default.Children.count(e.children),r=e.listRef,a=Math.ceil(v(r)),s=e.trackRef&&e.trackRef.node,u=Math.ceil(v(s));if(e.vertical)t=a;else{var c=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(c*=a/100),t=Math.ceil((a-c)/e.slidesToShow)}var f=r&&m(r.querySelector('[data-index="0"]')),h=f*e.slidesToShow,d=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(d=n-1-e.initialSlide);var p=e.lazyLoadedList||[],y=l(o(o({},e),{},{currentSlide:d,lazyLoadedList:p})),g={slideCount:n,slideWidth:t,listWidth:a,trackWidth:u,currentSlide:d,slideHeight:f,listHeight:h,lazyLoadedList:p=p.concat(y)};return null===e.autoplaying&&e.autoplay&&(g.autoplaying="playing"),g};t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,i=e.infinite,a=e.index,s=e.slideCount,c=e.lazyLoad,f=e.currentSlide,h=e.centerMode,d=e.slidesToScroll,p=e.slidesToShow,v=e.useCSS,m=e.lazyLoadedList;if(t&&n)return{};var y,b,k,w=a,x={},T={},I=i?a:u(a,0,s-1);if(r){if(!i&&(a<0||a>=s))return{};a<0?w=a+s:a>=s&&(w=a-s),c&&m.indexOf(w)<0&&(m=m.concat(w)),x={animating:!0,currentSlide:w,lazyLoadedList:m,targetSlide:w},T={animating:!1,targetSlide:w}}else y=w,w<0?(y=w+s,i?s%d!==0&&(y=s-s%d):y=0):!g(e)&&w>f?w=y=f:h&&w>=s?(w=i?s:s-1,y=i?0:s-1):w>=s&&(y=w-s,i?s%d!==0&&(y=0):y=s-p),!i&&w+p>=s&&(y=s-p),b=E(o(o({},e),{},{slideIndex:w})),k=E(o(o({},e),{},{slideIndex:y})),i||(b===k&&(w=y),b=k),c&&(m=m.concat(l(o(o({},e),{},{currentSlide:w})))),v?(x={animating:!0,currentSlide:y,trackStyle:S(o(o({},e),{},{left:b})),lazyLoadedList:m,targetSlide:I},T={animating:!1,currentSlide:y,trackStyle:_(o(o({},e),{},{left:k})),swipeLeft:null,targetSlide:I}):x={currentSlide:y,trackStyle:_(o(o({},e),{},{left:k})),lazyLoadedList:m,targetSlide:I};return{state:x,nextState:T}};t.changeSlide=function(e,t){var n,r,i,a,s=e.slidesToScroll,u=e.slidesToShow,c=e.slideCount,l=e.currentSlide,f=e.targetSlide,h=e.lazyLoad,d=e.infinite;if(n=c%s!==0?0:(c-l)%s,"previous"===t.message)a=l-(i=0===n?s:u-n),h&&!d&&(a=-1===(r=l-i)?c-1:r),d||(a=f-s);else if("next"===t.message)a=l+(i=0===n?s:n),h&&!d&&(a=(l+s)%c+n),d||(a=f+s);else if("dots"===t.message)a=t.index*t.slidesToScroll;else if("children"===t.message){if(a=t.index,d){var p=O(o(o({},e),{},{targetSlide:a}));a>t.currentSlide&&"left"===p?a-=c:a<t.currentSlide&&"right"===p&&(a+=c)}}else"index"===t.message&&(a=Number(t.index));return a};t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""};t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&c(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,i=t.vertical,a=t.swipeToSlide,s=t.verticalSwiping,u=t.rtl,l=t.currentSlide,f=t.edgeFriction,h=t.edgeDragged,d=t.onEdge,p=t.swiped,v=t.swiping,m=t.slideCount,b=t.slidesToScroll,k=t.infinite,w=t.touchObject,x=t.swipeEvent,S=t.listHeight,T=t.listWidth;if(!n){if(r)return c(e);i&&a&&s&&c(e);var I,C={},O=E(t);w.curX=e.touches?e.touches[0].pageX:e.clientX,w.curY=e.touches?e.touches[0].pageY:e.clientY,w.swipeLength=Math.round(Math.sqrt(Math.pow(w.curX-w.startX,2)));var A=Math.round(Math.sqrt(Math.pow(w.curY-w.startY,2)));if(!s&&!v&&A>10)return{scrolling:!0};s&&(w.swipeLength=A);var P=(u?-1:1)*(w.curX>w.startX?1:-1);s&&(P=w.curY>w.startY?1:-1);var N=Math.ceil(m/b),R=y(t.touchObject,s),D=w.swipeLength;return k||(0===l&&("right"===R||"down"===R)||l+1>=N&&("left"===R||"up"===R)||!g(t)&&("left"===R||"up"===R))&&(D=w.swipeLength*f,!1===h&&d&&(d(R),C.edgeDragged=!0)),!p&&x&&(x(R),C.swiped=!0),I=i?O+D*(S/T)*P:u?O-D*P:O+D*P,s&&(I=O+D*P),C=o(o({},C),{},{touchObject:w,swipeLeft:I,trackStyle:_(o(o({},t),{},{left:I}))}),Math.abs(w.curX-w.startX)<.8*Math.abs(w.curY-w.startY)?C:(w.swipeLength>10&&(C.swiping=!0,c(e)),C)}};t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,i=t.touchObject,a=t.listWidth,s=t.touchThreshold,u=t.verticalSwiping,l=t.listHeight,f=t.swipeToSlide,h=t.scrolling,d=t.onSwipe,p=t.targetSlide,v=t.currentSlide,m=t.infinite;if(!n)return r&&c(e),{};var g=u?l/s:a/s,b=y(i,u),x={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h)return x;if(!i.swipeLength)return x;if(i.swipeLength>g){var _,T;c(e),d&&d(b);var I=m?v:p;switch(b){case"left":case"up":T=I+w(t),_=f?k(t,T):T,x.currentDirection=0;break;case"right":case"down":T=I-w(t),_=f?k(t,T):T,x.currentDirection=1;break;default:_=I}x.triggerSlideHandler=_}else{var C=E(t);x.trackStyle=S(o(o({},t),{},{left:C}))}return x};var b=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,i=[];n<t;)i.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return i};t.getNavigableIndexes=b;var k=function(e,t){var n=b(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=r;break}r=n[i]}return t};t.checkNavigable=k;var w=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every((function(r){if(e.vertical){if(r.offsetTop+m(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+v(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var a=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-a)||1}return e.slidesToScroll};t.getSlideCount=w;var x=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)};t.checkSpecKeys=x;var _=function(e){var t,n;x(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=C(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",u=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=o(o({},i),{},{WebkitTransform:a,transform:s,msTransform:u})}else e.vertical?i.top=e.left:i.left=e.left;return e.fade&&(i={opacity:1}),t&&(i.width=t),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i};t.getTrackCSS=_;var S=function(e){x(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=_(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};t.getTrackAnimateCSS=S;var E=function(e){if(e.unslick)return 0;x(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,i=e.trackRef,a=e.infinite,o=e.centerMode,s=e.slideCount,u=e.slidesToShow,c=e.slidesToScroll,l=e.slideWidth,f=e.listWidth,h=e.variableWidth,d=e.slideHeight,p=e.fade,v=e.vertical;if(p||1===e.slideCount)return 0;var m=0;if(a?(m=-T(e),s%c!==0&&r+c>s&&(m=-(r>s?u-(r-s):s%c)),o&&(m+=parseInt(u/2))):(s%c!==0&&r+c>s&&(m=u-s%c),o&&(m=parseInt(u/2))),t=v?r*d*-1+m*d:r*l*-1+m*l,!0===h){var y,g=i&&i.node;if(y=r+T(e),t=(n=g&&g.childNodes[y])?-1*n.offsetLeft:0,!0===o){y=a?r+T(e):r,n=g&&g.children[y],t=0;for(var b=0;b<y;b++)t-=g&&g.children[b]&&g.children[b].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(f-n.offsetWidth)/2}}return t};t.getTrackLeft=E;var T=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};t.getPreClones=T;var I=function(e){return e.unslick||!e.infinite?0:e.slideCount};t.getPostClones=I;var C=function(e){return 1===e.slideCount?1:T(e)+e.slideCount+I(e)};t.getTotalSlides=C;var O=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+A(e)?"left":"right":e.targetSlide<e.currentSlide-P(e)?"right":"left"};t.siblingDirection=O;var A=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r&&t%2===0&&(a+=1),a}return r?0:t-1};t.slidesOnRight=A;var P=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(i)>0&&(a+=1),r||t%2!==0||(a+=1),a}return r?t-1:0};t.slidesOnLeft=P;t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),O(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=O(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=O(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},R={transition:null},D={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},474:function(e,t,n){"use strict";n.r(t);var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,a="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&u()}function s(){o(a)}function u(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),l=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||a},h=g(0,0,0,0);function d(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+d(e["border-"+n+"-width"])}),0)}function v(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=f(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=d(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=d(r.width),u=d(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=p(r,"left","right")+a),Math.round(u+o)!==n&&(u-=p(r,"top","bottom")+o)),!function(e){return e===f(e).document.documentElement}(e)){var c=Math.round(s+a)-t,l=Math.round(u+o)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return g(i.left,i.top,s,u)}var m="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"===typeof e.getBBox};function y(e){return i?m(e)?function(e){var t=e.getBBox();return g(0,0,t.width,t.height)}(e):v(e):h}function g(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=y(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),k=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return l(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);l(this,{target:e,contentRect:n})},w=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new k(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),x="undefined"!==typeof WeakMap?new WeakMap:new r,_=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new w(t,n,this);x.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){_.prototype[e]=function(){var t;return(t=x.get(this))[e].apply(t,arguments)}}));var S="undefined"!==typeof a.ResizeObserver?a.ResizeObserver:_;t.default=S},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!O());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,T=-1,I=5,C=-1;function O(){return!(t.unstable_now()-C<I)}function A(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"===typeof b)_=function(){b(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,N=P.port2;P.port1.onmessage=A,_=function(){N.postMessage(null)}}else _=function(){y(A,0)};function R(e){E=e,S||(S=!0,_())}function D(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(T),T=-1):m=!0,D(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},806:function(e){e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return u((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".53b1f0e5.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="disney-plus-clone:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/disney-plus-react/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkdisney_plus_clone=self.webpackChunkdisney_plus_clone||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Fr},SDK_VERSION:function(){return Qi},_DEFAULT_ENTRY_NAME:function(){return Li},_addComponent:function(){return Ui},_addOrOverwriteComponent:function(){return zi},_apps:function(){return ji},_clearComponents:function(){return Hi},_components:function(){return Fi},_getProvider:function(){return Bi},_registerComponent:function(){return Vi},_removeServiceInstance:function(){return qi},deleteApp:function(){return Ji},getApp:function(){return Xi},getApps:function(){return Yi},initializeApp:function(){return $i},onLog:function(){return ta},registerVersion:function(){return ea},setLogLevel:function(){return na}});var t=n(791),r=n.t(t,2),i=n(250),a=n(248),o=n(327),s=n(164);var u=function(e){e()},c=function(){return u},l=(0,t.createContext)(null);function f(){return(0,t.useContext)(l)}var h=function(){throw new Error("uSES not initialized!")},d=h,p=function(e,t){return e===t};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=e===l?f:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;var i=n(),a=i.store,o=i.subscription,s=i.getServerState,u=d(o.addNestedSub,a.getState,s||a.getState,e,r);return(0,t.useDebugValue)(u),u}}var m=v(),y=n(110),g=n.n(y);n(900);var b={notify:function(){},get:function(){return[]}};function k(e,t){var n,r=b;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=c(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=b)},getListeners:function(){return r}};return o}var w=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var x=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=k(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),s=(0,t.useMemo)((function(){return n.getState()}),[n]);w((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var u=r||l;return t.createElement(u.Provider,{value:o},i)};function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=e===l?f:function(){return(0,t.useContext)(e)};return function(){return n().store}}var S=_();function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=e===l?S:_(e);return function(){return t().dispatch}}var T,I=E();function C(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function O(e){return!!e&&!!e[ge]}function A(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===be}(e)||Array.isArray(e)||!!e[ye]||!!e.constructor[ye]||j(e)||F(e))}function P(e,t,n){void 0===n&&(n=!1),0===N(e)?(n?Object.keys:ke)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function N(e){var t=e[ge];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:j(e)?2:F(e)?3:0}function R(e,t){return 2===N(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function D(e,t){return 2===N(e)?e.get(t):e[t]}function L(e,t,n){var r=N(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function M(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function j(e){return de&&e instanceof Map}function F(e){return pe&&e instanceof Set}function U(e){return e.o||e.t}function z(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=we(e);delete t[ge];for(var n=ke(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function V(e,t){return void 0===t&&(t=!1),q(e)||O(e)||!A(e)||(N(e)>1&&(e.set=e.add=e.clear=e.delete=B),Object.freeze(e),t&&P(e,(function(e,t){return V(t,!0)}),!0)),e}function B(){C(2)}function q(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function H(e){var t=xe[e];return t||C(18,e),t}function W(e,t){xe[e]||(xe[e]=t)}function K(){return fe}function G(e,t){t&&(H("Patches"),e.u=[],e.s=[],e.v=t)}function Q(e){$(e),e.p.forEach(Y),e.p=null}function $(e){e===fe&&(fe=e.l)}function X(e){return fe={p:[],l:fe,h:e,m:!0,_:0}}function Y(e){var t=e[ge];0===t.i||1===t.i?t.j():t.O=!0}function J(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||H("ES5").S(t,e,r),r?(n[ge].P&&(Q(t),C(4)),A(e)&&(e=Z(t,e),t.l||te(t,e)),t.u&&H("Patches").M(n[ge].t,e,t.u,t.s)):e=Z(t,n,[]),Q(t),t.u&&t.v(t.u,t.s),e!==me?e:void 0}function Z(e,t,n){if(q(t))return t;var r=t[ge];if(!r)return P(t,(function(i,a){return ee(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return te(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=z(r.k):r.o;P(3===r.i?new Set(i):i,(function(t,a){return ee(e,r,i,t,a,n)})),te(e,i,!1),n&&e.u&&H("Patches").R(r,n,e.u,e.s)}return r.o}function ee(e,t,n,r,i,a){if(O(i)){var o=Z(e,i,a&&t&&3!==t.i&&!R(t.D,r)?a.concat(r):void 0);if(L(n,r,o),!O(o))return;e.m=!1}if(A(i)&&!q(i)){if(!e.h.F&&e._<1)return;Z(e,i),t&&t.A.l||te(e,i)}}function te(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&V(t,n)}function ne(e,t){var n=e[ge];return(n?U(n):e)[t]}function re(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ie(e){e.P||(e.P=!0,e.l&&ie(e.l))}function ae(e){e.o||(e.o=z(e.t))}function oe(e,t,n){var r=j(t)?H("MapSet").N(t,n):F(t)?H("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:K(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=_e;n&&(i=[r],a=Se);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):H("ES5").J(t,n);return(n?n.A:K()).p.push(r),r}function se(e){return O(e)||C(22,e),function e(t){if(!A(t))return t;var n,r=t[ge],i=N(t);if(r){if(!r.P&&(r.i<4||!H("ES5").K(r)))return r.t;r.I=!0,n=ue(t,i),r.I=!1}else n=ue(t,i);return P(n,(function(t,i){r&&D(r.t,t)===i||L(n,t,e(i))})),3===i?new Set(n):n}(e)}function ue(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return z(e)}function ce(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[ge];return _e.get(t,e)},set:function(t){var n=this[ge];_e.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][ge];if(!i.P)switch(i.i){case 5:r(i)&&ie(i);break;case 4:n(i)&&ie(i)}}}function n(e){for(var t=e.t,n=e.k,r=ke(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==ge){var o=t[a];if(void 0===o&&!R(t,a))return!0;var s=n[a],u=s&&s[ge];if(u?u.t!==o:!M(s,o))return!0}}var c=!!t[ge];return r.length!==ke(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};W("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=we(n);delete a[ge];for(var o=ke(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:K(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,ge,{value:a,writable:!0}),i},S:function(e,n,i){i?O(n)&&n[ge].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[ge];if(n){var i=n.t,a=n.k,o=n.D,s=n.i;if(4===s)P(a,(function(t){t!==ge&&(void 0!==i[t]||R(i,t)?o[t]||e(a[t]):(o[t]=!0,ie(n)))})),P(i,(function(e){void 0!==a[e]||R(a,e)||(o[e]=!1,ie(n))}));else if(5===s){if(r(n)&&(ie(n),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){d=e}(o.useSyncExternalStoreWithSelector),function(e){e}(a.useSyncExternalStore),T=s.unstable_batchedUpdates,u=T;var le,fe,he="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),de="undefined"!=typeof Map,pe="undefined"!=typeof Set,ve="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,me=he?Symbol.for("immer-nothing"):((le={})["immer-nothing"]=!0,le),ye=he?Symbol.for("immer-draftable"):"__$immer_draftable",ge=he?Symbol.for("immer-state"):"__$immer_state",be=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ke="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,we=Object.getOwnPropertyDescriptors||function(e){var t={};return ke(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},xe={},_e={get:function(e,t){if(t===ge)return e;var n=U(e);if(!R(n,t))return function(e,t,n){var r,i=re(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!A(r)?r:r===ne(e.t,t)?(ae(e),e.o[t]=oe(e.A.h,r,e)):r},has:function(e,t){return t in U(e)},ownKeys:function(e){return Reflect.ownKeys(U(e))},set:function(e,t,n){var r=re(U(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=ne(U(e),t),a=null==i?void 0:i[ge];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(M(n,i)&&(void 0!==n||R(e.t,t)))return!0;ae(e),ie(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==ne(e.t,t)||t in e.t?(e.D[t]=!1,ae(e),ie(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=U(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){C(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){C(12)}},Se={};P(_e,(function(e,t){Se[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Se.deleteProperty=function(e,t){return Se.set.call(this,e,t,void 0)},Se.set=function(e,t,n){return _e.set.call(this,e[0],t,n,e[0])};var Ee=function(){function e(e){var t=this;this.g=ve,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&C(6),void 0!==r&&"function"!=typeof r&&C(7),A(e)){var s=X(t),u=oe(t,e,void 0),c=!0;try{o=n(u),c=!1}finally{c?Q(s):$(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return G(s,r),J(e,s)}),(function(e){throw Q(s),e})):(G(s,r),J(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===me&&(o=void 0),t.F&&V(o,!0),r){var l=[],f=[];H("Patches").M(e,o,l,f),r(l,f)}return o}C(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){A(e)||C(8),O(e)&&(e=se(e));var t=X(this),n=oe(this,e,void 0);return n[ge].C=!0,$(t),n},t.finishDraft=function(e,t){var n=(e&&e[ge]).A;return G(n,t),J(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ve&&C(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=H("Patches").$;return O(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Te=new Ee,Ie=Te.produce,Ce=(Te.produceWithPatches.bind(Te),Te.setAutoFreeze.bind(Te),Te.setUseProxies.bind(Te),Te.applyPatches.bind(Te),Te.createDraft.bind(Te),Te.finishDraft.bind(Te),Ie);function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Re="function"===typeof Symbol&&Symbol.observable||"@@observable",De=function(){return Math.random().toString(36).substring(7).split("").join(".")},Le={INIT:"@@redux/INIT"+De(),REPLACE:"@@redux/REPLACE"+De(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+De()}};function Me(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function je(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Ne(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Ne(1));return n(je)(e,t)}if("function"!==typeof e)throw new Error(Ne(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(Ne(3));return a}function f(e){if("function"!==typeof e)throw new Error(Ne(4));if(u)throw new Error(Ne(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(Ne(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function h(e){if(!Me(e))throw new Error(Ne(7));if("undefined"===typeof e.type)throw new Error(Ne(8));if(u)throw new Error(Ne(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(Ne(10));i=e,h({type:Le.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Ne(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Re]=function(){return this},e}return h({type:Le.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[Re]=p,r}function Fe(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Le.INIT}))throw new Error(Ne(12));if("undefined"===typeof n(void 0,{type:Le.PROBE_UNKNOWN_ACTION()}))throw new Error(Ne(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(Ne(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function Ue(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function ze(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Ne(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Ue.apply(void 0,a)(n.dispatch),Pe(Pe({},n),{},{dispatch:r})}}}function Ve(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Be=Ve();Be.withExtraArgument=Ve;var qe=Be,He=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),We=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Ke=Object.defineProperty,Ge=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Qe=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable,Xe=function(e,t,n){return t in e?Ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ye=function(e,t){for(var n in t||(t={}))Qe.call(t,n)&&Xe(e,n,t[n]);if(Ge)for(var r=0,i=Ge(t);r<i.length;r++){n=i[r];$e.call(t,n)&&Xe(e,n,t[n])}return e},Je="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Ue:Ue.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ze(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var et=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return He(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,We([void 0],e[0].concat(this)))):new(t.bind.apply(t,We([void 0],e.concat(this))))},t}(Array);function tt(e){return A(e)?Ce(e,(function(){})):e}function nt(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new et);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(qe.withExtraArgument(n.extraArgument)):r.push(qe));0;return r}(e)}}function rt(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Ye(Ye({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function it(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function at(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:tt(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},s={},u={};function c(){var t="function"===typeof e.extraReducers?it(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,u=t[2],c=void 0===u?void 0:u,l=Ye(Ye({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?it(t):[t,n,r],o=a[0],s=a[1],u=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return tt(e())};else{var c=tt(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=We([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(O(e))return void 0===(r=n(e,t))?e:r;if(A(e))return Ce(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,l,o,c)}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[c]=n,u[e]=r?rt(c,r):rt(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}Object.assign;var ot="listenerMiddleware";rt(ot+"/add"),rt(ot+"/removeAll"),rt(ot+"/remove");ce();var st=at({name:"movie",initialState:{popular:[],hollywood:[],newTo:[],kidsTv:[],original:[],trending:[]},reducers:{setmovies:function(e,t){e.popular=t.payload.popular,e.hollywood=t.payload.hollywood,e.newTo=t.payload.newTo,e.kidsTv=t.payload.kidsTv,e.original=t.payload.original,e.trending=t.payload.trending}}}),ut=st.actions.setmovies,ct=function(e){return e.movie.popular},lt=function(e){return e.movie.hollywood},ft=function(e){return e.movie.newTo},ht=function(e){return e.movie.kidsTv},dt=function(e){return e.movie.original},pt=function(e){return e.movie.trending},vt=st.reducer,mt=at({name:"user",initialState:{name:"",email:"",photo:""},reducers:{setlogin:function(e,t){e.name=t.payload.name,e.email=t.payload.email,e.photo=t.payload.photo},setsignout:function(e){e.name=null,e.email=null,e.photo=null}}}),yt=mt.actions,gt=yt.setlogin,bt=yt.setsignout,kt=function(e){return e.user.name},wt=function(e){return e.user.photo},xt=function(e){var t,n=nt(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!Ze(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Fe(a)}var p=s;"function"===typeof p&&(p=p(n));var v=ze.apply(void 0,p),m=Ue;c&&(m=Je(Ye({trace:!1},"object"===typeof c&&c)));var y=[v];return Array.isArray(d)?y=We([v],d):"function"===typeof d&&(y=d(y)),je(t,f,m.apply(void 0,y))}({reducer:{movie:vt,user:mt.reducer}});function _t(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function St(e){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(e)}function Et(){Et=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(S([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==St(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,s(y,"constructor",d),s(d,"constructor",h),h.displayName=s(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),s(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),s(y,o,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Tt(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function It(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Tt(a,r,i,o,s,"next",e)}function s(e){Tt(a,r,i,o,s,"throw",e)}o(void 0)}))}}function Ct(e){if(Array.isArray(e))return e}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function At(e,t){if(e){if("string"===typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}function Pt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Nt(e,t){return Ct(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||At(e,t)||Pt()}var Rt=n(441),Dt=n(613),Lt=n.n(Dt);var Mt=function(e){function t(e,r,u,c,h){for(var d,p,v,m,k,x=0,_=0,S=0,E=0,T=0,N=0,D=v=d=0,M=0,j=0,F=0,U=0,z=u.length,V=z-1,B="",q="",H="",W="";M<z;){if(p=u.charCodeAt(M),M===V&&0!==_+E+S+x&&(0!==_&&(p=47===_?10:47),E=S=x=0,z++,V++),0===_+E+S+x){if(M===V&&(0<j&&(B=B.replace(f,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=u.charAt(M)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,U=++M;M<z;){switch(p=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<V;++D)switch(u.charCodeAt(D)){case 47:if(42===p&&42===u.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<V&&u.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=u.substring(U,M),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<j&&(B=B.replace(f,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:j=r;break;default:j=P}if(U=(v=t(r,j,v,p,h+1)).length,0<R&&(k=s(3,v,j=n(P,B,F),r,C,I,U,p,h,c),B=j.join(""),void 0!==k&&0===(U=(v=k.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:B=B.replace(w,o);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(y,"$1 $2"))+"{"+v+"}",v=1===A||2===A&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,B,F),v,c,h+1);H+=v,v=F=j=D=d=0,B="",p=u.charCodeAt(++M);break;case 125:case 59:if(1<(U=(B=(0<j?B.replace(f,""):B).trim()).length))switch(0===D&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(U=(B=B.replace(" ",":")).length),0<R&&void 0!==(k=s(1,B,r,e,C,I,q.length,c,h,c))&&0===(U=(B=k.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=B+u.charAt(M);break}default:58!==B.charCodeAt(U-1)&&(q+=i(B,d,p,B.charCodeAt(2)))}F=j=D=d=0,B="",p=u.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<B.length&&(j=1,B+="\0"),0<R*L&&s(0,B,r,e,C,I,q.length,c,h,c),I=1,C++;break;case 59:case 125:if(0===_+E+S+x){I++;break}default:switch(I++,m=u.charAt(M),p){case 9:case 32:if(0===E+x+_)switch(T){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===E+_+x&&(j=F=1,m="\f"+m);break;case 108:if(0===E+_+x+O&&0<D)switch(M-D){case 2:112===T&&58===u.charCodeAt(M-3)&&(O=T);case 8:111===N&&(O=N)}break;case 58:0===E+_+x&&(D=M);break;case 44:0===_+S+E+x&&(j=1,m+="\r");break;case 34:case 39:0===_&&(E=E===p?0:0===E?p:E);break;case 91:0===E+_+S&&x++;break;case 93:0===E+_+S&&x--;break;case 41:0===E+_+x&&S--;break;case 40:if(0===E+_+x){if(0===d)if(2*T+3*N===533);else d=1;S++}break;case 64:0===_+S+E+x+D+v&&(v=1);break;case 42:case 47:if(!(0<E+x+S))switch(_){case 0:switch(2*p+3*u.charCodeAt(M+1)){case 235:_=47;break;case 220:U=M,_=42}break;case 42:47===p&&42===T&&U+2!==M&&(33===u.charCodeAt(U+2)&&(q+=u.substring(U,M+1)),m="",_=0)}}0===_&&(B+=m)}N=T,T=p,M++}if(0<(U=q.length)){if(j=r,0<R&&(void 0!==(k=s(2,q,j,e,C,I,U,c,h,c))&&0===(q=k).length))return W+q+H;if(q=j.join(",")+"{"+q+"}",0!==A*O){switch(2!==A||a(q,2)||(O=0),O){case 111:q=q.replace(b,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}O=0}}return W+q+H}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===A||2===A&&a(u,1)?"-webkit-"+u+u:u}if(0===A||2===A&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(T,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(k,"tb");break;case 232:u=o.replace(k,"tb-rl");break;case 220:u=o.replace(k,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,l){for(var f,h=0,d=t;h<R;++h)switch(f=N[h].call(c,e,d,n,r,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?A=1:(A=2,D=e):A=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=s(-1,n,r,r,C,I,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(P,r,n,0,0);return 0<R&&(void 0!==(i=s(-2,a,r,r,C,I,a.length,0,0,0))&&(a=i)),"",O=0,I=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,b=/:(read-only)/g,k=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,I=1,C=1,O=0,A=1,P=[],N=[],R=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:R=N.length=0;break;default:if("function"===typeof t)N[R++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},jt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Ft=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Ut=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,zt=Ft((function(e){return Ut.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function Vt(){return(Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Bt=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},qt=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Rt.typeOf)(e)},Ht=Object.freeze([]),Wt=Object.freeze({});function Kt(e){return"function"==typeof e}function Gt(e){return e.displayName||e.name||"Component"}function Qt(e){return e&&"string"==typeof e.styledComponentId}var $t="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/disney-plus-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/disney-plus-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",Xt="undefined"!=typeof window&&"HTMLElement"in window,Yt=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/disney-plus-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/disney-plus-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/disney-plus-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/disney-plus-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/disney-plus-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/disney-plus-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/disney-plus-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/disney-plus-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function Jt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Zt=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Jt(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),en=new Map,tn=new Map,nn=1,rn=function(e){if(en.has(e))return en.get(e);for(;tn.has(nn);)nn++;var t=nn++;return en.set(e,t),tn.set(t,e),t},an=function(e){return tn.get(e)},on=function(e,t){t>=nn&&(nn=t+1),en.set(e,t),tn.set(t,e)},sn="style["+$t+'][data-styled-version="5.3.6"]',un=new RegExp("^"+$t+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),cn=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},ln=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(un);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(on(c,u),cn(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},fn=function(){return n.nc},hn=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute($t))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute($t,"active"),r.setAttribute("data-styled-version","5.3.6");var o=fn();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},dn=function(){function e(e){var t=this.element=hn(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Jt(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),pn=function(){function e(e){var t=this.element=hn(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),vn=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),mn=Xt,yn={isServer:!Xt,useCSSOMInjection:!Yt},gn=function(){function e(e,t,n){void 0===e&&(e=Wt),void 0===t&&(t={}),this.options=Vt({},yn,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Xt&&mn&&(mn=!1,function(e){for(var t=document.querySelectorAll(sn),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute($t)&&(ln(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return rn(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Vt({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new vn(i):r?new dn(i):new pn(i),new Zt(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(rn(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(rn(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(rn(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=an(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=$t+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),bn=/(a)(d)/gi,kn=function(e){return String.fromCharCode(e+(e>25?39:97))};function wn(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=kn(t%52)+n;return(kn(t%52)+n).replace(bn,"$1-$2")}var xn=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},_n=function(e){return xn(5381,e)};function Sn(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Kt(n)&&!Qt(n))return!1}return!0}var En=_n("5.3.6"),Tn=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Sn(e),this.componentId=t,this.baseHash=xn(En,t),this.baseStyle=n,gn.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=Hn(this.rules,e,t,n).join(""),o=wn(xn(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,c=xn(this.baseHash,n.hash),l="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=Hn(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=xn(c,p+f),l+=p}}if(l){var v=wn(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),In=/^\s*\/\/.*$/gm,Cn=[":","[",".","#"];function On(e){var t,n,r,i,a=void 0===e?Wt:e,o=a.options,s=void 0===o?Wt:o,u=a.plugins,c=void 0===u?Ht:u,l=new Mt(s),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==Cn.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var u=e.replace(In,""),c=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||Jt(15),xn(e,t.name)}),5381).toString():"",p}var An=t.createContext(),Pn=(An.Consumer,t.createContext()),Nn=(Pn.Consumer,new gn),Rn=On();function Dn(){return(0,t.useContext)(An)||Nn}function Ln(){return(0,t.useContext)(Pn)||Rn}function Mn(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=Dn(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,t.useMemo)((function(){return On({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){Lt()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(An.Provider,{value:o},t.createElement(Pn.Provider,{value:s},e.children))}var jn=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Rn);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Jt(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Rn),this.name+e.hash},e}(),Fn=/([A-Z])/,Un=/([A-Z])/g,zn=/^ms-/,Vn=function(e){return"-"+e.toLowerCase()};function Bn(e){return Fn.test(e)?e.replace(Un,Vn).replace(zn,"-ms-"):e}var qn=function(e){return null==e||!1===e||""===e};function Hn(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=Hn(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return qn(e)?"":Qt(e)?"."+e.styledComponentId:Kt(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:Hn(e(t),t,n,r):e instanceof jn?n?(e.inject(n,r),e.getName(r)):e:qt(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!qn(t[o])&&(Array.isArray(t[o])&&t[o].isCss||Kt(t[o])?a.push(Bn(o)+":",t[o],";"):qt(t[o])?a.push.apply(a,e(t[o],o)):a.push(Bn(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in jt?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}var Wn=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Kn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Kt(e)||qt(e)?Wn(Hn(Bt(Ht,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Wn(Hn(Bt(e,n)))}new Set;var Gn=function(e,t,n){return void 0===n&&(n=Wt),e.theme!==n.theme&&e.theme||t||n.theme},Qn=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,$n=/(^-|-$)/g;function Xn(e){return e.replace(Qn,"-").replace($n,"")}var Yn=function(e){return wn(_n(e)>>>0)};function Jn(e){return"string"==typeof e&&!0}var Zn=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},er=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function tr(e,t,n){var r=e[n];Zn(t)&&Zn(r)?nr(r,t):e[n]=t}function nr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Zn(o))for(var s in o)er(s)&&tr(e,o[s],s)}return e}var rr=t.createContext();rr.Consumer;var ir={};function ar(e,n,r){var i=Qt(e),a=!Jn(e),o=n.attrs,s=void 0===o?Ht:o,u=n.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Xn(e);ir[n]=(ir[n]||0)+1;var r=n+"-"+Yn("5.3.6"+n+ir[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):u,l=n.displayName,f=void 0===l?function(e){return Jn(e)?"styled."+e:"Styled("+Gt(e)+")"}(e):l,h=n.displayName&&n.componentId?Xn(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=n.shouldForwardProp;i&&e.shouldForwardProp&&(p=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var v,m=new Tn(r,h,i?e.componentStyle:void 0),y=m.isStatic&&0===s.length,b=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=Wt);var r=Vt({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in Kt(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(Gn(n,(0,t.useContext)(rr),s)||Wt,n,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=Dn(),a=Ln();return t?e.generateAndInjectStyles(Wt,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=r,y=p.$as||n.$as||p.as||n.as||f,g=Jn(y),b=p!==n?Vt({},n,{},p):n,k={};for(var w in b)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?k.as=b[w]:(c?c(w,zt,y):!g||zt(w))&&(k[w]=b[w]));return n.style&&p.style!==n.style&&(k.style=Vt({},n.style,{},p.style)),k.className=Array.prototype.concat(u,l,v!==l?v:null,n.className,p.className).filter(Boolean).join(" "),k.ref=m,(0,t.createElement)(y,k)}(v,e,n,y)};return b.displayName=f,(v=t.forwardRef(b)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Ht,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(Jn(e)?e:Xn(Gt(e)));return ar(e,Vt({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?nr({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&g()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var or=function(e){return function e(t,n,r){if(void 0===r&&(r=Wt),!(0,Rt.isValidElementType)(n))return Jt(1,String(n));var i=function(){return t(n,r,Kn.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,Vt({},r,{},i))},i.attrs=function(i){return e(t,n,Vt({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(ar,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){or[e]=or(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Sn(e),gn.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(Hn(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&gn.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=fn();return"<style "+[n&&'nonce="'+n+'"',$t+'="true"','data-styled-version="5.3.6"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?Jt(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return Jt(2);var r=((n={})[$t]="",n["data-styled-version"]="5.3.6",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=fn();return i&&(r.nonce=i),[t.createElement("style",Vt({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new gn({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?Jt(2):t.createElement(Mn,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return Jt(3)}}();var sr=or;function ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t,n){return t&&cr(e.prototype,t),n&&cr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=At(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function hr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dr(e,t){return dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dr(e,t)}function pr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dr(e,t)}function vr(e){return vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vr(e)}function mr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function yr(e,t){if(t&&("object"===St(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hr(e)}function gr(e){var t=mr();return function(){var n,r=vr(e);if(t){var i=vr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yr(this,n)}}function br(e,t,n){return br=mr()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&dr(i,n.prototype),i},br.apply(null,arguments)}function kr(e){var t="function"===typeof Map?new Map:void 0;return kr=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return br(e,arguments,vr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),dr(n,e)},kr(e)}var wr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},xr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(wr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new _r;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},_r=function(e){pr(n,e);var t=gr(n);function n(){var e;return ur(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return lr(n)}(kr(Error)),Sr=function(e){return function(e){var t=wr(e);return xr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Er=function(e){try{return xr.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Tr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Tr(e[n],t[n]));return e}var Ir=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Cr=function(){try{return Ir()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/disney-plus-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Er(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Or=function(){var e;return null===(e=Cr())||void 0===e?void 0:e.config},Ar=function(){function e(){var t=this;ur(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return lr(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Pr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Sr(JSON.stringify({alg:"none",type:"JWT"})),Sr(JSON.stringify(a)),""].join(".")}function Nr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Rr(){var e,t=null===(e=Cr())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Dr(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Lr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Mr(){var e=Nr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function jr(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Fr=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a;return ur(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(hr(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(hr(a),Ur.prototype.create),a}return lr(n)}(kr(Error)),Ur=function(){function e(t,n,r){ur(this,e),this.service=t,this.serviceName=n,this.errors=r}return lr(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?zr(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Fr(n,a,t);return o}}]),e}();function zr(e,t){return e.replace(Vr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Vr=/\{\$([^}]+)}/g;function Br(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qr(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Hr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Wr(s)&&Wr(u)){if(!Hr(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Wr(e){return null!==e&&"object"===typeof e}function Kr(e){for(var t=[],n=function(){var e=Nt(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Gr(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Nt(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Qr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function $r(e,t){var n=new Xr(e,t);return n.subscribe.bind(n)}var Xr=function(){function e(t,n){var r=this;ur(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return lr(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=fr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Yr),void 0===r.error&&(r.error=Yr),void 0===r.complete&&(r.complete=Yr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Yr(){}function Jr(e){return e&&e._delegate?e._delegate:e}function Zr(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ei(e){return function(e){if(Array.isArray(e))return Ot(e)}(e)||Zr(e)||At(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ti=function(){function e(t,n,r){ur(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return lr(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ni="[DEFAULT]",ri=function(){function e(t,n){ur(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return lr(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ar;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ni})}catch(u){}var t,n=fr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Nt(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ei(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ei(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=fr(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=Nt(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=fr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(UI){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ni?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(UI){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni;return this.component?this.component.multipleInstances?e:ni:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ii,ai,oi=function(){function e(t){ur(this,e),this.name=t,this.providers=new Map}return lr(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ri(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),si=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ai||(ai={}));var ui={debug:ai.DEBUG,verbose:ai.VERBOSE,info:ai.INFO,warn:ai.WARN,error:ai.ERROR,silent:ai.SILENT},ci=ai.INFO,li=(Oe(ii={},ai.DEBUG,"log"),Oe(ii,ai.VERBOSE,"log"),Oe(ii,ai.INFO,"info"),Oe(ii,ai.WARN,"warn"),Oe(ii,ai.ERROR,"error"),ii),fi=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=li[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},hi=function(){function e(t){ur(this,e),this.name=t,this._logLevel=ci,this._logHandler=fi,this._userLogHandler=null,si.push(this)}return lr(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ai))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ui[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ai.DEBUG].concat(t)),this._logHandler.apply(this,[this,ai.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ai.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ai.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ai.INFO].concat(t)),this._logHandler.apply(this,[this,ai.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ai.WARN].concat(t)),this._logHandler.apply(this,[this,ai.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ai.ERROR].concat(t)),this._logHandler.apply(this,[this,ai.ERROR].concat(t))}}]),e}();var di,pi;var vi=new WeakMap,mi=new WeakMap,yi=new WeakMap,gi=new WeakMap,bi=new WeakMap;var ki={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return mi.get(e);if("objectStoreNames"===t)return e.objectStoreNames||yi.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _i(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function wi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(pi||(pi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Si(this),n),_i(vi.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _i(e.apply(Si(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Si(this),t].concat(r));return yi.set(a,t.sort?t.sort():[t]),_i(a)}}function xi(e){return"function"===typeof e?wi(e):(e instanceof IDBTransaction&&function(e){if(!mi.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));mi.set(e,t)}}(e),t=e,(di||(di=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,ki):e);var t}function _i(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(_i(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&vi.set(t,e)})).catch((function(){})),bi.set(t,e),t}(e);if(gi.has(e))return gi.get(e);var t=xi(e);return t!==e&&(gi.set(e,t),bi.set(t,e)),t}var Si=function(e){return bi.get(e)};var Ei,Ti,Ii=["get","getKey","getAll","getAllKeys","count"],Ci=["put","add","delete","clear"],Oi=new Map;function Ai(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Oi.get(t))return Oi.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ci.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ii.includes(n))){var a=function(){var e=It(Et().mark((function e(t){var a,o,s,u,c,l,f=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Oi.set(t,a),a}}}ki=function(e){return Pe(Pe({},e),{},{get:function(t,n,r){return Ai(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ai(t,n)||e.has(t,n)}})}(ki);var Pi=function(){function e(t){ur(this,e),this.container=t}return lr(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ni="@firebase/app",Ri="0.9.9",Di=new hi("@firebase/app"),Li="[DEFAULT]",Mi=(Oe(Ei={},Ni,"fire-core"),Oe(Ei,"@firebase/app-compat","fire-core-compat"),Oe(Ei,"@firebase/analytics","fire-analytics"),Oe(Ei,"@firebase/analytics-compat","fire-analytics-compat"),Oe(Ei,"@firebase/app-check","fire-app-check"),Oe(Ei,"@firebase/app-check-compat","fire-app-check-compat"),Oe(Ei,"@firebase/auth","fire-auth"),Oe(Ei,"@firebase/auth-compat","fire-auth-compat"),Oe(Ei,"@firebase/database","fire-rtdb"),Oe(Ei,"@firebase/database-compat","fire-rtdb-compat"),Oe(Ei,"@firebase/functions","fire-fn"),Oe(Ei,"@firebase/functions-compat","fire-fn-compat"),Oe(Ei,"@firebase/installations","fire-iid"),Oe(Ei,"@firebase/installations-compat","fire-iid-compat"),Oe(Ei,"@firebase/messaging","fire-fcm"),Oe(Ei,"@firebase/messaging-compat","fire-fcm-compat"),Oe(Ei,"@firebase/performance","fire-perf"),Oe(Ei,"@firebase/performance-compat","fire-perf-compat"),Oe(Ei,"@firebase/remote-config","fire-rc"),Oe(Ei,"@firebase/remote-config-compat","fire-rc-compat"),Oe(Ei,"@firebase/storage","fire-gcs"),Oe(Ei,"@firebase/storage-compat","fire-gcs-compat"),Oe(Ei,"@firebase/firestore","fire-fst"),Oe(Ei,"@firebase/firestore-compat","fire-fst-compat"),Oe(Ei,"fire-js","fire-js"),Oe(Ei,"firebase","fire-js-all"),Ei),ji=new Map,Fi=new Map;function Ui(e,t){try{e.container.addComponent(t)}catch(n){Di.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function zi(e,t){e.container.addOrOverwriteComponent(t)}function Vi(e){var t=e.name;if(Fi.has(t))return Di.debug("There were multiple attempts to register component ".concat(t,".")),!1;Fi.set(t,e);var n,r=fr(ji.values());try{for(r.s();!(n=r.n()).done;){Ui(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Bi(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Li;Bi(e,t).clearInstance(n)}function Hi(){Fi.clear()}var Wi=(Oe(Ti={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Oe(Ti,"bad-app-name","Illegal App name: '{$appName}"),Oe(Ti,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Oe(Ti,"app-deleted","Firebase App named '{$appName}' already deleted"),Oe(Ti,"no-options","Need to provide options, when not being deployed to hosting via source."),Oe(Ti,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Oe(Ti,"invalid-log-argument","First argument to `onLog` must be null or a function."),Oe(Ti,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Oe(Ti,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Oe(Ti,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Oe(Ti,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Ti),Ki=new Ur("app","Firebase",Wi),Gi=function(){function e(t,n,r){var i=this;ur(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ti("app",(function(){return i}),"PUBLIC"))}return lr(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}]),e}(),Qi="9.21.0";function $i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:Li,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Ki.create("bad-app-name",{appName:String(a)});if(n||(n=Or()),!n)throw Ki.create("no-options");var o=ji.get(a);if(o){if(Hr(n,o.options)&&Hr(i,o.config))return o;throw Ki.create("duplicate-app",{appName:a})}var s,u=new oi(a),c=fr(Fi.values());try{for(c.s();!(s=c.n()).done;){var l=s.value;u.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new Gi(n,i,u);return ji.set(a,f),f}function Xi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Li,t=ji.get(e);if(!t&&e===Li)return $i();if(!t)throw Ki.create("no-app",{appName:e});return t}function Yi(){return Array.from(ji.values())}function Ji(e){return Zi.apply(this,arguments)}function Zi(){return Zi=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ji.has(n)){e.next=6;break}return ji.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Zi.apply(this,arguments)}function ea(e,t,n){var r,i=null!==(r=Mi[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Di.warn(s.join(" "))}Vi(new ti("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ta(e,t){if(null!==e&&"function"!==typeof e)throw Ki.create("invalid-log-argument");!function(e,t){var n,r=fr(si);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ui[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ai[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function na(e){var t;t=e,si.forEach((function(e){e.setLogLevel(t)}))}var ra="firebase-heartbeat-store",ia=null;function aa(){return ia||(ia=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=_i(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(_i(s.result),e.oldVersion,e.newVersion,_i(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(ra)}}).catch((function(e){throw Ki.create("idb-open",{originalErrorMessage:e.message})}))),ia}function oa(e){return sa.apply(this,arguments)}function sa(){return sa=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,aa();case 3:return n=e.sent,e.abrupt("return",n.transaction(ra).objectStore(ra).get(la(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Fr?Di.warn(e.t0.message):(r=Ki.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Di.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),sa.apply(this,arguments)}function ua(e,t){return ca.apply(this,arguments)}function ca(){return ca=It(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,aa();case 3:return r=e.sent,i=r.transaction(ra,"readwrite"),a=i.objectStore(ra),e.next=8,a.put(n,la(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Fr?Di.warn(e.t0.message):(o=Ki.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Di.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),ca.apply(this,arguments)}function la(e){return"".concat(e.name,"!").concat(e.options.appId)}var fa=function(){function e(t){var n=this;ur(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ma(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return lr(e,[{key:"triggerHeartbeat",value:function(){var e=It(Et().mark((function e(){var t,n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=ha(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=It(Et().mark((function e(){var t,n,r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=ha(),n=da(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Sr(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ha(){return(new Date).toISOString().substring(0,10)}function da(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=fr(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ya(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ya(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var pa,va,ma=function(){function e(t){ur(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return lr(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jr()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,oa(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ua(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ua(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(ei(r.heartbeats),ei(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ya(e){return Sr(JSON.stringify({version:2,heartbeats:e})).length}pa="",Vi(new ti("platform-logger",(function(e){return new Pi(e)}),"PRIVATE")),Vi(new ti("heartbeat",(function(e){return new fa(e)}),"PRIVATE")),ea(Ni,Ri,pa),ea(Ni,Ri,"esm2017"),ea("fire-js","");var ga=function(){function e(t,n){var r=this;ur(this,e),this._delegate=t,this.firebase=n,Ui(t,new ti("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return lr(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ji(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Li;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Li;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ui(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){zi(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ba=(Oe(va={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Oe(va,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),va),ka=new Ur("app-compat","Firebase",ba);var wa=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=$i(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Br(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ea,setLogLevel:na,onLog:ta,apps:null,SDK_VERSION:Qi,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Vi(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ka.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Tr(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Br(n,e=e||Li))throw ka.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ga);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Tr(n,e)},createSubscribe:$r,ErrorFactory:Ur,deepExtend:Tr}),n}(),xa=new hi("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){xa.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var _a=self.firebase.SDK_VERSION;_a&&_a.indexOf("LITE")>=0&&xa.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Sa=wa;!function(e){ea("@firebase/app-compat","0.2.9",e)}();function Ea(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vr(e)););return e}function Ta(){return Ta="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ea(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ta.apply(this,arguments)}Sa.registerVersion("firebase","9.21.0","app-compat");function Ia(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ca;Object.create;var Oa="facebook.com",Aa="github.com",Pa="google.com",Na="password",Ra="twitter.com",Da="EMAIL_SIGNIN",La="PASSWORD_RESET",Ma="RECOVER_EMAIL",ja="REVERT_SECOND_FACTOR_ADDITION",Fa="VERIFY_AND_CHANGE_EMAIL",Ua="VERIFY_EMAIL";function za(){return Oe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Va=function(){var e;return Oe(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Oe(e,"argument-error",""),Oe(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Oe(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Oe(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Oe(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Oe(e,"cordova-not-ready","Cordova framework is not ready."),Oe(e,"cors-unsupported","This browser is not supported."),Oe(e,"credential-already-in-use","This credential is already associated with a different user account."),Oe(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Oe(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Oe(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Oe(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Oe(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Oe(e,"email-already-in-use","The email address is already in use by another account."),Oe(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Oe(e,"expired-action-code","The action code has expired."),Oe(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Oe(e,"internal-error","An internal AuthError has occurred."),Oe(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Oe(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Oe(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Oe(e,"invalid-auth-event","An internal AuthError has occurred."),Oe(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Oe(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Oe(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Oe(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Oe(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Oe(e,"invalid-email","The email address is badly formatted."),Oe(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Oe(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Oe(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Oe(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Oe(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Oe(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Oe(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Oe(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Oe(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Oe(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Oe(e,"wrong-password","The password is invalid or the user does not have a password."),Oe(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Oe(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Oe(e,"invalid-provider-id","The specified provider ID is invalid."),Oe(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Oe(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Oe(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Oe(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Oe(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Oe(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Oe(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Oe(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Oe(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Oe(e,"missing-continue-uri","A continue URL must be provided in the request."),Oe(e,"missing-iframe-start","An internal AuthError has occurred."),Oe(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Oe(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Oe(e,"missing-password","A non-empty password must be provided"),Oe(e,"missing-multi-factor-info","No second factor identifier is provided."),Oe(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Oe(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Oe(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Oe(e,"app-deleted","This instance of FirebaseApp has been deleted."),Oe(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Oe(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Oe(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Oe(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Oe(e,"no-auth-event","An internal AuthError has occurred."),Oe(e,"no-such-provider","User was not linked to an account with the given provider."),Oe(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Oe(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Oe(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Oe(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Oe(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Oe(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Oe(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Oe(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Oe(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Oe(e,"rejected-credential","The request contains malformed or mismatching credentials."),Oe(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Oe(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Oe(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Oe(e,"timeout","The operation has timed out."),Oe(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Oe(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Oe(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Oe(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Oe(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Oe(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Oe(e,"unverified-email","The operation requires a verified email."),Oe(e,"user-cancelled","The user did not grant your application the permissions it requested."),Oe(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Oe(e,"user-disabled","The user account has been disabled by an administrator."),Oe(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Oe(e,"user-signed-out",""),Oe(e,"weak-password","The password must be 6 characters long or more."),Oe(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Oe(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),Oe(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),Oe(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),Oe(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),Oe(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),Oe(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),Oe(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),Oe(e,"invalid-req-type","Invalid request parameters."),Oe(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},Ba=za,qa=new Ur("auth","Firebase",za()),Ha=new hi("@firebase/auth");function Wa(e){if(Ha.logLevel<=ai.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ha.warn.apply(Ha,["Auth (".concat(Qi,"): ").concat(e)].concat(n))}}function Ka(e){if(Ha.logLevel<=ai.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ha.error.apply(Ha,["Auth (".concat(Qi,"): ").concat(e)].concat(n))}}function Ga(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ya.apply(void 0,[e].concat(n))}function Qa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ya.apply(void 0,[e].concat(n))}function $a(e,t,n){var r=Object.assign(Object.assign({},Ba()),Oe({},t,n));return new Ur("auth","Firebase",r).create(t,{appName:e.name})}function Xa(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ga(e,"argument-error"),$a(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ya(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ei(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ei(o)))}return qa.create.apply(qa,[e].concat(n))}function Ja(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ya.apply(void 0,[t].concat(r))}}function Za(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ka(t),new Error(t)}function eo(e,t){e||Za(t)}function to(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function no(){return"http:"===ro()||"https:"===ro()}function ro(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var io=function(){function e(t,n){ur(this,e),this.shortDelay=t,this.longDelay=n,eo(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nr())||Lr()}return lr(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(no()||Dr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ao(e,t){eo(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var oo=function(){function e(){ur(this,e)}return lr(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Za("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Za("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Za("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),so=(Oe(Ca={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Oe(Ca,"MISSING_CUSTOM_TOKEN","internal-error"),Oe(Ca,"INVALID_IDENTIFIER","invalid-email"),Oe(Ca,"MISSING_CONTINUE_URI","internal-error"),Oe(Ca,"INVALID_PASSWORD","wrong-password"),Oe(Ca,"MISSING_PASSWORD","missing-password"),Oe(Ca,"EMAIL_EXISTS","email-already-in-use"),Oe(Ca,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Oe(Ca,"INVALID_IDP_RESPONSE","invalid-credential"),Oe(Ca,"INVALID_PENDING_TOKEN","invalid-credential"),Oe(Ca,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Oe(Ca,"MISSING_REQ_TYPE","internal-error"),Oe(Ca,"EMAIL_NOT_FOUND","user-not-found"),Oe(Ca,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Oe(Ca,"EXPIRED_OOB_CODE","expired-action-code"),Oe(Ca,"INVALID_OOB_CODE","invalid-action-code"),Oe(Ca,"MISSING_OOB_CODE","internal-error"),Oe(Ca,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Oe(Ca,"INVALID_ID_TOKEN","invalid-user-token"),Oe(Ca,"TOKEN_EXPIRED","user-token-expired"),Oe(Ca,"USER_NOT_FOUND","user-token-expired"),Oe(Ca,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Oe(Ca,"INVALID_CODE","invalid-verification-code"),Oe(Ca,"INVALID_SESSION_INFO","invalid-verification-id"),Oe(Ca,"INVALID_TEMPORARY_PROOF","invalid-credential"),Oe(Ca,"MISSING_SESSION_INFO","missing-verification-id"),Oe(Ca,"SESSION_EXPIRED","code-expired"),Oe(Ca,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Oe(Ca,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Oe(Ca,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Oe(Ca,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Oe(Ca,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Oe(Ca,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Oe(Ca,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Oe(Ca,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Oe(Ca,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Oe(Ca,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Oe(Ca,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Oe(Ca,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Oe(Ca,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Oe(Ca,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Oe(Ca,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Oe(Ca,"MISSING_CLIENT_TYPE","missing-client-type"),Oe(Ca,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Oe(Ca,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Oe(Ca,"INVALID_REQ_TYPE","invalid-req-type"),Ca),uo=new io(3e4,6e4);function co(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function lo(e,t,n,r){return fo.apply(this,arguments)}function fo(){return fo=It(Et().mark((function e(t,n,r,i){var a,o=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ho(t,a,It(Et().mark((function e(){var a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Kr(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",oo.fetch()(yo(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),fo.apply(this,arguments)}function ho(e,t,n){return po.apply(this,arguments)}function po(){return po=It(Et().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},so),n),e.prev=2,a=new go(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw bo(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=Nt(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw bo(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw bo(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw bo(t,"user-disabled",s);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw $a(t,d,h);case 34:Ga(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Fr)){e.next=41;break}throw e.t0;case 41:Ga(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),po.apply(this,arguments)}function vo(e,t,n,r){return mo.apply(this,arguments)}function mo(){return mo=It(Et().mark((function e(t,n,r,i){var a,o,s=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,lo(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Ga(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),mo.apply(this,arguments)}function yo(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ao(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var go=function(){function e(t){var n=this;ur(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Qa(n.auth,"network-request-failed"))}),uo.get())}))}return lr(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function bo(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Qa(e,t,r);return i.customData._tokenResponse=n,i}function ko(e,t){return wo.apply(this,arguments)}function wo(){return wo=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lo(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),wo.apply(this,arguments)}function xo(e,t){return _o.apply(this,arguments)}function _o(){return _o=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),_o.apply(this,arguments)}function So(e,t){return Eo.apply(this,arguments)}function Eo(){return Eo=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lo(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}function To(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Io(){return Io=It(Et().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Jr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ja((a=Oo(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:To(Co(a.auth_time)),issuedAtTime:To(Co(a.iat)),expirationTime:To(Co(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Io.apply(this,arguments)}function Co(e){return 1e3*Number(e)}function Oo(e){var t=Nt(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Ka("JWT malformed, contained fewer than 3 sections"),null;try{var a=Er(r);return a?JSON.parse(a):(Ka("Failed to decode base64 JWT payload"),null)}catch(o){return Ka("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Ao(e,t){return Po.apply(this,arguments)}function Po(){return Po=It(Et().mark((function e(t,n){var r=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Fr&&No(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Po.apply(this,arguments)}function No(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ro=function(){function e(t){ur(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return lr(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(It(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Do=function(){function e(t,n){ur(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return lr(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=To(this.lastLoginAt),this.creationTime=To(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Lo(e){return Mo.apply(this,arguments)}function Mo(){return Mo=It(Et().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Ao(t,So(r,{idToken:i}));case 6:Ja(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Uo(o.providerUserInfo):[],u=Fo(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Do(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}function jo(){return(jo=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jr(t),e.next=3,Lo(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fo(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ei(n),ei(t))}function Uo(e){return e.map((function(e){var t=e.providerId,n=Ia(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function zo(e,t){return Vo.apply(this,arguments)}function Vo(){return Vo=It(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ho(t,{},It(Et().mark((function e(){var r,i,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=yo(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",oo.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Vo.apply(this,arguments)}var Bo=function(){function e(){ur(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return lr(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ja(e.idToken,"internal-error"),Ja("undefined"!==typeof e.idToken,"internal-error"),Ja("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Oo(e);return Ja(t,"internal-error"),Ja("undefined"!==typeof t.exp,"internal-error"),Ja("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=It(Et().mark((function e(t){var n,r=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ja(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=It(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zo(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Za("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ja("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ja("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ja("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function qo(e,t){Ja("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ho=function(){function e(t){ur(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ia(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ro(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?ei(a.providerData):[],this.metadata=new Do(a.createdAt||void 0,a.lastLoginAt||void 0)}return lr(e,[{key:"getIdToken",value:function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ao(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ja(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Io.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return jo.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ja(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Ja(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=It(Et().mark((function e(t){var n,r,i=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Lo(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ao(this,ko(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Ja(b&&_,t,"internal-error");var S=Bo.fromJSON(this.name,_);Ja("string"===typeof b,t,"internal-error"),qo(f,t.name),qo(h,t.name),Ja("boolean"===typeof k,t,"internal-error"),Ja("boolean"===typeof w,t,"internal-error"),qo(d,t.name),qo(p,t.name),qo(v,t.name),qo(m,t.name),qo(y,t.name),qo(g,t.name);var E=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=It(Et().mark((function t(n,r){var i,a,o,s=arguments;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Bo).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Lo(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Wo=new Map;function Ko(e){eo(e instanceof Function,"Expected a class definition");var t=Wo.get(e);return t?(eo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Wo.set(e,t),t)}var Go=function(){function e(){ur(this,e),this.type="NONE",this.storage={}}return lr(e,[{key:"_isAvailable",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Go.type="NONE";var Qo=Go;function $o(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Xo=function(){function e(t,n,r){ur(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=$o(this.userKey,a.apiKey,o),this.fullPersistenceKey=$o("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return lr(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ho._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=It(Et().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ko(Qo),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ko(Qo),s=$o(i,n.config.apiKey,n.name),u=null,c=fr(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Ho._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Yo(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ts(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Jo(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rs(t))return"Blackberry";if(is(t))return"Webos";if(Zo(t))return"Safari";if((t.includes("chrome/")||es(t))&&!t.includes("edge/"))return"Chrome";if(ns(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Jo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return/firefox\//i.test(e)}function Zo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function es(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return/crios\//i.test(e)}function ts(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return/iemobile/i.test(e)}function ns(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return/android/i.test(e)}function rs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return/blackberry/i.test(e)}function is(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return/webos/i.test(e)}function as(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function os(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return as(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function ss(){return Mr()&&10===document.documentMode}function us(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return as(e)||ns(e)||is(e)||rs(e)||/windows phone/i.test(e)||ts(e)}function cs(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Yo(Nr());break;case"Worker":t="".concat(Yo(Nr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Qi,"/").concat(r)}function ls(e){return fs.apply(this,arguments)}function fs(){return fs=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lo(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}function hs(e,t){return ds.apply(this,arguments)}function ds(){return ds=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lo(t,"GET","/v2/recaptchaConfig",co(t,n)));case 1:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}function ps(e){return void 0!==e&&void 0!==e.getResponse}function vs(e){return void 0!==e&&void 0!==e.enterprise}var ms=lr((function e(t){if(ur(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function ys(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Qa("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function gs(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var bs="https://www.google.com/recaptcha/enterprise.js?render=",ks="NO_RECAPTCHA",ws=function(){function e(t){ur(this,e),this.type="recaptcha-enterprise",this.auth=Ts(t)}return lr(e,[{key:"verify",value:function(){var e=It(Et().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;vs(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n(ks)}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=It(Et().mark((function e(n,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:hs(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new ms(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&vs(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));ys(bs+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function xs(e,t,n){return _s.apply(this,arguments)}function _s(){return _s=It(Et().mark((function e(t,n,r){var i,a,o,s,u=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new ws(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),_s.apply(this,arguments)}var Ss=function(){function e(t){ur(this,e),this.auth=t,this.queue=[]}return lr(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=It(Et().mark((function e(t){var n,r,i,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=fr(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=fr(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(K){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Es=function(){function e(t,n,r,i){ur(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Is(this),this.idTokenSubscription=new Is(this),this.beforeStateQueue=new Ss(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qa,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return lr(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ko(t)),this._initializationPromise=this.queue(It(Et().mark((function r(){var i,a;return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Xo.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=It(Et().mark((function e(t){var n,r,i,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Ja(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Lo(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Jr(t):null)&&Ja(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=It(Et().mark((function e(t){var n,r=this,i=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Ja(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(It(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ko(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=It(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hs(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new ms(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new ws(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ur("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=It(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ja(n=t&&Ko(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Xo.create(this,[Ko(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=It(Et().mark((function e(t){var n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ja(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ja(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cs(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=It(Et().mark((function e(){var t,n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Oe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=It(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Wa("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ts(e){return Jr(e)}var Is=function(){function e(t){var n=this;ur(this,e),this.auth=t,this.observer=null,this.addObserver=$r((function(e){return n.observer=e}))}return lr(e,[{key:"next",get:function(){return Ja(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Cs(e,t,n){var r=Ts(e);Ja(r._canInitEmulator,r,"emulator-config-failed"),Ja(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Os(t),o=function(e){var t=Os(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:As(r.substr(a.length+1))}}var o=Nt(r.split(":"),2);return{host:o[0],port:As(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Os(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function As(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ps=function(){function e(t,n){ur(this,e),this.providerId=t,this.signInMethod=n}return lr(e,[{key:"toJSON",value:function(){return Za("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Za("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Za("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Za("not implemented")}}]),e}();function Ns(e,t){return Rs.apply(this,arguments)}function Rs(){return Rs=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lo(t,"POST","/v1/accounts:resetPassword",co(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rs.apply(this,arguments)}function Ds(e,t){return Ls.apply(this,arguments)}function Ls(){return Ls=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}function Ms(e,t){return js.apply(this,arguments)}function js(){return js=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lo(t,"POST","/v1/accounts:update",co(t,n)));case 1:case"end":return e.stop()}}),e)}))),js.apply(this,arguments)}function Fs(e,t){return Us.apply(this,arguments)}function Us(){return Us=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vo(t,"POST","/v1/accounts:signInWithPassword",co(t,n)));case 1:case"end":return e.stop()}}),e)}))),Us.apply(this,arguments)}function zs(e,t){return Vs.apply(this,arguments)}function Vs(){return Vs=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lo(t,"POST","/v1/accounts:sendOobCode",co(t,n)));case 1:case"end":return e.stop()}}),e)}))),Vs.apply(this,arguments)}function Bs(e,t){return qs.apply(this,arguments)}function qs(){return qs=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zs(t,n));case 1:case"end":return e.stop()}}),e)}))),qs.apply(this,arguments)}function Hs(e,t){return Ws.apply(this,arguments)}function Ws(){return Ws=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zs(t,n));case 1:case"end":return e.stop()}}),e)}))),Ws.apply(this,arguments)}function Ks(e,t){return Gs.apply(this,arguments)}function Gs(){return Gs=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zs(t,n));case 1:case"end":return e.stop()}}),e)}))),Gs.apply(this,arguments)}function Qs(e,t){return $s.apply(this,arguments)}function $s(){return $s=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zs(t,n));case 1:case"end":return e.stop()}}),e)}))),$s.apply(this,arguments)}function Xs(e,t){return Ys.apply(this,arguments)}function Ys(){return Ys=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vo(t,"POST","/v1/accounts:signInWithEmailLink",co(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ys.apply(this,arguments)}function Js(e,t){return Zs.apply(this,arguments)}function Zs(){return Zs=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vo(t,"POST","/v1/accounts:signInWithEmailLink",co(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zs.apply(this,arguments)}var eu=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ur(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return lr(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=It(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,xs(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Fs(t,i));case 11:return e.abrupt("return",Fs(t,r).catch(function(){var e=It(Et().mark((function e(n){var i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,xs(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Fs(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Xs(t,{email:this._email,oobCode:this._password}));case 13:Ga(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ds(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Js(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ga(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ps);function tu(e,t){return nu.apply(this,arguments)}function nu(){return nu=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vo(t,"POST","/v1/accounts:signInWithIdp",co(t,n)));case 1:case"end":return e.stop()}}),e)}))),nu.apply(this,arguments)}var ru=function(e){pr(n,e);var t=gr(n);function n(){var e;return ur(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return lr(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return tu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,tu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,tu(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Kr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ga("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ia(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ps);function iu(e,t){return au.apply(this,arguments)}function au(){return au=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lo(t,"POST","/v1/accounts:sendVerificationCode",co(t,n)));case 1:case"end":return e.stop()}}),e)}))),au.apply(this,arguments)}function ou(){return ou=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vo(t,"POST","/v1/accounts:signInWithPhoneNumber",co(t,n)));case 1:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}function su(){return su=It(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vo(t,"POST","/v1/accounts:signInWithPhoneNumber",co(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw bo(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),su.apply(this,arguments)}var uu=Oe({},"USER_NOT_FOUND","user-not-found");function cu(){return cu=It(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",vo(t,"POST","/v1/accounts:signInWithPhoneNumber",co(t,r),uu));case 2:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}var lu=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this,"phone","phone")).params=e,r}return lr(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ou.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return su.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return cu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ps);var fu=function(){function e(t){var n,r,i,a,o,s;ur(this,e);var u=Gr(Qr(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Ja(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return lr(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Gr(Qr(e)).link,n=t?Gr(Qr(t)).deep_link_id:null,r=Gr(Qr(e)).deep_link_id;return(r?Gr(Qr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(UI){return null}}}]),e}();var hu=function(){function e(){ur(this,e),this.providerId=e.PROVIDER_ID}return lr(e,null,[{key:"credential",value:function(e,t){return eu._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=fu.parseLink(t);return Ja(n,"argument-error"),eu._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();hu.PROVIDER_ID="password",hu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",hu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var du=function(){function e(t){ur(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return lr(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),pu=function(e){pr(n,e);var t=gr(n);function n(){var e;return ur(this,n),(e=t.apply(this,arguments)).scopes=[],e}return lr(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ei(this.scopes)}}]),n}(du),vu=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Ja(e.idToken||e.accessToken,"argument-error"),ru._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Ja("providerId"in t&&"signInMethod"in t,"argument-error"),ru._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(pu),mu=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.call(this,"facebook.com")}return lr(n,null,[{key:"credential",value:function(e){return ru._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(UI){return null}}}]),n}(pu);mu.FACEBOOK_SIGN_IN_METHOD="facebook.com",mu.PROVIDER_ID="facebook.com";var yu=function(e){pr(n,e);var t=gr(n);function n(){var e;return ur(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return lr(n,null,[{key:"credential",value:function(e,t){return ru._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(UI){return null}}}]),n}(pu);yu.GOOGLE_SIGN_IN_METHOD="google.com",yu.PROVIDER_ID="google.com";var gu=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.call(this,"github.com")}return lr(n,null,[{key:"credential",value:function(e){return ru._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(UI){return null}}}]),n}(pu);gu.GITHUB_SIGN_IN_METHOD="github.com",gu.PROVIDER_ID="github.com";var bu=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return lr(n,[{key:"_getIdTokenResponse",value:function(e){return tu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,tu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,tu(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ps),ku=function(e){pr(n,e);var t=gr(n);function n(e){return ur(this,n),Ja(e.startsWith("saml."),"argument-error"),t.call(this,e)}return lr(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=bu.fromJSON(e);return Ja(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return bu._create(r,n)}catch(i){return null}}}]),n}(du),wu=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.call(this,"twitter.com")}return lr(n,null,[{key:"credential",value:function(e,t){return ru._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(UI){return null}}}]),n}(pu);function xu(e,t){return _u.apply(this,arguments)}function _u(){return _u=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vo(t,"POST","/v1/accounts:signUp",co(t,n)));case 1:case"end":return e.stop()}}),e)}))),_u.apply(this,arguments)}wu.TWITTER_SIGN_IN_METHOD="twitter.com",wu.PROVIDER_ID="twitter.com";var Su=function(){function e(t){ur(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return lr(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=It(Et().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Ho._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Eu(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=It(Et().mark((function t(n,r,i){var a;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Eu(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Eu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Tu(){return Tu=It(Et().mark((function e(t){var n,r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ts(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Su({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,xu(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Su._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Tu.apply(this,arguments)}var Iu=function(e){pr(n,e);var t=gr(n);function n(e,r,i,a){var o,s;return ur(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(hr(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return lr(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Fr);function Cu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Iu._fromErrorAndOperation(e,n,t,r);throw n}))}function Ou(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Au(e,t){return Pu.apply(this,arguments)}function Pu(){return Pu=It(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jr(t),e.next=3,Du(!0,r,n);case 3:return e.t0=xo,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ou(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Pu.apply(this,arguments)}function Nu(e,t){return Ru.apply(this,arguments)}function Ru(){return Ru=It(Et().mark((function e(t,n){var r,i,a=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Ao,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Su._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ru.apply(this,arguments)}function Du(e,t,n){return Lu.apply(this,arguments)}function Lu(){return Lu=It(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lo(n);case 2:i=Ou(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Ja(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),Lu.apply(this,arguments)}function Mu(e,t){return ju.apply(this,arguments)}function ju(){return ju=It(Et().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Ao(t,Cu(i,a,n,t),r);case 6:return Ja((o=e.sent).idToken,i,"internal-error"),Ja(s=Oo(o.idToken),i,"internal-error"),u=s.sub,Ja(t.uid===u,i,"user-mismatch"),e.abrupt("return",Su._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Ga(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ju.apply(this,arguments)}function Fu(e,t){return Uu.apply(this,arguments)}function Uu(){return Uu=It(Et().mark((function e(t,n){var r,i,a,o,s=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Cu(t,i,n);case 4:return a=e.sent,e.next=7,Su._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Uu.apply(this,arguments)}function zu(e,t){return Vu.apply(this,arguments)}function Vu(){return Vu=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fu(Ts(t),n));case 1:case"end":return e.stop()}}),e)}))),Vu.apply(this,arguments)}function Bu(e,t){return qu.apply(this,arguments)}function qu(){return(qu=It(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jr(t),e.next=3,Du(!1,r,n.providerId);case 3:return e.abrupt("return",Nu(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hu(e,t){return Wu.apply(this,arguments)}function Wu(){return(Wu=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mu(Jr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ku(e,t){return Gu.apply(this,arguments)}function Gu(){return Gu=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vo(t,"POST","/v1/accounts:signInWithCustomToken",co(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gu.apply(this,arguments)}function Qu(){return Qu=It(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ts(t),e.next=3,Ku(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Su._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Qu.apply(this,arguments)}var $u=function(){function e(t,n){ur(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return lr(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Xu._fromServerResponse(e,t):"totpInfo"in t?Yu._fromServerResponse(e,t):Ga(e,"internal-error")}}]),e}(),Xu=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return lr(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}($u),Yu=function(e){pr(n,e);var t=gr(n);function n(e){return ur(this,n),t.call(this,"totp",e)}return lr(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}($u);function Ju(e,t,n){var r;Ja((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ja("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ja(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ja(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Zu(){return Zu=It(Et().mark((function e(t,n,r){var i,a,o,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Ts(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,xs(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&Ju(a,s,r),e.next=9,Hs(a,s);case 9:e.next=14;break;case 11:return r&&Ju(a,o,r),e.next=14,Hs(a,o).catch(function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,xs(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&Ju(a,n,r),e.next=8,Hs(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),Zu.apply(this,arguments)}function ec(){return ec=It(Et().mark((function e(t,n,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ns(Jr(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),ec.apply(this,arguments)}function tc(){return tc=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ms(Jr(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),tc.apply(this,arguments)}function nc(e,t){return rc.apply(this,arguments)}function rc(){return rc=It(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jr(t),e.next=3,Ns(r,{oobCode:n});case 3:i=e.sent,Ja(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Ja(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Ja(i.mfaInfo,r,"internal-error");case 13:Ja(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=$u._fromServerResponse(Ts(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),rc.apply(this,arguments)}function ic(){return ic=It(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nc(Jr(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),ic.apply(this,arguments)}function ac(e,t,n){return oc.apply(this,arguments)}function oc(){return oc=It(Et().mark((function e(t,n,r){var i,a,o,s,u,c,l;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Ts(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,xs(a,o,"signUpPassword");case 5:u=e.sent,s=xu(a,u),e.next=10;break;case 9:s=xu(a,o).catch(function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,xs(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",xu(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,Su._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),oc.apply(this,arguments)}function sc(){return sc=It(Et().mark((function e(t,n,r){var i,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){Ja(t.handleCodeInApp,a,"argument-error"),t&&Ju(a,e,t)},a=Ts(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,xs(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,Ks(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,Ks(a,o).catch(function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,xs(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,Ks(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),sc.apply(this,arguments)}function uc(){return uc=It(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jr(t),Ja((a=hu.credentialWithLink(n,r||to()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",zu(i,a));case 4:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}function cc(e,t){return lc.apply(this,arguments)}function lc(){return lc=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lo(t,"POST","/v1/accounts:createAuthUri",co(t,n)));case 1:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}function fc(){return fc=It(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=no()?to():"http://localhost",i={identifier:n,continueUri:r},e.next=4,cc(Jr(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),fc.apply(this,arguments)}function hc(){return(hc=It(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jr(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Ju(r.auth,a,n),e.next=8,Bs(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dc(){return(dc=It(Et().mark((function e(t,n,r){var i,a,o,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jr(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Ju(i.auth,o,r),e.next=8,Qs(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pc(e,t){return vc.apply(this,arguments)}function vc(){return vc=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),vc.apply(this,arguments)}function mc(){return(mc=It(Et().mark((function e(t,n){var r,i,a,o,s,u,c;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Jr(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Ao(a,pc(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yc(e,t,n){return gc.apply(this,arguments)}function gc(){return gc=It(Et().mark((function e(t,n,r){var i,a,o,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Ao(t,Ds(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),gc.apply(this,arguments)}var bc=lr((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ur(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),kc=function(e){pr(n,e);var t=gr(n);function n(e,r,i,a){var o;return ur(this,n),(o=t.call(this,e,r,i)).username=a,o}return lr(n)}(bc),wc=function(e){pr(n,e);var t=gr(n);function n(e,r){return ur(this,n),t.call(this,e,"facebook.com",r)}return lr(n)}(bc),xc=function(e){pr(n,e);var t=gr(n);function n(e,r){return ur(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return lr(n)}(kc),_c=function(e){pr(n,e);var t=gr(n);function n(e,r){return ur(this,n),t.call(this,e,"google.com",r)}return lr(n)}(bc),Sc=function(e){pr(n,e);var t=gr(n);function n(e,r,i){return ur(this,n),t.call(this,e,"twitter.com",r,i)}return lr(n)}(kc);function Ec(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Oo(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new bc(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new wc(a,i);case"github.com":return new xc(a,i);case"google.com":return new _c(a,i);case"twitter.com":return new Sc(a,i,e.screenName||null);case"custom":case"anonymous":return new bc(a,null);default:return new bc(a,r,i)}}(n)}var Tc=function(){function e(t,n,r){ur(this,e),this.type=t,this.credential=n,this.auth=r}return lr(e,[{key:"toJSON",value:function(){return{multiFactorSession:Oe({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ic=function(){function e(t,n,r){ur(this,e),this.session=t,this.hints=n,this.signInResolver=r}return lr(e,[{key:"resolveSignIn",value:function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ts(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return $u._fromServerResponse(r,e)}));Ja(i.mfaPendingCredential,r,"internal-error");var o=Tc._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=It(Et().mark((function e(t){var a,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Su._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Ja(n.user,r,"internal-error"),e.abrupt("return",Su._forOperation(n.user,n.operationType,s));case 17:Ga(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Cc(e,t){return lo(e,"POST","/v2/accounts/mfaEnrollment:start",co(e,t))}function Oc(e,t){return lo(e,"POST","/v2/accounts/mfaEnrollment:start",co(e,t))}function Ac(e,t){return lo(e,"POST","/v2/accounts/mfaEnrollment:finalize",co(e,t))}function Pc(e,t){return lo(e,"POST","/v2/accounts/mfaEnrollment:withdraw",co(e,t))}var Nc=function(){function e(t){var n=this;ur(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return $u._fromServerResponse(t.auth,e)})))}))}return lr(e,[{key:"getSession",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Tc,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=It(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Ao(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=It(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Ao(this.user,Pc(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Rc=new WeakMap;var Dc="__sak",Lc=function(){function e(t,n){ur(this,e),this.storageRetriever=t,this.type=n}return lr(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Dc,"1"),this.storage.removeItem(Dc),Promise.resolve(!0)):Promise.resolve(!1)}catch(UI){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Mc=function(e){pr(n,e);var t=gr(n);function n(){var e;return ur(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Nr();return Zo(e)||as(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=us(),e._shouldAllowMigration=!0,e}return lr(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ss()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=It(Et().mark((function e(t,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ta(vr(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=It(Et().mark((function e(t){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ta(vr(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ta(vr(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Lc);Mc.type="LOCAL";var jc=Mc,Fc=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return lr(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Lc);Fc.type="SESSION";var Uc=Fc;function zc(e){return Promise.all(e.map(function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Vc=function(){function e(t){ur(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return lr(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=It(Et().mark((function e(t){var n,r,i,a,o,s,u,c;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,zc(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Bc(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Vc.receivers=[];var qc=function(){function e(t){ur(this,e),this.target=t,this.handlers=new Set}return lr(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=It(Et().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Bc("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Hc(){return window}function Wc(e){Hc().location.href=e}function Kc(){return"undefined"!==typeof Hc().WorkerGlobalScope&&"function"===typeof Hc().importScripts}function Gc(){return Qc.apply(this,arguments)}function Qc(){return(Qc=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function $c(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Xc="firebaseLocalStorageDb",Yc="firebaseLocalStorage",Jc="fbase_key",Zc=function(){function e(t){ur(this,e),this.request=t}return lr(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function el(e,t){return e.transaction([Yc],t?"readwrite":"readonly").objectStore(Yc)}function tl(){var e=indexedDB.deleteDatabase(Xc);return new Zc(e).toPromise()}function nl(){var e=indexedDB.open(Xc,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Yc,{keyPath:Jc})}catch(r){n(r)}})),e.addEventListener("success",It(Et().mark((function n(){var r;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Yc)){n.next=12;break}return r.close(),n.next=5,tl();case 5:return n.t0=t,n.next=8,nl();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function rl(e,t,n){return il.apply(this,arguments)}function il(){return il=It(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=el(t,!0).put((Oe(i={},Jc,n),Oe(i,"value",r),i)),e.abrupt("return",new Zc(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),il.apply(this,arguments)}function al(e,t){return ol.apply(this,arguments)}function ol(){return ol=It(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=el(t,!1).get(n),e.next=3,new Zc(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ol.apply(this,arguments)}function sl(e,t){var n=el(e,!0).delete(t);return new Zc(n).toPromise()}var ul=function(){function e(){ur(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return lr(e,[{key:"_openDb",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,nl();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kc()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=It(Et().mark((function e(){var t=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Vc._getInstance(Kc()?self:null),this.receiver._subscribe("keyChanged",function(){var e=It(Et().mark((function e(n,r){var i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=It(Et().mark((function e(){var t,n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gc();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new qc(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&$c()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,nl();case 5:return t=e.sent,e.next=8,rl(t,Dc,"1");case 8:return e.next=10,sl(t,Dc);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=It(Et().mark((function e(t,n){var r=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return rl(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return al(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=It(Et().mark((function e(t){var n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return sl(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=It(Et().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=el(e,!1).getAll();return new Zc(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=fr(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(It(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ul.type="LOCAL";var cl=ul;function ll(e,t){return lo(e,"POST","/v2/accounts/mfaSignIn:start",co(e,t))}function fl(e,t){return lo(e,"POST","/v2/accounts/mfaSignIn:finalize",co(e,t))}var hl=1e12,dl=function(){function e(t){ur(this,e),this.auth=t,this.counter=hl,this._widgets=new Map}return lr(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new pl(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||hl;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||hl;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||hl,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),pl=function(){function e(t,n,r){var i=this;ur(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Ja(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return lr(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var vl=gs("rcb"),ml=new io(3e4,6e4),yl="https://www.google.com/recaptcha/api.js?",gl=function(){function e(){var t;ur(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Hc().grecaptcha)||void 0===t?void 0:t.render)}return lr(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ja(bl(n),e,"argument-error"),this.shouldResolveImmediately(n)&&ps(Hc().grecaptcha)?Promise.resolve(Hc().grecaptcha):new Promise((function(r,i){var a=Hc().setTimeout((function(){i(Qa(e,"network-request-failed"))}),ml.get());Hc()[vl]=function(){Hc().clearTimeout(a),delete Hc()[vl];var o=Hc().grecaptcha;if(o&&ps(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Qa(e,"internal-error"))},ys("".concat(yl,"?").concat(Kr({onload:vl,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Qa(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Hc().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function bl(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var kl=function(){function e(){ur(this,e)}return lr(e,[{key:"load",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new dl(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),wl="recaptcha",xl={theme:"light",type:"image"},_l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},xl),r=arguments.length>2?arguments[2]:void 0;ur(this,e),this.parameters=n,this.type=wl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ts(r),this.isInvisible="invisible"===this.parameters.size,Ja("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Ja(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kl:new gl,this.validateStartingState()}return lr(e,[{key:"verify",value:function(){var e=It(Et().mark((function e(){var t,n,r,i=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Ja(!this.parameters.sitekey,this.auth,"argument-error"),Ja(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ja("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Hc()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Ja(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=It(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ja(no()&&!Kc(),this.auth,"internal-error"),e.next=3,Sl();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ls(this.auth);case 8:Ja(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Ja(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Sl(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var El=function(){function e(t,n){ur(this,e),this.verificationId=t,this.onConfirmation=n}return lr(e,[{key:"confirm",value:function(e){var t=lu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Tl(){return Tl=It(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ts(t),e.next=3,Al(i,n,Jr(r));case 3:return a=e.sent,e.abrupt("return",new El(a,(function(e){return zu(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Tl.apply(this,arguments)}function Il(e,t,n){return Cl.apply(this,arguments)}function Cl(){return(Cl=It(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jr(t),e.next=3,Du(!1,i,"phone");case 3:return e.next=5,Al(i.auth,n,Jr(r));case 5:return a=e.sent,e.abrupt("return",new El(a,(function(e){return Bu(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ol(){return(Ol=It(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jr(t),e.next=3,Al(i.auth,n,Jr(r));case 3:return a=e.sent,e.abrupt("return",new El(a,(function(e){return Hu(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Al(e,t,n){return Pl.apply(this,arguments)}function Pl(){return Pl=It(Et().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ja("string"===typeof a,t,"argument-error"),Ja(r.type===wl,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Ja("enroll"===s.type,t,"internal-error"),e.next=13,Cc(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Ja("signin"===s.type,t,"internal-error"),Ja(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ll(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,iu(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Pl.apply(this,arguments)}function Nl(){return(Nl=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nu(Jr(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rl=function(){function e(t){ur(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ts(t)}return lr(e,[{key:"verifyPhoneNumber",value:function(e,t){return Al(this.auth,e,Jr(t))}}],[{key:"credential",value:function(e,t){return lu._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?lu._fromTokenResponse(n,r):null}}]),e}();function Dl(e,t){return t?Ko(t):(Ja(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Rl.PROVIDER_ID="phone",Rl.PHONE_SIGN_IN_METHOD="phone";var Ll=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this,"custom","custom")).params=e,r}return lr(n,[{key:"_getIdTokenResponse",value:function(e){return tu(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return tu(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return tu(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ps);function Ml(e){return Fu(e.auth,new Ll(e),e.bypassAuthState)}function jl(e){var t=e.auth,n=e.user;return Ja(n,t,"internal-error"),Mu(n,new Ll(e),e.bypassAuthState)}function Fl(e){return Ul.apply(this,arguments)}function Ul(){return Ul=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ja(r=t.user,n,"internal-error"),e.abrupt("return",Nu(r,new Ll(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}var zl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ur(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return lr(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=It(Et().mark((function t(n,r){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=It(Et().mark((function e(t){var n,r,i,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ml;case"linkViaPopup":case"linkViaRedirect":return Fl;case"reauthViaPopup":case"reauthViaRedirect":return jl;default:Ga(this.auth,"internal-error")}}},{key:"resolve",value:function(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Vl=new io(2e3,1e4);function Bl(e,t,n){return ql.apply(this,arguments)}function ql(){return ql=It(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ts(t),Xa(t,n,du),a=Dl(i,r),o=new Gl(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ql.apply(this,arguments)}function Hl(){return Hl=It(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xa((i=Jr(t)).auth,n,du),a=Dl(i.auth,r),o=new Gl(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Hl.apply(this,arguments)}function Wl(e,t,n){return Kl.apply(this,arguments)}function Kl(){return Kl=It(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xa((i=Jr(t)).auth,n,du),a=Dl(i.auth,r),o=new Gl(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Kl.apply(this,arguments)}var Gl=function(e){pr(n,e);var t=gr(n);function n(e,r,i,a,o){var s;return ur(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=hr(s),s}return lr(n,[{key:"executeNotNull",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ja(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=It(Et().mark((function e(){var t,n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eo(1===this.filter.length,"Popup operations only handle one event"),t=Bc(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Qa(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Qa(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Qa(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Vl.get())}()}}]),n}(zl);Gl.currentPopupAction=null;var Ql=new Map,$l=function(e){pr(n,e);var t=gr(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ur(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return lr(n,[{key:"execute",value:function(){var e=It(Et().mark((function e(){var t,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ql.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Xl(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ta(vr(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ql.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ql.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=It(Et().mark((function e(t){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ta(vr(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ta(vr(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(zl);function Xl(e,t){return Yl.apply(this,arguments)}function Yl(){return Yl=It(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nf(n),i=tf(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Yl.apply(this,arguments)}function Jl(e,t){return Zl.apply(this,arguments)}function Zl(){return Zl=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tf(t)._set(nf(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Zl.apply(this,arguments)}function ef(e,t){Ql.set(e._key(),t)}function tf(e){return Ko(e._redirectPersistence)}function nf(e){return $o("pendingRedirect",e.config.apiKey,e.name)}function rf(e,t,n){return function(e,t,n){return af.apply(this,arguments)}(e,t,n)}function af(){return af=It(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ts(t),Xa(t,n,du),e.next=4,i._initializationPromise;case 4:return a=Dl(i,r),e.next=7,Jl(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),af.apply(this,arguments)}function of(e,t,n){return function(e,t,n){return sf.apply(this,arguments)}(e,t,n)}function sf(){return sf=It(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xa((i=Jr(t)).auth,n,du),e.next=4,i.auth._initializationPromise;case 4:return a=Dl(i.auth,r),e.next=7,Jl(a,i.auth);case 7:return e.next=9,pf(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),sf.apply(this,arguments)}function uf(e,t,n){return function(e,t,n){return cf.apply(this,arguments)}(e,t,n)}function cf(){return cf=It(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xa((i=Jr(t)).auth,n,du),e.next=4,i.auth._initializationPromise;case 4:return a=Dl(i.auth,r),e.next=7,Du(!1,i,n.providerId);case 7:return e.next=9,Jl(a,i.auth);case 9:return e.next=11,pf(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)}))),cf.apply(this,arguments)}function lf(e,t){return ff.apply(this,arguments)}function ff(){return ff=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ts(t)._initializationPromise;case 2:return e.abrupt("return",hf(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),ff.apply(this,arguments)}function hf(e,t){return df.apply(this,arguments)}function df(){return df=It(Et().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Ts(t),a=Dl(i,n),o=new $l(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),df.apply(this,arguments)}function pf(e){return vf.apply(this,arguments)}function vf(){return(vf=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bc("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mf=function(){function e(t){ur(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return lr(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!gf(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Qa(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yf(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(yf(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function yf(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function gf(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function bf(e){return kf.apply(this,arguments)}function kf(){return kf=It(Et().mark((function e(t){var n,r=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",lo(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),kf.apply(this,arguments)}var wf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xf=/^https?/;function _f(){return _f=It(Et().mark((function e(t){var n,r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,bf(t);case 4:n=e.sent,r=n.authorizedDomains,i=fr(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Sf(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ga(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),_f.apply(this,arguments)}function Sf(e){var t=to(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!xf.test(r))return!1;if(wf.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Ef=new io(3e4,6e4);function Tf(){var e=Hc().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ei(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var If=null;function Cf(e){return If=If||function(e){return new Promise((function(t,n){var r,i,a;function o(){Tf(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Tf(),n(Qa(e,"network-request-failed"))},timeout:Ef.get()})}if(null===(i=null===(r=Hc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Hc().gapi)||void 0===a?void 0:a.load)){var s=gs("iframefcb");return Hc()[s]=function(){gapi.load?o():n(Qa(e,"network-request-failed"))},ys("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw If=null,e}))}(e),If}var Of=new io(5e3,15e3),Af={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nf(e){var t=e.config;Ja(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ao(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Qi},i=Pf.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Kr(r).slice(1))}function Rf(e){return Df.apply(this,arguments)}function Df(){return Df=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cf(t);case 2:return n=e.sent,Ja(r=Hc().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Nf(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Af,dontclear:!0},(function(e){return new Promise(function(){var n=It(Et().mark((function n(r,i){var a,o,s;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Hc().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Qa(t,"network-request-failed"),o=Hc().setTimeout((function(){i(a)}),Of.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Df.apply(this,arguments)}var Lf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mf="_blank",jf="http://localhost",Ff=function(){function e(t){ur(this,e),this.window=t,this.associatedEvent=null}return lr(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Uf(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Lf),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Nr().toLowerCase();n&&(s=es(c)?Mf:n),Jo(c)&&(t=t||jf,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=Nt(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(os(c)&&"_self"!==s)return zf(t||"",s),new Ff(null);var f=window.open(t||"",s,l);Ja(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Ff(f)}function zf(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Vf=encodeURIComponent("fac");function Bf(e,t,n,r,i,a){return qf.apply(this,arguments)}function qf(){return qf=It(Et().mark((function e(t,n,r,i,a,o){var s,u,c,l,f,h,d,p,v,m,y,g,b;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ja(t.config.authDomain,t,"auth-domain-config-required"),Ja(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Qi,eventId:a},n instanceof du)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",qr(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,c=Object.entries(o||{});u<c.length;u++)l=Nt(c[u],2),f=l[0],h=l[1],s[f]=h;for(n instanceof pu&&(d=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=d.join(",")),t.tenantId&&(s.tid=t.tenantId),p=s,v=0,m=Object.keys(p);v<m.length;v++)y=m[v],void 0===p[y]&&delete p[y];return e.next=10,t._getAppCheckToken();case 10:return g=e.sent,b=g?"#".concat(Vf,"=").concat(encodeURIComponent(g)):"",e.abrupt("return","".concat(Hf(t),"?").concat(Kr(p).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),qf.apply(this,arguments)}function Hf(e){var t=e.config;return t.emulator?ao(t,"emulator/auth/handler"):"https://".concat(t.authDomain,"/").concat("__/auth/handler")}var Wf="webStorageSupport",Kf=function(){function e(){ur(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uc,this._completeRedirectFn=hf,this._overrideRedirectResult=ef}return lr(e,[{key:"_openPopup",value:function(){var e=It(Et().mark((function e(t,n,r,i){var a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eo(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Bf(t,n,r,to(),i);case 3:return o=e.sent,e.abrupt("return",Uf(t,o,Bc()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=It(Et().mark((function e(t,n,r,i){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Bf(t,n,r,to(),i);case 4:return Wc(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(eo(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rf(t);case 2:return n=e.sent,r=new mf(t),n.register("authEvent",(function(e){return Ja(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Wf,{type:Wf},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ga(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return _f.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return us()||Zo()||as()}}]),e}(),Gf=Kf,Qf=function(){function e(t){ur(this,e),this.factorId=t}return lr(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Za("unexpected MultiFactorSessionType")}}}]),e}(),$f=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this,"phone")).credential=e,r}return lr(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return lo(e,"POST","/v2/accounts/mfaEnrollment:finalize",co(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return lo(e,"POST","/v2/accounts/mfaSignIn:finalize",co(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Qf),Xf=function(){function e(){ur(this,e)}return lr(e,null,[{key:"assertion",value:function(e){return $f._fromCredential(e)}}]),e}();Xf.FACTOR_ID="phone";var Yf=function(){function e(){ur(this,e)}return lr(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Jf._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Jf._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ja("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,Oc(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",Zf._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Yf.FACTOR_ID="totp";var Jf=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a;return ur(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return lr(n,[{key:"_finalizeEnroll",value:function(){var e=It(Et().mark((function e(t,n,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ja("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Ac(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=It(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ja(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",fl(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Qf),Zf=function(){function e(t,n,r,i,a,o,s){ur(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return lr(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(eh(e)||eh(t))&&(r=!0),r&&(eh(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),eh(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function eh(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var th="@firebase/auth",nh="0.23.1",rh=function(){function e(t){ur(this,e),this.auth=t,this.internalListeners=new Map}return lr(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ja(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var ih;!function(e){var t;null===(t=Cr())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function ah(){return window}ih="Browser",Vi(new ti("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;Ja(s&&!s.includes(":"),"invalid-api-key",{appName:r.name}),Ja(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:ih,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cs(ih)},l=new Es(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ko);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Vi(new ti("auth-internal",(function(e){return function(e){return new rh(e)}(Ts(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ea(th,nh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ih)),ea(th,nh,"esm2017");function oh(e,t,n){return sh.apply(this,arguments)}function sh(){return sh=It(Et().mark((function e(t,n,r){var i,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ah(),o=a.BuildInfo,eo(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,dh(n.sessionId);case 4:return s=e.sent,u={},as()?u.ibi=o.packageName:ns()?u.apn=o.packageName:Ga(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Bf(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),sh.apply(this,arguments)}function uh(){return uh=It(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ah(),r=n.BuildInfo,i={},as()?i.iosBundleId=r.packageName:ns()?i.androidPackageName=r.packageName:Ga(t,"operation-not-supported-in-this-environment"),e.next=5,bf(t,i);case 5:case"end":return e.stop()}}),e)}))),uh.apply(this,arguments)}function ch(e){var t=ah().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function lh(e,t,n){return fh.apply(this,arguments)}function fh(){return fh=It(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ah(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Qa(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),ns()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),fh.apply(this,arguments)}function hh(e){var t,n,r,i,a,o,s,u,c,l,f=ah();Ja("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ja("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ja("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ja("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ja("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function dh(e){return ph.apply(this,arguments)}function ph(){return(ph=It(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vh(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vh(e){if(eo(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var mh=function(e){pr(n,e);var t=gr(n);function n(){var e;return ur(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return lr(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ta(vr(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(mf);function yh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:xh(),postBody:null,tenantId:e.tenantId,error:Qa(e,"no-auth-event")}}function gh(e,t){return _h()._set(Sh(e),t)}function bh(e){return kh.apply(this,arguments)}function kh(){return kh=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_h()._get(Sh(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,_h()._remove(Sh(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),kh.apply(this,arguments)}function wh(e,t){var n,r,i=function(e){var t=Eh(e),n=t.link?decodeURIComponent(t.link):void 0,r=Eh(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Eh(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Eh(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Qa(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function xh(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function _h(){return Ko(jc)}function Sh(e){return $o("authEvent",e.config.apiKey,e.name)}function Eh(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=Ct(t=n)||Zr(t)||At(t)||Pt();r[0];return Gr(r.slice(1).join("?"))}var Th=function(){function e(){ur(this,e),this._redirectPersistence=Uc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=hf,this._overrideRedirectResult=ef}return lr(e,[{key:"_initialize",value:function(){var e=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new mh(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Ga(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=It(Et().mark((function e(t,n,r,i){var a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hh(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Ql.clear(),e.next=10,this._originValidation(t);case 10:return o=yh(t,r,i),e.next=13,gh(t,o);case 13:return e.next=15,oh(t,o,n);case 15:return s=e.sent,e.next=18,ch(s);case 18:return u=e.sent,e.abrupt("return",lh(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return uh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=ah(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(It(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,bh(e);case 2:t.onEvent(Ch());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=It(Et().mark((function n(r){var i,a;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,bh(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=wh(i,r.url)),t.onEvent(a||Ch());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");ah().handleOpenURL=function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Ih=Th;function Ch(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Qa("no-auth-event")}}function Oh(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ah(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return!("file:"!==Oh()&&"ionic:"!==Oh()&&"capacitor:"!==Oh()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ph(){return Mr()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Nh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return/Edge\/\d+/.test(e)}function Rh(){try{var e=self.localStorage,t=Bc();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr();return Ph()||Nh(e)}()||jr()}catch(n){return Dh()&&jr()}return!1}function Dh(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Lh(){return("http:"===Oh()||"https:"===Oh()||Dr()||Ah())&&!(Lr()||Rr())&&Rh()&&!Dh()}function Mh(){return Ah()&&"undefined"!==typeof document}function jh(){return Fh.apply(this,arguments)}function Fh(){return(Fh=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Mh()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Uh={LOCAL:"local",NONE:"none",SESSION:"session"},zh=Ja,Vh="persistence";function Bh(e,t){zh(Object.values(Uh).includes(t),e,"invalid-persistence-type"),Lr()?zh(t!==Uh.SESSION,e,"unsupported-persistence-type"):Rr()?zh(t===Uh.NONE,e,"unsupported-persistence-type"):Dh()?zh(t===Uh.NONE||t===Uh.LOCAL&&jr(),e,"unsupported-persistence-type"):zh(t===Uh.NONE||Rh(),e,"unsupported-persistence-type")}function qh(e){return Hh.apply(this,arguments)}function Hh(){return Hh=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Wh(),r=$o(Vh,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Hh.apply(this,arguments)}function Wh(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Kh=Ja,Gh=function(){function e(){ur(this,e),this.browserResolver=Ko(Gf),this.cordovaResolver=Ko(Ih),this.underlyingResolver=null,this._redirectPersistence=Uc,this._completeRedirectFn=hf,this._overrideRedirectResult=ef}return lr(e,[{key:"_initialize",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=It(Et().mark((function e(t,n,r,i){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=It(Et().mark((function e(t,n,r,i){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Mh()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Kh(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,jh();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Qh(e){return e.unwrap()}function $h(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new ed(e,function(e,t){var n,r=Jr(e),i=t;return Ja(t.customData.operationType,r,"argument-error"),Ja(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ic._fromError(r,i)}(e,t));else if(r){var i=Xh(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Xh(e){var t=(e instanceof Fr?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Fr)&&"temporaryProof"in t&&"phoneNumber"in t)return Rl.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Na)return null;switch(r){case Pa:n=yu;break;case Oa:n=mu;break;case Aa:n=gu;break;case Ra:n=wu;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?bu._create(r,s):ru._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new vu(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Fr?n.credentialFromError(e):n.credentialFromResult(e)}function Yh(e,t){return t.catch((function(t){throw t instanceof Fr&&$h(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Xh(t)),additionalUserInfo:Ec(e),user:td.getOrCreate(r)}}))}function Jh(e,t){return Zh.apply(this,arguments)}function Zh(){return Zh=It(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Yh(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Zh.apply(this,arguments)}var ed=function(){function e(t,n){ur(this,e),this.resolver=n,this.auth=t.wrapped()}return lr(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Yh(Qh(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),td=function(){function e(t){ur(this,e),this._delegate=t,this.multiFactor=function(e){var t=Jr(e);return Rc.has(t)||Rc.set(t,Nc._fromUser(t)),Rc.get(t)}(t)}return lr(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yh(this.auth,Bu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jh(this.auth,Il(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yh(this.auth,Wl(this._delegate,t,Gh)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qh(Ts(this.auth));case 2:return e.abrupt("return",uf(this._delegate,t,Gh));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yh(this.auth,Hu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Jh(this.auth,function(e,t,n){return Ol.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Yh(this.auth,function(e,t,n){return Hl.apply(this,arguments)}(this._delegate,e,Gh))}},{key:"reauthenticateWithRedirect",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qh(Ts(this.auth));case 2:return e.abrupt("return",of(this._delegate,t,Gh));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return hc.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Au(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return yc(Jr(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return yc(Jr(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Nl.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return mc.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return dc.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();td.USER_MAP=new WeakMap;var nd=Ja,rd=function(){function e(t,n){if(ur(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;nd(r,"invalid-api-key",{appName:t.name}),nd(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Gh:void 0;this._delegate=n.initialize({options:{persistence:ad(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Va),this.linkUnderlyingAuth()}return lr(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?td.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Cs(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return tc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return nc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return ec.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yh(this._delegate,ac(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return fc.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=fu.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nd(Lh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,lf(this._delegate,Gh);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Yh(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ts(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=id(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=id(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return sc.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Zu.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Bh(this._delegate,t),e.t0=t,e.next=e.t0===Uh.SESSION?4:e.t0===Uh.LOCAL?6:e.t0===Uh.NONE?11:13;break;case 4:return n=Uc,e.abrupt("break",14);case 6:return e.next=8,Ko(cl)._isAvailable();case 8:return r=e.sent,n=r?cl:jc,e.abrupt("break",14);case 11:return n=Qo,e.abrupt("break",14);case 13:return e.abrupt("return",Ga("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Yh(this._delegate,function(e){return Tu.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Yh(this._delegate,zu(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Yh(this._delegate,function(e,t){return Qu.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Yh(this._delegate,function(e,t,n){return zu(Jr(e),hu.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Yh(this._delegate,function(e,t,n){return uc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Jh(this._delegate,function(e,t,n){return Tl.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nd(Lh(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Yh(this._delegate,Bl(this._delegate,t,Gh)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nd(Lh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,qh(this._delegate);case 3:return e.abrupt("return",rf(this._delegate,t,Gh));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return ic.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function id(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&td.getOrCreate(e))},error:t,complete:n}}function ad(e,t){var n=function(e,t){var n=Wh();if(!n)return[];var r=$o(Vh,e,t);switch(n.getItem(r)){case Uh.NONE:return[Qo];case Uh.LOCAL:return[cl,Uc];case Uh.SESSION:return[Uc];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(cl)||n.push(cl),"undefined"!==typeof window)for(var r=0,i=[jc,Uc];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Qo)||n.push(Qo),n}rd.Persistence=Uh;var od=function(){function e(){ur(this,e),this.providerId="phone",this._delegate=new Rl(Qh(Sa.auth()))}return lr(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Rl.credential(e,t)}}]),e}();od.PHONE_SIGN_IN_METHOD=Rl.PHONE_SIGN_IN_METHOD,od.PROVIDER_ID=Rl.PROVIDER_ID;var sd,ud=Ja,cd=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sa.app();ur(this,e),ud(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new _l(t,n,i.auth()),this.type=this._delegate.type}return lr(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(sd=Sa).INTERNAL.registerComponent(new ti("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new rd(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Da,PASSWORD_RESET:La,RECOVER_EMAIL:Ma,REVERT_SECOND_FACTOR_ADDITION:ja,VERIFY_AND_CHANGE_EMAIL:Fa,VERIFY_EMAIL:Ua}},EmailAuthProvider:hu,FacebookAuthProvider:mu,GithubAuthProvider:gu,GoogleAuthProvider:yu,OAuthProvider:vu,SAMLAuthProvider:ku,PhoneAuthProvider:od,PhoneMultiFactorGenerator:Xf,RecaptchaVerifier:cd,TwitterAuthProvider:wu,Auth:rd,AuthCredential:Ps,Error:Fr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),sd.registerVersion("@firebase/auth-compat","0.4.1");var ld,fd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},hd={},dd=dd||{},pd=fd||self;function vd(){}function md(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function yd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var gd="closure_uid_"+(1e9*Math.random()>>>0),bd=0;function kd(e,t,n){return e.call.apply(e.bind,arguments)}function wd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function xd(e,t,n){return(xd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kd:wd).apply(null,arguments)}function _d(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Sd(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ed(){this.s=this.s,this.o=this.o}Ed.prototype.s=!1,Ed.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,gd)&&e[gd]||(e[gd]=++bd)}(this)},Ed.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Td=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Id(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Cd(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(md(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Od(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Od.prototype.h=function(){this.defaultPrevented=!0};var Ad=function(){if(!pd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{pd.addEventListener("test",vd,t),pd.removeEventListener("test",vd,t)}catch(n){}return e}();function Pd(e){return/^[\s\xa0]*$/.test(e)}var Nd=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Rd(e,t){return e<t?-1:e>t?1:0}function Dd(){var e=pd.navigator;return e&&(e=e.userAgent)?e:""}function Ld(e){return-1!=Dd().indexOf(e)}function Md(e){return Md[" "](e),e}function jd(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}Md[" "]=vd;var Fd,Ud=Ld("Opera"),zd=Ld("Trident")||Ld("MSIE"),Vd=Ld("Edge"),Bd=Vd||zd,qd=Ld("Gecko")&&!(-1!=Dd().toLowerCase().indexOf("webkit")&&!Ld("Edge"))&&!(Ld("Trident")||Ld("MSIE"))&&!Ld("Edge"),Hd=-1!=Dd().toLowerCase().indexOf("webkit")&&!Ld("Edge");function Wd(){var e=pd.document;return e?e.documentMode:void 0}e:{var Kd="",Gd=function(){var e=Dd();return qd?/rv:([^\);]+)(\)|;)/.exec(e):Vd?/Edge\/([\d\.]+)/.exec(e):zd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Hd?/WebKit\/(\S+)/.exec(e):Ud?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Gd&&(Kd=Gd?Gd[1]:""),zd){var Qd=Wd();if(null!=Qd&&Qd>parseFloat(Kd)){Fd=String(Qd);break e}}Fd=Kd}var $d,Xd={};if(pd.document&&zd){var Yd=Wd();$d=Yd||(parseInt(Fd,10)||void 0)}else $d=void 0;var Jd=$d;function Zd(e,t){if(Od.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(qd){e:{try{Md(t.nodeName);var i=!0;break e}catch(L){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ep[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Zd.$.h.call(this)}}Sd(Zd,Od);var ep={2:"touch",3:"pen",4:"mouse"};Zd.prototype.h=function(){Zd.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var tp="closure_listenable_"+(1e6*Math.random()|0),np=0;function rp(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++np,this.fa=this.ia=!1}function ip(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ap(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function op(e){var t={};for(var n in e)t[n]=e[n];return t}var sp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function up(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<sp.length;a++)n=sp[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function cp(e){this.src=e,this.g={},this.h=0}function lp(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Td(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ip(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function fp(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}cp.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=fp(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new rp(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var hp="closure_lm_"+(1e6*Math.random()|0),dp={};function pp(e,t,n,r,i){if(r&&r.once)return mp(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)pp(e,t[a],n,r,i);return null}return n=_p(n),e&&e[tp]?e.O(t,n,yd(r)?!!r.capture:!!r,i):vp(e,t,n,!1,r,i)}function vp(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=yd(i)?!!i.capture:!!i,s=wp(e);if(s||(e[hp]=s=new cp(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=kp;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ad||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(bp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function mp(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)mp(e,t[a],n,r,i);return null}return n=_p(n),e&&e[tp]?e.P(t,n,yd(r)?!!r.capture:!!r,i):vp(e,t,n,!0,r,i)}function yp(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)yp(e,t[a],n,r,i);else r=yd(r)?!!r.capture:!!r,n=_p(n),e&&e[tp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=fp(a=e.g[t],n,r,i))&&(ip(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=wp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=fp(t,n,r,i)),(n=-1<e?t[e]:null)&&gp(n))}function gp(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[tp])lp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(bp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=wp(t))?(lp(n,e),0==n.h&&(n.src=null,t[hp]=null)):ip(e)}}}function bp(e){return e in dp?dp[e]:dp[e]="on"+e}function kp(e,t){if(e.fa)e=!0;else{t=new Zd(t,this);var n=e.listener,r=e.la||e.src;e.ia&&gp(e),e=n.call(r,t)}return e}function wp(e){return(e=e[hp])instanceof cp?e:null}var xp="__closure_events_fn_"+(1e9*Math.random()>>>0);function _p(e){return"function"===typeof e?e:(e[xp]||(e[xp]=function(t){return e.handleEvent(t)}),e[xp])}function Sp(){Ed.call(this),this.i=new cp(this),this.S=this,this.J=null}function Ep(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Od(t,e);else if(t instanceof Od)t.target=t.target||e;else{var i=t;up(t=new Od(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Tp(o,r,!0,t)&&i}if(i=Tp(o=t.g=e,r,!0,t)&&i,i=Tp(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Tp(o=t.g=n[a],r,!1,t)&&i}function Tp(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&lp(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Sd(Sp,Ed),Sp.prototype[tp]=!0,Sp.prototype.removeEventListener=function(e,t,n,r){yp(this,e,t,n,r)},Sp.prototype.N=function(){if(Sp.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ip(n[r]);delete t.g[e],t.h--}}this.J=null},Sp.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Sp.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ip=pd.JSON.stringify;function Cp(){var e=Mp,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Op,Ap=function(){function e(){ur(this,e),this.h=this.g=null}return lr(e,[{key:"add",value:function(e,t){var n=Pp.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Pp=new(function(){function e(t,n){ur(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return lr(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Np}),(function(e){return e.reset()})),Np=function(){function e(){ur(this,e),this.next=this.g=this.h=null}return lr(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Rp(e){pd.setTimeout((function(){throw e}),0)}function Dp(e,t){Op||function(){var e=pd.Promise.resolve(void 0);Op=function(){e.then(jp)}}(),Lp||(Op(),Lp=!0),Mp.add(e,t)}var Lp=!1,Mp=new Ap;function jp(){for(var e;e=Cp();){try{e.h.call(e.g)}catch(n){Rp(n)}var t=Pp;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Lp=!1}function Fp(e,t){Sp.call(this),this.h=e||1,this.g=t||pd,this.j=xd(this.qb,this),this.l=Date.now()}function Up(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function zp(e,t,n){if("function"===typeof e)n&&(e=xd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=xd(e.handleEvent,e)}return 2147483647<Number(t)?-1:pd.setTimeout(e,t||0)}function Vp(e){e.g=zp((function(){e.g=null,e.i&&(e.i=!1,Vp(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Sd(Fp,Sp),(ld=Fp.prototype).ga=!1,ld.T=null,ld.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ep(this,"tick"),this.ga&&(Up(this),this.start()))}},ld.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ld.N=function(){Fp.$.N.call(this),Up(this),delete this.g};var Bp=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return lr(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Vp(this)}},{key:"N",value:function(){Ta(vr(n.prototype),"N",this).call(this),this.g&&(pd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ed);function qp(e){Ed.call(this),this.h=e,this.g={}}Sd(qp,Ed);var Hp=[];function Wp(e,t,n,r){Array.isArray(n)||(n&&(Hp[0]=n.toString()),n=Hp);for(var i=0;i<n.length;i++){var a=pp(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Kp(e){ap(e.g,(function(e,t){this.g.hasOwnProperty(t)&&gp(e)}),e),e.g={}}function Gp(){this.g=!0}function Qp(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ip(n)}catch(W){return t}}(e,n)+(r?" "+r:"")}))}qp.prototype.N=function(){qp.$.N.call(this),Kp(this)},qp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gp.prototype.Ea=function(){this.g=!1},Gp.prototype.info=function(){};var $p={},Xp=null;function Yp(){return Xp=Xp||new Sp}function Jp(e){Od.call(this,$p.Ta,e)}function Zp(e){var t=Yp();Ep(t,new Jp(t))}function ev(e,t){Od.call(this,$p.STAT_EVENT,e),this.stat=t}function tv(e){var t=Yp();Ep(t,new ev(t,e))}function nv(e,t){Od.call(this,$p.Ua,e),this.size=t}function rv(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return pd.setTimeout((function(){e()}),t)}$p.Ta="serverreachability",Sd(Jp,Od),$p.STAT_EVENT="statevent",Sd(ev,Od),$p.Ua="timingevent",Sd(nv,Od);var iv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},av={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ov(){}function sv(e){return e.h||(e.h=e.i())}function uv(){}ov.prototype.h=null;var cv,lv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fv(){Od.call(this,"d")}function hv(){Od.call(this,"c")}function dv(){}function pv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new qp(this),this.P=mv,e=Bd?125:void 0,this.V=new Fp(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new vv}function vv(){this.i=null,this.g="",this.h=!1}Sd(fv,Od),Sd(hv,Od),Sd(dv,ov),dv.prototype.g=function(){return new XMLHttpRequest},dv.prototype.i=function(){return{}},cv=new dv;var mv=45e3,yv={},gv={};function bv(e,t,n){e.L=1,e.v=Fv(Rv(t)),e.s=n,e.S=!0,kv(e,null)}function kv(e,t){e.G=Date.now(),Sv(e),e.A=Rv(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Yv(n.i,"t",r),e.C=0,n=e.l.I,e.h=new vv,e.g=Ym(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Bp(xd(e.Pa,e,e.g),e.O)),Wp(e.U,e.g,"readystatechange",e.nb),t=e.I?op(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Zp(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function wv(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function xv(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=_v(e,n))==gv){4==t&&(e.o=4,tv(14),i=!1),Qp(e.j,e.m,null,"[Incomplete Response]");break}if(r==yv){e.o=4,tv(15),Qp(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Qp(e.j,e.m,r,null),Ov(e,r)}wv(e)&&r!=gv&&r!=yv&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,tv(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ca&&(e.ca=!0,(t=e.l).g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),qm(t),t.L=!0,tv(11))):(Qp(e.j,e.m,n,"[Invalid Chunked Response]"),Cv(e),Iv(e))}function _v(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?gv:(n=Number(t.substring(n,r)),isNaN(n)?yv:(r+=1)+n>t.length?gv:(t=t.substr(r,n),e.C=r+n,t))}function Sv(e){e.Y=Date.now()+e.P,Ev(e,e.P)}function Ev(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=rv(xd(e.lb,e),t)}function Tv(e){e.B&&(pd.clearTimeout(e.B),e.B=null)}function Iv(e){0==e.l.H||e.J||Km(e.l,e)}function Cv(e){Tv(e);var t=e.M;t&&"function"==typeof t.ra&&t.ra(),e.M=null,Up(e.V),Kp(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function Ov(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||im(n.h,e)))if(!e.K&&im(n.h,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Wm(n),Lm(n)}Bm(n),tv(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=rv(xd(n.ib,n),6e3));if(1>=rm(n.h)&&n.na){try{n.na()}catch(a){}n.na=void 0}}else Qm(n,11)}else if((e.K||n.g==e)&&Wm(n),!Pd(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.J=a[1],n.oa=a[2];var o=a[3];null!=o&&(n.qa=o,n.j.info("VER="+n.qa));var s=a[4];null!=s&&(n.Ga=s,n.j.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(am(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,jv(r.G,r.F,h))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Xm(r,r.I?r.oa:null,r.Y),d.K){om(r.h,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Tv(p),Sv(p)),r.g=d}else Vm(r);0<n.i.length&&jm(n)}else"stop"!=a[0]&&"close"!=a[0]||Qm(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Qm(n,7):Dm(n):"noop"!=a[0]&&n.l&&n.l.Aa(a),n.A=0)}Zp()}catch(a){}}function Av(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(md(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.sa&&"function"==typeof e.sa)return e.sa();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(md(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(md(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(ld=pv.prototype).setTimeout=function(e){this.P=e},ld.nb=function(e){e=e.target;var t=this.M;t&&3==Cm(e)?t.l():this.Pa(e)},ld.Pa=function(e){try{if(e==this.g)e:{var t=Cm(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Bd||this.g&&(this.h.h||this.g.ja()||Om(this.g)))){this.J||4!=t||7==n||Zp(),Tv(this);var r=this.g.da();this.aa=r;t:if(wv(this)){var i=Om(this.g);e="";var a=i.length,o=4==Cm(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Cv(this),Iv(this);var s="";break t}this.h.i=new pd.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.ba&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pd(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,tv(12),Cv(this),Iv(this);break e}Qp(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ov(this,r)}this.S?(xv(this,t,s),Bd&&this.i&&3==t&&(Wp(this.U,this.V,"tick",this.mb),this.V.start())):(Qp(this.j,this.m,s,null),Ov(this,s)),4==t&&Cv(this),this.i&&!this.J&&(4==t?Km(this.l,this):(this.i=!1,Sv(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,tv(12)):(this.o=0,tv(13)),Cv(this),Iv(this)}}}catch(t){}},ld.mb=function(){if(this.g){var e=Cm(this.g),t=this.g.ja();this.C<t.length&&(Tv(this),xv(this,e,t),this.i&&4!=e&&Sv(this))}},ld.cancel=function(){this.J=!0,Cv(this)},ld.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Zp(),tv(17)),Cv(this),this.o=2,Iv(this)):Ev(this,this.Y-e)};var Pv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nv(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Nv){this.h=void 0!==t?t:e.h,Dv(this,e.j),this.s=e.s,this.g=e.g,Lv(this,e.m),this.l=e.l,t=e.i;var n=new Gv;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Mv(this,n),this.o=e.o}else e&&(n=String(e).match(Pv))?(this.h=!!t,Dv(this,n[1]||"",!0),this.s=Uv(n[2]||""),this.g=Uv(n[3]||"",!0),Lv(this,n[4]),this.l=Uv(n[5]||"",!0),Mv(this,n[6]||"",!0),this.o=Uv(n[7]||"")):(this.h=!!t,this.i=new Gv(null,this.h))}function Rv(e){return new Nv(e)}function Dv(e,t,n){e.j=n?Uv(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Lv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Mv(e,t,n){t instanceof Gv?(e.i=t,function(e,t){t&&!e.j&&(Qv(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&($v(this,t),Yv(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=zv(t,Wv)),e.i=new Gv(t,e.h))}function jv(e,t,n){e.i.set(t,n)}function Fv(e){return jv(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Uv(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zv(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Vv),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Vv(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Nv.prototype.toString=function(){var e=[],t=this.j;t&&e.push(zv(t,Bv,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(zv(t,Bv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(zv(n,"/"==n.charAt(0)?Hv:qv,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",zv(n,Kv)),e.join("")};var Bv=/[#\/\?@]/g,qv=/[#\?:]/g,Hv=/[#\?]/g,Wv=/[#\?@]/g,Kv=/#/g;function Gv(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Qv(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function $v(e,t){Qv(e),t=Jv(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Xv(e,t){return Qv(e),t=Jv(e,t),e.g.has(t)}function Yv(e,t,n){$v(e,t),0<n.length&&(e.i=null,e.g.set(Jv(e,t),Id(n)),e.h+=n.length)}function Jv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ld=Gv.prototype).add=function(e,t){Qv(this),this.i=null,e=Jv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ld.forEach=function(e,t){Qv(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},ld.sa=function(){Qv(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ld.Z=function(e){Qv(this);var t=[];if("string"===typeof e)Xv(this,e)&&(t=t.concat(this.g.get(Jv(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},ld.set=function(e,t){return Qv(this),this.i=null,Xv(this,e=Jv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ld.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},ld.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Zv=lr((function e(t,n){ur(this,e),this.h=t,this.g=n}));function em(e){this.l=e||tm,pd.PerformanceNavigationTiming?e=0<(e=pd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(pd.g&&pd.g.Ka&&pd.g.Ka()&&pd.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tm=10;function nm(e){return!!e.h||!!e.g&&e.g.size>=e.j}function rm(e){return e.h?1:e.g?e.g.size:0}function im(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function am(e,t){e.g?e.g.add(t):e.h=t}function om(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function sm(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=fr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Id(e.i)}function um(){}function cm(){this.g=new um}function lm(e,t,n){var r=n||"";try{Av(e,(function(e,n){var i=e;yd(e)&&(i=Ip(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function fm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(L){}}function hm(e){this.l=e.fc||null,this.j=e.ob||!1}function dm(e,t){Sp.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=pm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}em.prototype.cancel=function(){if(this.i=sm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=fr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},um.prototype.stringify=function(e){return pd.JSON.stringify(e,void 0)},um.prototype.parse=function(e){return pd.JSON.parse(e,void 0)},Sd(hm,ov),hm.prototype.g=function(){return new dm(this.l,this.j)},hm.prototype.i=function(e){return function(){return e}}({}),Sd(dm,Sp);var pm=0;function vm(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function mm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ym(e)}function ym(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ld=dm.prototype).open=function(e,t){if(this.readyState!=pm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ym(this)},ld.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||pd).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ld.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mm(this)),this.readyState=pm},ld.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ym(this)),this.g&&(this.readyState=3,ym(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof pd.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vm(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},ld.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?mm(this):ym(this),3==this.readyState&&vm(this)}},ld.Za=function(e){this.g&&(this.response=this.responseText=e,mm(this))},ld.Ya=function(e){this.g&&(this.response=e,mm(this))},ld.ka=function(){this.g&&mm(this)},ld.setRequestHeader=function(e,t){this.v.append(e,t)},ld.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ld.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(dm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var gm=pd.JSON.parse;function bm(e){Sp.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=km,this.L=this.M=!1}Sd(bm,Sp);var km="",wm=/^https?$/i,xm=["POST","PUT"];function _m(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Sm(e),Tm(e)}function Sm(e){e.F||(e.F=!0,Ep(e,"complete"),Ep(e,"error"))}function Em(e){if(e.h&&"undefined"!=typeof dd&&(!e.C[1]||4!=Cm(e)||2!=e.da()))if(e.v&&4==Cm(e))zp(e.La,0,e);else if(Ep(e,"readystatechange"),4==Cm(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Pv)[1]||null;if(!a&&pd.self&&pd.self.location){var o=pd.self.location.protocol;a=o.substr(0,o.length-1)}i=!wm.test(a?a.toLowerCase():"")}t=i}if(t)Ep(e,"complete"),Ep(e,"success");else{e.m=6;try{var s=2<Cm(e)?e.g.statusText:""}catch(A){s=""}e.j=s+" ["+e.da()+"]",Sm(e)}}finally{Tm(e)}}}function Tm(e,t){if(e.g){Im(e);var n=e.g,r=e.C[0]?vd:null;e.g=null,e.C=null,t||Ep(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Im(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(pd.clearTimeout(e.A),e.A=null)}function Cm(e){return e.g?e.g.readyState:0}function Om(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case km:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(H){return null}}function Am(e){var t="";return ap(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Pm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Am(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):jv(e,t,n))}function Nm(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Rm(e){this.Ga=0,this.i=[],this.j=new Gp,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Nm("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Nm("baseRetryDelayMs",5e3,e),this.hb=Nm("retryDelaySeedMs",1e4,e),this.eb=Nm("forwardChannelMaxRetries",2,e),this.xa=Nm("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new em(e&&e.concurrentRequestLimit),this.Ja=new cm,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Dm(e){if(Mm(e),3==e.H){var t=e.W++,n=Rv(e.G);jv(n,"SID",e.J),jv(n,"RID",t),jv(n,"TYPE","terminate"),Um(e,n),(t=new pv(e,e.j,t,void 0)).L=2,t.v=Fv(Rv(n)),n=!1,pd.navigator&&pd.navigator.sendBeacon&&(n=pd.navigator.sendBeacon(t.v.toString(),"")),!n&&pd.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ym(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Sv(t)}$m(e)}function Lm(e){e.g&&(qm(e),e.g.cancel(),e.g=null)}function Mm(e){Lm(e),e.u&&(pd.clearTimeout(e.u),e.u=null),Wm(e),e.h.cancel(),e.m&&("number"===typeof e.m&&pd.clearTimeout(e.m),e.m=null)}function jm(e){nm(e.h)||e.m||(e.m=!0,Dp(e.Na,e),e.C=0)}function Fm(e,t){var n;n=t?t.m:e.W++;var r=Rv(e.G);jv(r,"SID",e.J),jv(r,"RID",n),jv(r,"AID",e.V),Um(e,r),e.o&&e.s&&Pm(r,e.o,e.s),n=new pv(e,e.j,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=zm(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),am(e.h,n),bv(n,r,t)}function Um(e,t){e.ma&&ap(e.ma,(function(e,n){jv(t,n,e)})),e.l&&Av({},(function(e,n){jv(t,n,e)}))}function zm(e,t,n){n=Math.min(e.i.length,n);var r=e.l?xd(e.l.Va,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{lm(l,o,"req"+c+"_")}catch(ye){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.F=e,r}function Vm(e){e.g||e.u||(e.ba=1,Dp(e.Ma,e),e.A=0)}function Bm(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=rv(xd(e.Ma,e),Gm(e,e.A)),e.A++,!0)}function qm(e){null!=e.B&&(pd.clearTimeout(e.B),e.B=null)}function Hm(e){e.g=new pv(e,e.j,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Rv(e.wa);jv(t,"RID","rpc"),jv(t,"SID",e.J),jv(t,"CI",e.M?"0":"1"),jv(t,"AID",e.V),jv(t,"TYPE","xmlhttp"),Um(e,t),e.o&&e.s&&Pm(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=Fv(Rv(t)),n.s=null,n.S=!0,kv(n,e)}function Wm(e){null!=e.v&&(pd.clearTimeout(e.v),e.v=null)}function Km(e,t){var n=null;if(e.g==t){Wm(e),qm(e),e.g=null;var r=2}else{if(!im(e.h,t))return;n=t.F,om(e.h,t),r=1}if(0!=e.H)if(e.ta=t.aa,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Ep(r=Yp(),new nv(r,n)),jm(e)}else Vm(e);else if(3==(i=t.o)||0==i&&0<e.ta||!(1==r&&function(e,t){return!(rm(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.F.concat(e.i),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=rv(xd(e.Na,e,t),Gm(e,e.C)),e.C++,!0))}(e,t)||2==r&&Bm(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Qm(e,5);break;case 4:Qm(e,10);break;case 3:Qm(e,6);break;default:Qm(e,2)}}function Gm(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function Qm(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=xd(e.pb,e);n||(n=new Nv("//www.google.com/images/cleardot.gif"),pd.location&&"http"==pd.location.protocol||Dv(n,"https"),Fv(n)),function(e,t){var n=new Gp;if(pd.Image){var r=new Image;r.onload=_d(fm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_d(fm,n,r,"TestLoadImage: error",!1,t),r.onabort=_d(fm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_d(fm,n,r,"TestLoadImage: timeout",!1,t),pd.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else tv(2);e.H=0,e.l&&e.l.za(t),$m(e),Mm(e)}function $m(e){if(e.H=0,e.pa=[],e.l){var t=sm(e.h);0==t.length&&0==e.i.length||(Cd(e.pa,t),Cd(e.pa,e.i),e.h.i.length=0,Id(e.i),e.i.length=0),e.l.ya()}}function Xm(e,t,n){var r=n instanceof Nv?Rv(n):new Nv(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Lv(r,r.m);else{var i=pd.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Nv(null,void 0);r&&Dv(a,r),t&&(a.g=t),i&&Lv(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&jv(r,n,t),jv(r,"VER",e.qa),Um(e,r),r}function Ym(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new bm(new hm({ob:!0})):new bm(e.va)).Oa(e.I),t}function Jm(){}function Zm(){if(zd&&!(10<=Number(Jd)))throw Error("Environmental error: no available transport.")}function ey(e,t){Sp.call(this),this.g=new Rm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Pd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Pd(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ry(this)}function ty(e){fv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ny(){hv.call(this),this.status=1}function ry(e){this.g=e}function iy(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ay(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function oy(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(ld=bm.prototype).Oa=function(e){this.M=e},ld.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():cv.g(),this.C=this.u?sv(this.u):sv(cv),this.g.onreadystatechange=xd(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void _m(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=fr(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=pd.FormData&&e instanceof pd.FormData,!(0<=Td(xm,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=fr(n);try{for(c.s();!(u=c.n()).done;){var l=Nt(u.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Im(this),0<this.B&&((this.L=function(e){return zd&&jd(Xd,9,(function(){for(var e=0,t=Nd(String(Fd)).split("."),n=Nd("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Rd(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Rd(0==a[2].length,0==o[2].length)||Rd(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xd(this.ua,this)):this.A=zp(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){_m(this,s)}},ld.ua=function(){"undefined"!=typeof dd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ep(this,"timeout"),this.abort(8))},ld.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ep(this,"complete"),Ep(this,"abort"),Tm(this))},ld.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tm(this,!0)),bm.$.N.call(this)},ld.La=function(){this.s||(this.G||this.v||this.l?Em(this):this.kb())},ld.kb=function(){Em(this)},ld.da=function(){try{return 2<Cm(this)?this.g.status:-1}catch(D){return-1}},ld.ja=function(){try{return this.g?this.g.responseText:""}catch(D){return""}},ld.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),gm(t)}},ld.Ia=function(){return this.m},ld.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ld=Rm.prototype).qa=8,ld.H=1,ld.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new pv(this,this.j,e,void 0),n=this.s;if(this.U&&(n?up(n=op(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=zm(this,t,r),jv(i=Rv(this.G),"RID",e),jv(i,"CVER",22),this.F&&jv(i,"X-HTTP-Session-Id",this.F),Um(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Am(n)))+"&"+r:this.o&&Pm(i,this.o,n)),am(this.h,t),this.bb&&jv(i,"TYPE","init"),this.P?(jv(i,"$req",r),jv(i,"SID","null"),t.ba=!0,bv(t,i,null)):bv(t,i,r),this.H=2}}else 3==this.H&&(e?Fm(this,e):0==this.i.length||nm(this.h)||Fm(this))},ld.Ma=function(){if(this.u=null,Hm(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=rv(xd(this.jb,this),e)}},ld.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,tv(10),Lm(this),Hm(this))},ld.ib=function(){null!=this.v&&(this.v=null,Lm(this),Bm(this),tv(19))},ld.pb=function(e){e?(this.j.info("Successfully pinged google.com"),tv(2)):(this.j.info("Failed to ping google.com"),tv(1))},(ld=Jm.prototype).Ba=function(){},ld.Aa=function(){},ld.za=function(){},ld.ya=function(){},ld.Va=function(){},Zm.prototype.g=function(e,t){return new ey(e,t)},Sd(ey,Sp),ey.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;tv(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=Xm(e,null,e.Y),jm(e)},ey.prototype.close=function(){Dm(this.g)},ey.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ip(e),e=n);t.i.push(new Zv(t.fb++,e)),3==t.H&&jm(t)},ey.prototype.N=function(){this.g.l=null,delete this.j,Dm(this.g),delete this.g,ey.$.N.call(this)},Sd(ty,fv),Sd(ny,hv),Sd(ry,Jm),ry.prototype.Ba=function(){Ep(this.g,"a")},ry.prototype.Aa=function(e){Ep(this.g,new ty(e))},ry.prototype.za=function(e){Ep(this.g,new ny)},ry.prototype.ya=function(){Ep(this.g,"b")},Sd(iy,(function(){this.blockSize=-1})),iy.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},iy.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)ay(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){ay(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){ay(this,r),i=0;break}}this.h=i,this.i+=t},iy.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var sy={};function uy(e){return-128<=e&&128>e?jd(sy,e,(function(e){return new oy([0|e],0>e?-1:0)})):new oy([0|e],0>e?-1:0)}function cy(e){if(isNaN(e)||!isFinite(e))return fy;if(0>e)return my(cy(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=ly;return new oy(t,0)}var ly=4294967296,fy=uy(0),hy=uy(1),dy=uy(16777216);function py(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function vy(e){return-1==e.h}function my(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new oy(n,~e.h).add(hy)}function yy(e,t){return e.add(my(t))}function gy(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function by(e,t){this.g=e,this.h=t}function ky(e,t){if(py(t))throw Error("division by zero");if(py(e))return new by(fy,fy);if(vy(e))return t=ky(my(e),t),new by(my(t.g),my(t.h));if(vy(t))return t=ky(e,my(t)),new by(my(t.g),t.h);if(30<e.g.length){if(vy(e)||vy(t))throw Error("slowDivide_ only works with positive integers.");for(var n=hy,r=t;0>=r.X(e);)n=wy(n),r=wy(r);var i=xy(n,1),a=xy(r,1);for(r=xy(r,2),n=xy(n,2);!py(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=xy(r,1),n=xy(n,1)}return t=yy(e,i.R(t)),new by(i,t)}for(i=fy;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=cy(n)).R(t);vy(o)||0<o.X(e);)o=(a=cy(n-=r)).R(t);py(a)&&(a=hy),i=i.add(a),e=yy(e,o)}return new by(i,e)}function wy(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new oy(n,e.h)}function xy(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new oy(i,e.h)}(ld=oy.prototype).ea=function(){if(vy(this))return-my(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:ly+r)*t,t*=ly}return e},ld.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(py(this))return"0";if(vy(this))return"-"+my(this).toString(e);for(var t=cy(Math.pow(e,6)),n=this,r="";;){var i=ky(n,t).g,a=((0<(n=yy(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(py(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},ld.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},ld.X=function(e){return vy(e=yy(this,e))?-1:py(e)?0:1},ld.abs=function(){return vy(this)?my(this):this},ld.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new oy(n,-2147483648&n[n.length-1]?-1:0)},ld.R=function(e){if(py(this)||py(e))return fy;if(vy(this))return vy(e)?my(this).R(my(e)):my(my(this).R(e));if(vy(e))return my(this.R(my(e)));if(0>this.X(dy)&&0>e.X(dy))return cy(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,gy(n,2*r+2*i),n[2*r+2*i+1]+=a*u,gy(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,gy(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,gy(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new oy(n,0)},ld.gb=function(e){return ky(this,e).h},ld.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new oy(n,this.h&e.h)},ld.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new oy(n,this.h|e.h)},ld.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new oy(n,this.h^e.h)},Zm.prototype.createWebChannel=Zm.prototype.g,ey.prototype.send=ey.prototype.u,ey.prototype.open=ey.prototype.m,ey.prototype.close=ey.prototype.close,iv.NO_ERROR=0,iv.TIMEOUT=8,iv.HTTP_ERROR=6,av.COMPLETE="complete",uv.EventType=lv,lv.OPEN="a",lv.CLOSE="b",lv.ERROR="c",lv.MESSAGE="d",Sp.prototype.listen=Sp.prototype.O,bm.prototype.listenOnce=bm.prototype.P,bm.prototype.getLastError=bm.prototype.Sa,bm.prototype.getLastErrorCode=bm.prototype.Ia,bm.prototype.getStatus=bm.prototype.da,bm.prototype.getResponseJson=bm.prototype.Wa,bm.prototype.getResponseText=bm.prototype.ja,bm.prototype.send=bm.prototype.ha,bm.prototype.setWithCredentials=bm.prototype.Oa,iy.prototype.digest=iy.prototype.l,iy.prototype.reset=iy.prototype.reset,iy.prototype.update=iy.prototype.j,oy.prototype.add=oy.prototype.add,oy.prototype.multiply=oy.prototype.R,oy.prototype.modulo=oy.prototype.gb,oy.prototype.compare=oy.prototype.X,oy.prototype.toNumber=oy.prototype.ea,oy.prototype.toString=oy.prototype.toString,oy.prototype.getBits=oy.prototype.D,oy.fromNumber=cy,oy.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return my(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=cy(Math.pow(n,8)),i=fy,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=cy(Math.pow(n,o)),i=i.R(o).add(cy(s))):i=(i=i.R(r)).add(cy(s))}return i};var _y=hd.createWebChannelTransport=function(){return new Zm},Sy=hd.getStatEventTarget=function(){return Yp()},Ey=hd.ErrorCode=iv,Ty=hd.EventType=av,Iy=hd.Event=$p,Cy=hd.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Oy=hd.FetchXmlHttpFactory=hm,Ay=hd.WebChannel=uv,Py=hd.XhrIo=bm,Ny=hd.Md5=iy,Ry=hd.Integer=oy,Dy="@firebase/firestore",Ly=function(){function e(t){ur(this,e),this.uid=t}return lr(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Ly.UNAUTHENTICATED=new Ly(null),Ly.GOOGLE_CREDENTIALS=new Ly("google-credentials-uid"),Ly.FIRST_PARTY=new Ly("first-party-uid"),Ly.MOCK_USER=new Ly("mock-user");var My="9.21.0",jy=new hi("@firebase/firestore");function Fy(){return jy.logLevel}function Uy(e){if(jy.logLevel<=ai.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(By);jy.debug.apply(jy,["Firestore (".concat(My,"): ").concat(e)].concat(ei(i)))}}function zy(e){if(jy.logLevel<=ai.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(By);jy.error.apply(jy,["Firestore (".concat(My,"): ").concat(e)].concat(ei(i)))}}function Vy(e){if(jy.logLevel<=ai.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(By);jy.warn.apply(jy,["Firestore (".concat(My,"): ").concat(e)].concat(ei(i)))}}function By(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function qy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(My,") INTERNAL ASSERTION FAILED: ")+e;throw zy(t),new Error(t)}function Hy(e,t){e||qy()}function Wy(e,t){return e}var Ky={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Gy=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return lr(n)}(Fr),Qy=lr((function e(){var t=this;ur(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),$y=lr((function e(t,n){ur(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Xy=function(){function e(){ur(this,e)}return lr(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ly.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Yy=function(){function e(t){ur(this,e),this.token=t,this.changeListener=null}return lr(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Jy=function(){function e(t){ur(this,e),this.t=t,this.currentUser=Ly.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return lr(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Qy;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Qy,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Uy("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Uy("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qy)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Uy("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Hy("string"==typeof n.accessToken),new $y(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Hy(null===e||"string"==typeof e),new Ly(e)}}]),e}(),Zy=function(){function e(t,n,r){ur(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=Ly.FIRST_PARTY,this.g=new Map}return lr(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),eg=function(){function e(t,n,r){ur(this,e),this.h=t,this.l=n,this.m=r}return lr(e,[{key:"getToken",value:function(){return Promise.resolve(new Zy(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ly.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),tg=lr((function e(t){ur(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),ng=function(){function e(t){ur(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return lr(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Uy("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,Uy("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Uy("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):Uy("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Hy("string"==typeof t.token),e.T=t.token,new tg(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function rg(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var ig=function(){function e(){ur(this,e)}return lr(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=rg(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function ag(e,t){return e<t?-1:e>t?1:0}function og(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function sg(e){return e+"\0"}var ug=function(){function e(t,n){if(ur(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Gy(Ky.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Gy(Ky.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Gy(Ky.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Gy(Ky.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return lr(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ag(this.nanoseconds,e.nanoseconds):ag(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),cg=function(){function e(t){ur(this,e),this.timestamp=t}return lr(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ug(0,0))}},{key:"max",value:function(){return new e(new ug(253402300799,999999999))}}]),e}(),lg=function(){function e(t,n,r){ur(this,e),void 0===n?n=0:n>t.length&&qy(),void 0===r?r=t.length-n:r>t.length-n&&qy(),this.segments=t,this.offset=n,this.len=r}return lr(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),fg=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Gy(Ky.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,ei(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(lg),hg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,dg=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return hg.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Gy(Ky.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Gy(Ky.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Gy(Ky.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Gy(Ky.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(lg),pg=function(){function e(t){ur(this,e),this.path=t}return lr(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===fg.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(fg.fromString(t))}},{key:"fromName",value:function(t){return new e(fg.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(fg.emptyPath())}},{key:"comparator",value:function(e,t){return fg.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new fg(t.slice()))}}]),e}(),vg=lr((function e(t,n,r,i){ur(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function mg(e){return e.fields.find((function(e){return 2===e.kind}))}function yg(e){return e.fields.filter((function(e){return 2!==e.kind}))}vg.UNKNOWN_ID=-1;var gg=lr((function e(t,n){ur(this,e),this.fieldPath=t,this.kind=n}));var bg=function(){function e(t,n){ur(this,e),this.sequenceNumber=t,this.offset=n}return lr(e,null,[{key:"empty",value:function(){return new e(0,xg.min())}}]),e}();function kg(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=cg.fromTimestamp(1e9===r?new ug(n+1,0):new ug(n,r));return new xg(i,pg.empty(),t)}function wg(e){return new xg(e.readTime,e.key,-1)}var xg=function(){function e(t,n,r){ur(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return lr(e,null,[{key:"min",value:function(){return new e(cg.min(),pg.empty(),-1)}},{key:"max",value:function(){return new e(cg.max(),pg.empty(),-1)}}]),e}();function _g(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=pg.comparator(e.documentKey,t.documentKey))?n:ag(e.largestBatchId,t.largestBatchId)}var Sg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Eg=function(){function e(){ur(this,e),this.onCommittedListeners=[]}return lr(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Tg(e){return Ig.apply(this,arguments)}function Ig(){return Ig=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Ky.FAILED_PRECONDITION&&t.message===Sg){e.next=2;break}throw t;case 2:Uy("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Ig.apply(this,arguments)}var Cg=function(){function e(t){var n=this;ur(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return lr(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&qy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=fr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Og=function(){function e(t,n){var r=this;ur(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.R=new Qy,this.transaction.oncomplete=function(){r.R.resolve()},this.transaction.onabort=function(){n.error?r.R.reject(new Ng(t,n.error)):r.R.resolve()},this.transaction.onerror=function(e){var n=jg(e.target.error);r.R.reject(new Ng(t,n))}}return lr(e,[{key:"v",get:function(){return this.R.promise}},{key:"abort",value:function(e){e&&this.R.reject(e),this.aborted||(Uy("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Dg(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Ng(n,t)}}}]),e}(),Ag=function(){function e(t,n,r){ur(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(Nr())&&zy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return lr(e,[{key:"O",value:function(){var e=It(Et().mark((function e(t){var n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Uy("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Ng(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Gy(Ky.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Gy(Ky.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Ng(t,n))},i.onupgradeneeded=function(e){Uy("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.$(t,i.transaction,e.oldVersion,n.version).next((function(){Uy("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=It(Et().mark((function e(t,n,r,i){var a,o,s,u,c,l=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Et().mark((function e(){var n,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.O(t);case 2:return l.db=e.sent,n=Og.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),Cg.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u=e.t1,c="FirebaseError"!==u.name&&o<3,Uy("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(u));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Uy("SimpleDb","Removing database:",e),Lg(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!jr())return!1;if(e.C())return!0;var t=Nr(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/disney-plus-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Pg=function(){function e(t){ur(this,e),this.L=t,this.q=!1,this.U=null}return lr(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return Lg(this.L.delete())}}]),e}(),Ng=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,Ky.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return lr(n)}(Gy);function Rg(e){return"IndexedDbTransactionError"===e.name}var Dg=function(){function e(t){ur(this,e),this.store=t}return lr(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Uy("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Uy("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Lg(n)}},{key:"add",value:function(e){return Uy("SimpleDb","ADD",this.store.name,e,e),Lg(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Lg(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Uy("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Uy("SimpleDb","DELETE",this.store.name,e),Lg(this.store.delete(e))}},{key:"count",value:function(){return Uy("SimpleDb","COUNT",this.store.name),Lg(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Cg((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Cg((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){Uy("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new Cg((function(n,r){t.onerror=function(e){var t=jg(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new Cg((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Pg(i),o=t(i.primaryKey,i.value,a);if(o instanceof Cg){var s=o.catch((function(e){return a.done(),Cg.reject(e)}));n.push(s)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return Cg.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Lg(e){return new Cg((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=jg(e.target.error);n(t)}}))}var Mg=!1;function jg(e){var t=Ag.S(Nr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Gy("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Mg||(Mg=!0,setTimeout((function(){throw r}),0)),r}}return e}var Fg=function(){function e(t,n){ur(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return lr(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;Uy("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Uy,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Rg(e.t4)){e.next=17;break}Uy("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Tg(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Ug=function(){function e(t,n){ur(this,e),this.localStore=t,this.persistence=n}return lr(e,[{key:"nt",value:function(){var e=It(Et().mark((function e(){var t,n=this,r=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Cg.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Uy("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return Uy("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=wg(t);_g(r,n)>0&&(n=r)})),new xg(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),zg=function(){function e(t,n){var r=this;ur(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return lr(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Vg(e){return null==e}function Bg(e){return 0===e&&1/e==-1/0}function qg(e){return"number"==typeof e&&Number.isInteger(e)&&!Bg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Hg(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Kg(t)),t=Wg(e.get(n),t);return Kg(t)}function Wg(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Kg(e){return e+"\x01\x01"}function Gg(e){var t=e.length;if(Hy(t>=2),2===t)return Hy("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),fg.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&qy(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:qy()}a=o+2}return new fg(r)}zg.ct=-1;var Qg=["userId","batchId"];function $g(e,t){return[e,Hg(t)]}function Xg(e,t,n){return[e,Hg(t),n]}var Yg={},Jg=["prefixPath","collectionGroup","readTime","documentId"],Zg=["prefixPath","collectionGroup","documentId"],eb=["collectionGroup","readTime","prefixPath","documentId"],tb=["canonicalId","targetId"],nb=["targetId","path"],rb=["path","targetId"],ib=["collectionId","parent"],ab=["indexId","uid"],ob=["uid","sequenceNumber"],sb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ub=["indexId","uid","orderedDocumentKey"],cb=["userId","collectionPath","documentId"],lb=["userId","collectionPath","largestBatchId"],fb=["userId","collectionGroup","largestBatchId"],hb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),db=[].concat(ei(hb),["documentOverlays"]),pb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vb=pb,mb=[].concat(vb,["indexConfiguration","indexState","indexEntries"]),yb=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this)).at=e,i.currentSequenceNumber=r,i}return lr(n)}(Eg);function gb(e,t){var n=Wy(e);return Ag.M(n.at,t)}function bb(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function kb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function wb(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var xb=function(){function e(t,n){ur(this,e),this.comparator=t,this.root=n||Sb.EMPTY}return lr(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Sb.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Sb.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new _b(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new _b(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new _b(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new _b(this.root,e,this.comparator,!0)}}]),e}(),_b=function(){function e(t,n,r,i){ur(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return lr(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Sb=function(){function e(t,n,r,i,a){ur(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return lr(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw qy();if(this.right.isRed())throw qy();var e=this.left.check();if(e!==this.right.check())throw qy();return e+(this.isRed()?0:1)}}]),e}();Sb.EMPTY=null,Sb.RED=!0,Sb.BLACK=!1,Sb.EMPTY=new(function(){function e(){ur(this,e),this.size=0}return lr(e,[{key:"key",get:function(){throw qy()}},{key:"value",get:function(){throw qy()}},{key:"color",get:function(){throw qy()}},{key:"left",get:function(){throw qy()}},{key:"right",get:function(){throw qy()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Sb(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Eb=function(){function e(t){ur(this,e),this.comparator=t,this.data=new xb(this.comparator)}return lr(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Tb(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Tb(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Tb=function(){function e(t){ur(this,e),this.iter=t}return lr(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Ib(e){return e.hasNext()?e.getNext():void 0}var Cb=function(){function e(t){ur(this,e),this.fields=t,t.sort(dg.comparator)}return lr(e,[{key:"unionWith",value:function(t){var n,r=new Eb(dg.comparator),i=fr(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=fr(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=fr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return og(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Ob=function(e){pr(n,e);var t=gr(n);function n(){var e;return ur(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return lr(n)}(kr(Error));var Ab=function(e){function t(e){ur(this,t),this.binaryString=e}return lr(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ag(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ob("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Ab.EMPTY_BYTE_STRING=new Ab("");var Pb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nb(e){if(Hy(!!e),"string"==typeof e){var t=0,n=Pb.exec(e);if(Hy(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Rb(e.seconds),nanos:Rb(e.nanos)}}function Rb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Db(e){return"string"==typeof e?Ab.fromBase64String(e):Ab.fromUint8Array(e)}function Lb(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Mb(e){var t=e.mapValue.fields.__previous_value__;return Lb(t)?Mb(t):t}function jb(e){var t=Nb(e.mapValue.fields.__local_write_time__.timestampValue);return new ug(t.seconds,t.nanos)}var Fb=lr((function e(t,n,r,i,a,o,s,u){ur(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Ub=function(){function e(t,n){ur(this,e),this.projectId=t,this.database=n||"(default)"}return lr(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),zb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Vb={nullValue:"NULL_VALUE"};function Bb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Lb(e)?4:nk(e)?9007199254740991:10:qy()}function qb(e,t){if(e===t)return!0;var n=Bb(e);if(n!==Bb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jb(e).isEqual(jb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Nb(e.timestampValue),r=Nb(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Db(e.bytesValue).isEqual(Db(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Rb(e.geoPointValue.latitude)===Rb(t.geoPointValue.latitude)&&Rb(e.geoPointValue.longitude)===Rb(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Rb(e.integerValue)===Rb(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Rb(e.doubleValue),r=Rb(t.doubleValue);return n===r?Bg(n)===Bg(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return og(e.arrayValue.values||[],t.arrayValue.values||[],qb);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(bb(n)!==bb(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!qb(n[i],r[i])))return!1;return!0}(e,t);default:return qy()}}function Hb(e,t){return void 0!==(e.values||[]).find((function(e){return qb(e,t)}))}function Wb(e,t){if(e===t)return 0;var n=Bb(e),r=Bb(t);if(n!==r)return ag(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ag(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Rb(e.integerValue||e.doubleValue),r=Rb(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Kb(e.timestampValue,t.timestampValue);case 4:return Kb(jb(e),jb(t));case 5:return ag(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Db(e),r=Db(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=ag(n[i],r[i]);if(0!==a)return a}return ag(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ag(Rb(e.latitude),Rb(t.latitude));return 0!==n?n:ag(Rb(e.longitude),Rb(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Wb(n[i],r[i]);if(a)return a}return ag(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===zb.mapValue&&t===zb.mapValue)return 0;if(e===zb.mapValue)return 1;if(t===zb.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=ag(r[o],a[o]);if(0!==s)return s;var u=Wb(n[r[o]],i[a[o]]);if(0!==u)return u}return ag(r.length,a.length)}(e.mapValue,t.mapValue);default:throw qy()}}function Kb(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ag(e,t);var n=Nb(e),r=Nb(t),i=ag(n.seconds,r.seconds);return 0!==i?i:ag(n.nanos,r.nanos)}function Gb(e){return Qb(e)}function Qb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Nb(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Db(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,pg.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=fr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Qb(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=fr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Qb(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):qy();var t,n}function $b(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Xb(e){return!!e&&"integerValue"in e}function Yb(e){return!!e&&"arrayValue"in e}function Jb(e){return!!e&&"nullValue"in e}function Zb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ek(e){return!!e&&"mapValue"in e}function tk(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return kb(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=tk(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=tk(e.arrayValue.values[r]);return n}return Object.assign({},e)}function nk(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function rk(e){return"nullValue"in e?Vb:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?$b(Ub.empty(),pg.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:qy()}function ik(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?$b(Ub.empty(),pg.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?zb:qy()}function ak(e,t){var n=Wb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ok(e,t){var n=Wb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var sk=function(){function e(t){ur(this,e),this.value=t}return lr(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ek(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tk(t)}},{key:"setAll",value:function(e){var t=this,n=dg.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=tk(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ek(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return qb(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ek(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){kb(t,(function(t,n){return e[t]=n}));var r,i=fr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(tk(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function uk(e){var t=[];return kb(e.fields,(function(e,n){var r=new dg([e]);if(ek(n)){var i=uk(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=fr(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Cb(t)}var ck=function(){function e(t,n,r,i,a,o,s){ur(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return lr(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(cg.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=sk.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=sk.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=cg.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,cg.min(),cg.min(),cg.min(),sk.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,cg.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,cg.min(),cg.min(),sk.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,cg.min(),cg.min(),sk.empty(),2)}}]),e}(),lk=lr((function e(t,n){ur(this,e),this.position=t,this.inclusive=n}));function fk(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?pg.comparator(pg.fromName(o.referenceValue),n.key):Wb(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function hk(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!qb(e.position[n],t.position[n]))return!1;return!0}var dk=lr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ur(this,e),this.field=t,this.dir=n}));function pk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var vk=lr((function e(){ur(this,e)})),mk=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a;return ur(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return lr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Wb(t,this.value)):null!==t&&Bb(this.value)===Bb(t)&&this.matchesComparison(Wb(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qy()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Tk(e,t,r):"array-contains"===t?new Ak(e,r):"in"===t?new Pk(e,r):"not-in"===t?new Nk(e,r):"array-contains-any"===t?new Rk(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Ik(e,n):new Ck(e,n)}}]),n}(vk),yk=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return lr(n,[{key:"matches",value:function(e){return gk(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=fr(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(vk);function gk(e){return"and"===e.op}function bk(e){return"or"===e.op}function kk(e){return wk(e)&&gk(e)}function wk(e){var t,n=fr(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof yk)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function xk(e){if(e instanceof mk)return e.field.canonicalString()+e.op.toString()+Gb(e.value);if(kk(e))return e.filters.map((function(e){return xk(e)})).join(",");var t=e.filters.map((function(e){return xk(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function _k(e,t){return e instanceof mk?function(e,t){return t instanceof mk&&e.op===t.op&&e.field.isEqual(t.field)&&qb(e.value,t.value)}(e,t):e instanceof yk?function(e,t){return t instanceof yk&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&_k(n,t.filters[r])}),!0)}(e,t):void qy()}function Sk(e,t){var n=e.filters.concat(t);return yk.create(n,e.op)}function Ek(e){return e instanceof mk?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Gb(e.value))}(e):e instanceof yk?function(e){return e.op.toString()+" {"+e.getFilters().map(Ek).join(" ,")+"}"}(e):"Filter"}var Tk=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a;return ur(this,n),(a=t.call(this,e,r,i)).key=pg.fromName(i.referenceValue),a}return lr(n,[{key:"matches",value:function(e){var t=pg.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(mk),Ik=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e,"in",r)).keys=Ok("in",r),i}return lr(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(mk),Ck=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e,"not-in",r)).keys=Ok("not-in",r),i}return lr(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(mk);function Ok(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return pg.fromName(e.referenceValue)}))}var Ak=function(e){pr(n,e);var t=gr(n);function n(e,r){return ur(this,n),t.call(this,e,"array-contains",r)}return lr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Yb(t)&&Hb(t.arrayValue,this.value)}}]),n}(mk),Pk=function(e){pr(n,e);var t=gr(n);function n(e,r){return ur(this,n),t.call(this,e,"in",r)}return lr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Hb(this.value.arrayValue,t)}}]),n}(mk),Nk=function(e){pr(n,e);var t=gr(n);function n(e,r){return ur(this,n),t.call(this,e,"not-in",r)}return lr(n,[{key:"matches",value:function(e){if(Hb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Hb(this.value.arrayValue,t)}}]),n}(mk),Rk=function(e){pr(n,e);var t=gr(n);function n(e,r){return ur(this,n),t.call(this,e,"array-contains-any",r)}return lr(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Yb(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Hb(t.value.arrayValue,e)}))}}]),n}(mk),Dk=lr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ur(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function Lk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Dk(e,t,n,r,i,a,o)}function Mk(e){var t=Wy(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return xk(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Vg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Gb(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Gb(e)})).join(",")),t.ft=n}return t.ft}function jk(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!pk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!_k(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!hk(e.startAt,t.startAt)&&hk(e.endAt,t.endAt)}function Fk(e){return pg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Uk(e,t){return e.filters.filter((function(e){return e instanceof mk&&e.field.isEqual(t)}))}function zk(e,t,n){var r,i=Vb,a=!0,o=fr(Uk(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Vb,c=!0;switch(s.op){case"<":case"<=":u=rk(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Vb}ak({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ak({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Vk(e,t,n){var r,i=zb,a=!0,o=fr(Uk(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=zb,c=!0;switch(s.op){case">=":case">":u=ik(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=zb}ok({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ok({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Bk=lr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ur(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}));function qk(e,t,n,r,i,a,o,s){return new Bk(e,t,n,r,i,a,o,s)}function Hk(e){return new Bk(e)}function Wk(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Kk(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Gk(e){var t,n=fr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Qk(e){return null!==e.collectionGroup}function $k(e){var t=Wy(e);if(null===t.dt){t.dt=[];var n=Gk(t),r=Kk(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new dk(n)),t.dt.push(new dk(dg.keyField(),"asc"));else{var i,a=!1,o=fr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new dk(dg.keyField(),u))}}}return t.dt}function Xk(e){var t=Wy(e);if(!t._t)if("F"===t.limitType)t._t=Lk(t.path,t.collectionGroup,$k(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=fr($k(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new dk(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new lk(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new lk(t.startAt.position,t.startAt.inclusive):null;t._t=Lk(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function Yk(e,t){t.getFirstInequalityField(),Gk(e);var n=e.filters.concat([t]);return new Bk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Jk(e,t,n){return new Bk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Zk(e,t){return jk(Xk(e),Xk(t))&&e.limitType===t.limitType}function ew(e){return"".concat(Mk(Xk(e)),"|lt:").concat(e.limitType)}function tw(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Ek(e)})).join(", "),"]")),Vg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Gb(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Gb(e)})).join(",")),"Target(".concat(t,")")}(Xk(e)),"; limitType=").concat(e.limitType,")")}function nw(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):pg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=fr($k(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=fr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=fk(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,$k(e),t))&&!(e.endAt&&!function(e,t,n){var r=fk(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,$k(e),t))}(e,t)}function rw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function iw(e){return function(t,n){var r,i=!1,a=fr($k(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=aw(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function aw(e,t,n){var r=e.field.isKeyField()?pg.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Wb(r,i):qy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return qy()}}var ow=function(){function e(t,n){ur(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return lr(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=fr(n);try{for(i.s();!(r=i.n()).done;){var a=Nt(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){kb(this.inner,(function(t,n){var r,i=fr(n);try{for(i.s();!(r=i.n()).done;){var a=Nt(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return wb(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),sw=new xb(pg.comparator);function uw(){return sw}var cw=new xb(pg.comparator);function lw(){for(var e=cw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function fw(e){var t=cw;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function hw(){return pw()}function dw(){return pw()}function pw(){return new ow((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var vw=new xb(pg.comparator),mw=new Eb(pg.comparator);function yw(){for(var e=mw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var gw=new Eb(ag);function bw(){return gw}function kw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bg(t)?"-0":t}}function ww(e){return{integerValue:""+e}}function xw(e,t){return qg(t)?ww(t):kw(e,t)}var _w=lr((function e(){ur(this,e),this._=void 0}));function Sw(e,t,n){return e instanceof Iw?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Lb(t)&&(t=Mb(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Cw?Ow(e,t):e instanceof Aw?Pw(e,t):function(e,t){var n=Tw(e,t),r=Rw(n)+Rw(e.wt);return Xb(n)&&Xb(e.wt)?ww(r):kw(e.serializer,r)}(e,t)}function Ew(e,t,n){return e instanceof Cw?Ow(e,t):e instanceof Aw?Pw(e,t):n}function Tw(e,t){return e instanceof Nw?Xb(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Iw=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n)}(_w),Cw=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this)).elements=e,r}return lr(n)}(_w);function Ow(e,t){var n,r=Dw(t),i=fr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return qb(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Aw=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this)).elements=e,r}return lr(n)}(_w);function Pw(e,t){var n,r=Dw(t),i=fr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!qb(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Nw=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this)).serializer=e,i.wt=r,i}return lr(n)}(_w);function Rw(e){return Rb(e.integerValue||e.doubleValue)}function Dw(e){return Yb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Lw=lr((function e(t,n){ur(this,e),this.field=t,this.transform=n}));var Mw=lr((function e(t,n){ur(this,e),this.version=t,this.transformResults=n})),jw=function(){function e(t,n){ur(this,e),this.updateTime=t,this.exists=n}return lr(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Fw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Uw=lr((function e(){ur(this,e)}));function zw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Jw(e.key,jw.none()):new Ww(e.key,e.data,jw.none());var n,r=e.data,i=sk.empty(),a=new Eb(dg.comparator),o=fr(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new Kw(e.key,i,new Cb(a.toArray()),jw.none())}function Vw(e,t,n){e instanceof Ww?function(e,t,n){var r=e.value.clone(),i=Qw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Kw?function(e,t,n){if(Fw(e.precondition,t)){var r=Qw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Gw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Bw(e,t,n,r){return e instanceof Ww?function(e,t,n,r){if(!Fw(e.precondition,t))return n;var i=e.value.clone(),a=$w(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Kw?function(e,t,n,r){if(!Fw(e.precondition,t))return n;var i=$w(e.fieldTransforms,r,t),a=t.data;return a.setAll(Gw(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Fw(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function qw(e,t){var n,r=null,i=fr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Tw(a.transform,o||null);null!=s&&(null===r&&(r=sk.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Hw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&og(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Cw&&t instanceof Cw||e instanceof Aw&&t instanceof Aw?og(e.elements,t.elements,qb):e instanceof Nw&&t instanceof Nw?qb(e.wt,t.wt):e instanceof Iw&&t instanceof Iw}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Ww=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ur(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return lr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Uw),Kw=function(e){pr(n,e);var t=gr(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ur(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return lr(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Uw);function Gw(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Qw(e,t,n){var r=new Map;Hy(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Ew(o,s,n[i]))}return r}function $w(e,t,n){var r,i=new Map,a=fr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Sw(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Xw,Yw,Jw=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return lr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Uw),Zw=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return lr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Uw),ex=function(){function e(t,n,r,i){ur(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return lr(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Vw(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=fr(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Bw(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=fr(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Bw(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=dw();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=zw(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(cg.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),yw())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&og(this.mutations,e.mutations,(function(e,t){return Hw(e,t)}))&&og(this.baseMutations,e.baseMutations,(function(e,t){return Hw(e,t)}))}}]),e}(),tx=function(){function e(t,n,r,i){ur(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return lr(e,null,[{key:"from",value:function(t,n,r){Hy(t.mutations.length===r.length);for(var i=vw,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),nx=function(){function e(t,n){ur(this,e),this.largestBatchId=t,this.mutation=n}return lr(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),rx=lr((function e(t,n){ur(this,e),this.count=t,this.unchangedNames=n}));function ix(e){switch(e){default:return qy();case Ky.CANCELLED:case Ky.UNKNOWN:case Ky.DEADLINE_EXCEEDED:case Ky.RESOURCE_EXHAUSTED:case Ky.INTERNAL:case Ky.UNAVAILABLE:case Ky.UNAUTHENTICATED:return!1;case Ky.INVALID_ARGUMENT:case Ky.NOT_FOUND:case Ky.ALREADY_EXISTS:case Ky.PERMISSION_DENIED:case Ky.FAILED_PRECONDITION:case Ky.ABORTED:case Ky.OUT_OF_RANGE:case Ky.UNIMPLEMENTED:case Ky.DATA_LOSS:return!0}}function ax(e){if(void 0===e)return zy("GRPC error has no .code"),Ky.UNKNOWN;switch(e){case Xw.OK:return Ky.OK;case Xw.CANCELLED:return Ky.CANCELLED;case Xw.UNKNOWN:return Ky.UNKNOWN;case Xw.DEADLINE_EXCEEDED:return Ky.DEADLINE_EXCEEDED;case Xw.RESOURCE_EXHAUSTED:return Ky.RESOURCE_EXHAUSTED;case Xw.INTERNAL:return Ky.INTERNAL;case Xw.UNAVAILABLE:return Ky.UNAVAILABLE;case Xw.UNAUTHENTICATED:return Ky.UNAUTHENTICATED;case Xw.INVALID_ARGUMENT:return Ky.INVALID_ARGUMENT;case Xw.NOT_FOUND:return Ky.NOT_FOUND;case Xw.ALREADY_EXISTS:return Ky.ALREADY_EXISTS;case Xw.PERMISSION_DENIED:return Ky.PERMISSION_DENIED;case Xw.FAILED_PRECONDITION:return Ky.FAILED_PRECONDITION;case Xw.ABORTED:return Ky.ABORTED;case Xw.OUT_OF_RANGE:return Ky.OUT_OF_RANGE;case Xw.UNIMPLEMENTED:return Ky.UNIMPLEMENTED;case Xw.DATA_LOSS:return Ky.DATA_LOSS;default:return qy()}}(Yw=Xw||(Xw={}))[Yw.OK=0]="OK",Yw[Yw.CANCELLED=1]="CANCELLED",Yw[Yw.UNKNOWN=2]="UNKNOWN",Yw[Yw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yw[Yw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yw[Yw.NOT_FOUND=5]="NOT_FOUND",Yw[Yw.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yw[Yw.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yw[Yw.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yw[Yw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yw[Yw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yw[Yw.ABORTED=10]="ABORTED",Yw[Yw.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yw[Yw.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yw[Yw.INTERNAL=13]="INTERNAL",Yw[Yw.UNAVAILABLE=14]="UNAVAILABLE",Yw[Yw.DATA_LOSS=15]="DATA_LOSS";var ox=function(){function e(){ur(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return lr(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return sx}},{key:"getOrCreateInstance",value:function(){return null===sx&&(sx=new e),sx}}]),e}(),sx=null;function ux(){return new TextEncoder}var cx=new Ry([4294967295,4294967295],0);function lx(e){var t=ux().encode(e),n=new Ny;return n.update(t),new Uint8Array(n.digest())}function fx(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Ry([n,r],0),new Ry([i,a],0)]}var hx=function(){function e(t,n,r){if(ur(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dx("Invalid padding: ".concat(n));if(r<0)throw new dx("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new dx("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new dx("Invalid padding when bitmap length is 0: ".concat(n));this.yt=8*t.length-n,this.It=Ry.fromNumber(this.yt)}return lr(e,[{key:"Tt",value:function(e,t,n){var r=e.add(t.multiply(Ry.fromNumber(n)));return 1===r.compare(cx)&&(r=new Ry([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}},{key:"Et",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"At",value:function(e){if(0===this.yt)return!1;for(var t=Nt(fx(lx(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Tt(n,r,i);if(!this.Et(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.yt)for(var t=Nt(fx(lx(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Tt(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),dx=function(e){pr(n,e);var t=gr(n);function n(){var e;return ur(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return lr(n)}(kr(Error)),px=function(){function e(t,n,r,i,a){ur(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return lr(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,vx.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(cg.min(),i,new xb(ag),uw(),yw())}}]),e}(),vx=function(){function e(t,n,r,i,a){ur(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return lr(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,yw(),yw(),yw())}}]),e}(),mx=lr((function e(t,n,r,i){ur(this,e),this.vt=t,this.removedTargetIds=n,this.key=r,this.Pt=i})),yx=lr((function e(t,n){ur(this,e),this.targetId=t,this.bt=n})),gx=lr((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ab.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ur(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),bx=function(){function e(){ur(this,e),this.Vt=0,this.St=xx(),this.Dt=Ab.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}return lr(e,[{key:"current",get:function(){return this.Ct}},{key:"resumeToken",get:function(){return this.Dt}},{key:"Nt",get:function(){return 0!==this.Vt}},{key:"kt",get:function(){return this.xt}},{key:"Mt",value:function(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}},{key:"Ot",value:function(){var e=yw(),t=yw(),n=yw();return this.St.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:qy()}})),new vx(this.Dt,this.Ct,e,t,n)}},{key:"$t",value:function(){this.xt=!1,this.St=xx()}},{key:"Ft",value:function(e,t){this.xt=!0,this.St=this.St.insert(e,t)}},{key:"Bt",value:function(e){this.xt=!0,this.St=this.St.remove(e)}},{key:"Lt",value:function(){this.Vt+=1}},{key:"qt",value:function(){this.Vt-=1}},{key:"Ut",value:function(){this.xt=!0,this.Ct=!0}}]),e}(),kx=function(){function e(t){ur(this,e),this.Kt=t,this.Gt=new Map,this.Qt=uw(),this.jt=wx(),this.zt=new xb(ag)}return lr(e,[{key:"Wt",value:function(e){var t,n=fr(e.vt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Pt&&e.Pt.isFoundDocument()?this.Ht(r,e.Pt):this.Jt(r,e.key,e.Pt)}}catch(s){n.e(s)}finally{n.f()}var i,a=fr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Jt(o,e.key,e.Pt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Yt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Xt(n);switch(e.state){case 0:t.Zt(n)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||t.removeTarget(n);break;case 3:t.Zt(n)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:t.Zt(n)&&(t.te(n),r.Mt(e.resumeToken));break;default:qy()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((function(e,r){n.Zt(r)&&t(r)}))}},{key:"ee",value:function(e){var t,n=e.targetId,r=e.bt.count,i=this.ne(n);if(i){var a=i.target;if(Fk(a))if(0===r){var o=new pg(a.path);this.Jt(n,o,ck.newNoDocument(o,cg.min()))}else Hy(1===r);else{var s=this.se(n);if(s!==r){var u=this.ie(e,s);if(0!==u){this.te(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.zt=this.zt.insert(n,c)}null===(t=ox.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.bt))}}}}},{key:"ie",value:function(e,t){var n=e.bt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=Db(c).toUint8Array()}catch(e){if(e instanceof Ob)return Vy("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new hx(a,f,d)}catch(e){return Vy(e instanceof dx?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.yt?1:i!==t-this.re(e.targetId,o)?2:0}},{key:"re",value:function(e,t){var n=this,r=this.Kt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Kt.oe(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.At(o)||(n.Jt(e,r,null),i++)})),i}},{key:"ue",value:function(e){var t=this,n=new Map;this.Gt.forEach((function(r,i){var a=t.ne(i);if(a){if(r.current&&Fk(a.target)){var o=new pg(a.target.path);null!==t.Qt.get(o)||t.ce(i,o)||t.Jt(i,o,ck.newNoDocument(o,e))}r.kt&&(n.set(i,r.Ot()),r.$t())}}));var r=yw();this.jt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ne(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Qt.forEach((function(t,n){return n.setReadTime(e)}));var i=new px(e,n,this.zt,this.Qt,r);return this.Qt=uw(),this.jt=wx(),this.zt=new xb(ag),i}},{key:"Ht",value:function(e,t){if(this.Zt(e)){var n=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,n),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}}},{key:"Jt",value:function(e,t,n){if(this.Zt(e)){var r=this.Xt(e);this.ce(e,t)?r.Ft(t,1):r.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),n&&(this.Qt=this.Qt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Gt.delete(e)}},{key:"se",value:function(e){var t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Lt",value:function(e){this.Xt(e).Lt()}},{key:"Xt",value:function(e){var t=this.Gt.get(e);return t||(t=new bx,this.Gt.set(e,t)),t}},{key:"ae",value:function(e){var t=this.jt.get(e);return t||(t=new Eb(ag),this.jt=this.jt.insert(e,t)),t}},{key:"Zt",value:function(e){var t=null!==this.ne(e);return t||Uy("WatchChangeAggregator","Detected inactive target",e),t}},{key:"ne",value:function(e){var t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}},{key:"te",value:function(e){var t=this;this.Gt.set(e,new bx),this.Kt.getRemoteKeysForTarget(e).forEach((function(n){t.Jt(e,n,null)}))}},{key:"ce",value:function(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}]),e}();function wx(){return new xb(pg.comparator)}function xx(){return new xb(pg.comparator)}var _x={asc:"ASCENDING",desc:"DESCENDING"},Sx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ex={and:"AND",or:"OR"},Tx=lr((function e(t,n){ur(this,e),this.databaseId=t,this.useProto3Json=n}));function Ix(e,t){return e.useProto3Json||Vg(t)?t:{value:t}}function Cx(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ox(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ax(e,t){return Cx(e,t.toTimestamp())}function Px(e){return Hy(!!e),cg.fromTimestamp(function(e){var t=Nb(e);return new ug(t.seconds,t.nanos)}(e))}function Nx(e,t){return function(e){return new fg(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Rx(e){var t=fg.fromString(e);return Hy(n_(t)),t}function Dx(e,t){return Nx(e.databaseId,t.path)}function Lx(e,t){var n=Rx(t);if(n.get(1)!==e.databaseId.projectId)throw new Gy(Ky.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Gy(Ky.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pg(Ux(n))}function Mx(e,t){return Nx(e.databaseId,t)}function jx(e){var t=Rx(e);return 4===t.length?fg.emptyPath():Ux(t)}function Fx(e){return new fg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ux(e){return Hy(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function zx(e,t,n){return{name:Dx(e,t),fields:n.value.mapValue.fields}}function Vx(e,t,n){var r=Lx(e,t.name),i=Px(t.updateTime),a=t.createTime?Px(t.createTime):cg.min(),o=new sk({mapValue:{fields:t.fields}}),s=ck.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Bx(e,t){return"found"in t?function(e,t){Hy(!!t.found),t.found.name,t.found.updateTime;var n=Lx(e,t.found.name),r=Px(t.found.updateTime),i=t.found.createTime?Px(t.found.createTime):cg.min(),a=new sk({mapValue:{fields:t.found.fields}});return ck.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Hy(!!t.missing),Hy(!!t.readTime);var n=Lx(e,t.missing),r=Px(t.readTime);return ck.newNoDocument(n,r)}(e,t):qy()}function qx(e,t){var n;if(t instanceof Ww)n={update:zx(e,t.key,t.value)};else if(t instanceof Jw)n={delete:Dx(e,t.key)};else if(t instanceof Kw)n={update:zx(e,t.key,t.data),updateMask:t_(t.fieldMask)};else{if(!(t instanceof Zw))return qy();n={verify:Dx(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Iw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Aw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Nw)return{fieldPath:t.field.canonicalString(),increment:n.wt};throw qy()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ax(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:qy()}(e,t.precondition)),n}function Hx(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?jw.updateTime(Px(e.updateTime)):void 0!==e.exists?jw.exists(e.exists):jw.none()}(t.currentDocument):jw.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Hy("REQUEST_TIME"===t.setToServerValue),n=new Iw;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Cw(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Aw(i)}else"increment"in t?n=new Nw(e,t.increment):qy();var a=dg.fromServerFormat(t.fieldPath);return new Lw(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Lx(e,t.update.name),a=new sk({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Cb(t.map((function(e){return dg.fromServerFormat(e)})))}(t.updateMask);return new Kw(i,a,o,n,r)}return new Ww(i,a,n,r)}if(t.delete){var s=Lx(e,t.delete);return new Jw(s,n)}if(t.verify){var u=Lx(e,t.verify);return new Zw(u,n)}return qy()}function Wx(e,t){return{documents:[Mx(e,t.path)]}}function Kx(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Mx(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Mx(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return e_(yk.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Jx(e.field),direction:$x(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=Ix(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Gx(e){var t=jx(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Hy(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Qx(e);return t instanceof yk&&kk(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new dk(Zx(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Vg(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new lk(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new lk(n,t)}(n.endAt)),qk(t,i,s,o,u,"F",c,l)}function Qx(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Zx(e.unaryFilter.field);return mk.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Zx(e.unaryFilter.field);return mk.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Zx(e.unaryFilter.field);return mk.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Zx(e.unaryFilter.field);return mk.create(i,"!=",{nullValue:"NULL_VALUE"});default:return qy()}}(e):void 0!==e.fieldFilter?function(e){return mk.create(Zx(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qy()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return yk.create(e.compositeFilter.filters.map((function(e){return Qx(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return qy()}}(e.compositeFilter.op))}(e):qy()}function $x(e){return _x[e]}function Xx(e){return Sx[e]}function Yx(e){return Ex[e]}function Jx(e){return{fieldPath:e.canonicalString()}}function Zx(e){return dg.fromServerFormat(e.fieldPath)}function e_(e){return e instanceof mk?function(e){if("=="===e.op){if(Zb(e.value))return{unaryFilter:{field:Jx(e.field),op:"IS_NAN"}};if(Jb(e.value))return{unaryFilter:{field:Jx(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Zb(e.value))return{unaryFilter:{field:Jx(e.field),op:"IS_NOT_NAN"}};if(Jb(e.value))return{unaryFilter:{field:Jx(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jx(e.field),op:Xx(e.op),value:e.value}}}(e):e instanceof yk?function(e){var t=e.getFilters().map((function(e){return e_(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Yx(e.op),filters:t}}}(e):qy()}function t_(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function n_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var r_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:cg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:cg.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ab.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ur(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return lr(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),i_=lr((function e(t){ur(this,e),this.le=t}));function a_(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:o_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Dx(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Cx(e,t.version.toTimestamp()),createTime:Cx(e,t.createTime.toTimestamp())}}(e.le,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:s_(t.version)};else{if(!t.isUnknownDocument())return qy();r.unknownDocument={path:n.path.toArray(),version:s_(t.version)}}return r}function o_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function s_(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function u_(e){var t=new ug(e.seconds,e.nanoseconds);return cg.fromTimestamp(t)}function c_(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Hx(e.le,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Hx(e.le,t)})),s=ug.fromMillis(t.localWriteTimeMs);return new ex(t.batchId,s,n,o)}function l_(e){var t,n,r=u_(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?u_(e.lastLimboFreeSnapshotVersion):cg.min();return void 0!==e.query.documents?(Hy(1===(n=e.query).documents.length),t=Xk(Hk(jx(n.documents[0])))):t=function(e){return Xk(Gx(e))}(e.query),new r_(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,Ab.fromBase64String(e.resumeToken))}function f_(e,t){var n,r=s_(t.snapshotVersion),i=s_(t.lastLimboFreeSnapshotVersion);n=Fk(t.target)?Wx(e.le,t.target):Kx(e.le,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Mk(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function h_(e){var t=Gx({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Jk(t,t.limit,"L"):t}function d_(e,t){return new nx(t.largestBatchId,Hx(e.le,t.overlayMutation))}function p_(e,t){var n=t.path.lastSegment();return[e,Hg(t.path.popLast()),n]}function v_(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:s_(r.readTime),documentKey:Hg(r.documentKey.path),largestBatchId:r.largestBatchId}}var m_=function(){function e(){ur(this,e)}return lr(e,[{key:"getBundleMetadata",value:function(e,t){return y_(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:u_(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return y_(e).put({bundleId:(n=t).id,createTime:s_(Px(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return g_(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:h_(t.bundledQuery),readTime:u_(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return g_(e).put(function(e){return{name:e.name,readTime:s_(Px(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function y_(e){return gb(e,"bundles")}function g_(e){return gb(e,"namedQueries")}var b_=function(){function e(t,n){ur(this,e),this.serializer=t,this.userId=n}return lr(e,[{key:"getOverlay",value:function(e,t){var n=this;return k_(e).get(p_(this.userId,t)).next((function(e){return e?d_(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=hw();return Cg.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new nx(t,a);i.push(r.de(e,o))})),Cg.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Hg(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(k_(e).J("collectionPathOverlayIndex",i))})),Cg.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=hw(),a=Hg(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return k_(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=fr(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=d_(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=hw(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return k_(e).X({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=d_(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"de",value:function(e,t){return k_(e).put(function(e,t,n){var r=Nt(p_(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:qx(e.le,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"fe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function k_(e){return gb(e,"documentOverlays")}var w_=function(){function e(){ur(this,e)}return lr(e,[{key:"_e",value:function(e,t){this.we(e,t),t.me()}},{key:"we",value:function(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Rb(e.integerValue));else if("doubleValue"in e){var n=Rb(e.doubleValue);isNaN(n)?this.ge(t,13):(this.ge(t,15),Bg(n)?t.ye(0):t.ye(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe("".concat(r.seconds||"")),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(Db(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ge(t,45),t.ye(i.latitude||0),t.ye(i.longitude||0)}else"mapValue"in e?nk(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):qy()}},{key:"Ie",value:function(e,t){this.ge(t,25),this.Pe(e,t)}},{key:"Pe",value:function(e,t){t.pe(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ge(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Ie(a,t),this.we(n[a],t)}}},{key:"ve",value:function(e,t){var n=e.values||[];this.ge(t,50);var r,i=fr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.we(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"Ae",value:function(e,t){var n=this;this.ge(t,37),pg.fromName(e).path.forEach((function(e){n.ge(t,60),n.Pe(e,t)}))}},{key:"ge",value:function(e,t){e.ye(t)}},{key:"Te",value:function(e){e.ye(2)}}]),e}();function x_(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function __(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=x_(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}w_.be=new w_;var S_=function(){function e(){ur(this,e),this.buffer=new Uint8Array(1024),this.position=0}return lr(e,[{key:"Ve",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Se(n.value),n=t.next();this.De()}},{key:"Ce",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.xe(n.value),n=t.next();this.Ne()}},{key:"ke",value:function(e){var t,n=fr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Se(i);else if(i<2048)this.Se(960|i>>>6),this.Se(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Se(480|i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i);else{var a=r.codePointAt(0);this.Se(240|a>>>18),this.Se(128|63&a>>>12),this.Se(128|63&a>>>6),this.Se(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.De()}},{key:"Me",value:function(e){var t,n=fr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.xe(i);else if(i<2048)this.xe(960|i>>>6),this.xe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.xe(480|i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i);else{var a=r.codePointAt(0);this.xe(240|a>>>18),this.xe(128|63&a>>>12),this.xe(128|63&a>>>6),this.xe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ne()}},{key:"Oe",value:function(e){var t=this.$e(e),n=__(t);this.Fe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Be",value:function(e){var t=this.$e(e),n=__(t);this.Fe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Le",value:function(){this.qe(255),this.qe(255)}},{key:"Ue",value:function(){this.Ke(255),this.Ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ge",value:function(){return this.buffer.slice(0,this.position)}},{key:"$e",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Se",value:function(e){var t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}},{key:"xe",value:function(e){var t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}},{key:"De",value:function(){this.qe(0),this.qe(1)}},{key:"Ne",value:function(){this.Ke(0),this.Ke(1)}},{key:"qe",value:function(e){this.Fe(1),this.buffer[this.position++]=e}},{key:"Ke",value:function(e){this.Fe(1),this.buffer[this.position++]=~e}},{key:"Fe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),E_=function(){function e(t){ur(this,e),this.Qe=t}return lr(e,[{key:"Ee",value:function(e){this.Qe.Ve(e)}},{key:"pe",value:function(e){this.Qe.ke(e)}},{key:"ye",value:function(e){this.Qe.Oe(e)}},{key:"me",value:function(){this.Qe.Le()}}]),e}(),T_=function(){function e(t){ur(this,e),this.Qe=t}return lr(e,[{key:"Ee",value:function(e){this.Qe.Ce(e)}},{key:"pe",value:function(e){this.Qe.Me(e)}},{key:"ye",value:function(e){this.Qe.Be(e)}},{key:"me",value:function(){this.Qe.Ue()}}]),e}(),I_=function(){function e(){ur(this,e),this.Qe=new S_,this.je=new E_(this.Qe),this.ze=new T_(this.Qe)}return lr(e,[{key:"seed",value:function(e){this.Qe.seed(e)}},{key:"We",value:function(e){return 0===e?this.je:this.ze}},{key:"Ge",value:function(){return this.Qe.Ge()}},{key:"reset",value:function(){this.Qe.reset()}}]),e}(),C_=function(){function e(t,n,r,i){ur(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return lr(e,[{key:"He",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function O_(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=A_(e.arrayValue,t.arrayValue))?n:0!==(n=A_(e.directionalValue,t.directionalValue))?n:pg.comparator(e.documentKey,t.documentKey)}function A_(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var P_=function(){function e(t){ur(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Je=t.orderBy,this.Ye=[];var n,r=fr(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Xe=i:this.Ye.push(i)}}catch(a){r.e(a)}finally{r.f()}}return lr(e,[{key:"Ze",value:function(e){Hy(e.collectionGroup===this.collectionId);var t=mg(e);if(void 0!==t&&!this.tn(t))return!1;for(var n=yg(e),r=0,i=0;r<n.length&&this.tn(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Xe){var a=n[r];if(!this.en(this.Xe,a)||!this.nn(this.Je[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Je.length||!this.nn(this.Je[i++],o))return!1}return!0}},{key:"tn",value:function(e){var t,n=fr(this.Ye);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.en(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"en",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"nn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function N_(e){var t,n;if(Hy(e instanceof mk||e instanceof yk),e instanceof mk){if(e instanceof Pk){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return mk.create(e.field,"==",t)})))||[];return yk.create(r,"or")}return e}var i=e.filters.map((function(e){return N_(e)}));return yk.create(i,e.op)}function R_(e){if(0===e.getFilters().length)return[];var t=j_(N_(e));return Hy(M_(t)),D_(t)||L_(t)?[t]:t.getFilters()}function D_(e){return e instanceof mk}function L_(e){return e instanceof yk&&kk(e)}function M_(e){return D_(e)||L_(e)||function(e){if(e instanceof yk&&bk(e)){var t,n=fr(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!D_(r)&&!L_(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function j_(e){if(Hy(e instanceof mk||e instanceof yk),e instanceof mk)return e;if(1===e.filters.length)return j_(e.filters[0]);var t=e.filters.map((function(e){return j_(e)})),n=yk.create(t,e.op);return M_(n=z_(n))?n:(Hy(n instanceof yk),Hy(gk(n)),Hy(n.filters.length>1),n.filters.reduce((function(e,t){return F_(e,t)})))}function F_(e,t){var n;return Hy(e instanceof mk||e instanceof yk),Hy(t instanceof mk||t instanceof yk),n=e instanceof mk?t instanceof mk?function(e,t){return yk.create([e,t],"and")}(e,t):U_(e,t):t instanceof mk?U_(t,e):function(e,t){if(Hy(e.filters.length>0&&t.filters.length>0),gk(e)&&gk(t))return Sk(e,t.getFilters());var n=bk(e)?e:t,r=bk(e)?t:e,i=n.filters.map((function(e){return F_(e,r)}));return yk.create(i,"or")}(e,t),z_(n)}function U_(e,t){if(gk(t))return Sk(t,e.getFilters());var n=t.filters.map((function(t){return F_(e,t)}));return yk.create(n,"or")}function z_(e){if(Hy(e instanceof mk||e instanceof yk),e instanceof mk)return e;var t=e.getFilters();if(1===t.length)return z_(t[0]);if(wk(e))return e;var n=t.map((function(e){return z_(e)})),r=[];return n.forEach((function(t){t instanceof mk?r.push(t):t instanceof yk&&(t.op===e.op?r.push.apply(r,ei(t.filters)):r.push(t))})),1===r.length?r[0]:yk.create(r,e.op)}var V_=function(){function e(){ur(this,e),this.sn=new B_}return lr(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.sn.add(t),Cg.resolve()}},{key:"getCollectionParents",value:function(e,t){return Cg.resolve(this.sn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Cg.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Cg.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Cg.resolve(null)}},{key:"getIndexType",value:function(e,t){return Cg.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Cg.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Cg.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Cg.resolve(xg.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Cg.resolve(xg.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Cg.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Cg.resolve()}}]),e}(),B_=function(){function e(){ur(this,e),this.index={}}return lr(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Eb(fg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Eb(fg.comparator)).toArray()}}]),e}(),q_=new Uint8Array(0),H_=function(){function e(t,n){ur(this,e),this.user=t,this.databaseId=n,this.rn=new B_,this.on=new ow((function(e){return Mk(e)}),(function(e,t){return jk(e,t)})),this.uid=t.uid||""}return lr(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.rn.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.rn.add(t)}));var a={collectionId:r,parent:Hg(i)};return W_(e).put(a)}return Cg.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[sg(t),""],!1,!0);return W_(e).j(r).next((function(e){var r,i=fr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Gg(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=G_(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Q_(e);return a.next((function(e){o.put(v_(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=G_(e),r=Q_(e),i=K_(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=K_(e),i=!0,a=new Map;return Cg.forEach(this.un(t),(function(t){return n.cn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=yw(),o=[];return Cg.forEach(a,(function(i,a){var s;Uy("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Mk(t)));var u=function(e,t){var n=mg(t);if(void 0===n)return null;var r,i=fr(Uk(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=fr(yg(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=fr(Uk(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=fr(yg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?zk(e,o.fieldPath,e.startAt):Vk(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new lk(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=fr(yg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Vk(e,o.fieldPath,e.endAt):zk(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new lk(r,i)}(a,i),h=n.an(i,a,l),d=n.an(i,a,f),p=n.hn(i,a,c),v=n.ln(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return Cg.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=pg.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Cg.resolve(null)}))}},{key:"un",value:function(e){var t=this.on.get(e);return t||(t=0===e.filters.length?[e]:R_(yk.create(e.filters,"and")).map((function(t){return Lk(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.on.set(e,t),t)}},{key:"ln",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(u){var f=t?s.fn(t[u/c]):q_,h=s.dn(e,f,n[u%c],r),d=s._n(e,f,i[u%c],a),p=o.map((function(t){return s.dn(e,f,t,!0)}));l.push.apply(l,ei(s.createRange(h,d,p)))},h=0;h<u;++h)f(h);return l}},{key:"dn",value:function(e,t,n,r){var i=new C_(e,pg.empty(),t,n);return r?i:i.He()}},{key:"_n",value:function(e,t,n,r){var i=new C_(e,pg.empty(),t,n);return r?i.He():i}},{key:"cn",value:function(e,t){var n=new P_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=fr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ze(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.un(t);return Cg.forEach(i,(function(t){return n.cn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Eb(dg.comparator),r=!1,i=fr(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=fr(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=fr(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"wn",value:function(e,t){var n,r=new I_,i=fr(yg(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.We(a.kind);w_.be._e(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Ge()}},{key:"fn",value:function(e){var t=new I_;return w_.be._e(e,t.We(0)),t.Ge()}},{key:"mn",value:function(e,t){var n=new I_;return w_.be._e($b(this.databaseId,t),n.We(function(e){var t=yg(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ge()}},{key:"hn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new I_);var i,a=0,o=fr(yg(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=fr(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.gn(t,u.fieldPath)&&Yb(c))r=this.yn(r,u,c);else{var h=f.We(u.kind);w_.be._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.pn(r)}},{key:"an",value:function(e,t,n){return this.hn(e,t,n.position)}},{key:"pn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Ge();return t}},{key:"yn",value:function(e,t,n){var r,i=ei(e),a=[],o=fr(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=fr(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new I_;f.seed(l.Ge()),w_.be._e(u,f.We(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"gn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof mk&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=G_(e),i=Q_(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return Cg.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new bg(t.sequenceNumber,new xg(u_(t.readTime),new pg(Gg(t.documentKey)),t.largestBatchId)):bg.empty(),r=e.fields.map((function(e){var t=Nt(e,2),n=t[0],r=t[1];return new gg(dg.fromServerFormat(n),r)}));return new vg(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ag(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=G_(e),a=Q_(e);return this.In(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Cg.forEach(t,(function(t){return a.put(v_(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Cg.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Cg.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Cg.forEach(a,(function(r){return n.Tn(e,t,r).next((function(t){var a=n.En(i,r);return t.isEqual(a)?Cg.resolve():n.An(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return K_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"vn",value:function(e,t,n,r){return K_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(n,t.key),t.key.path.toArray()])}},{key:"Tn",value:function(e,t,n){var r=K_(e),i=new Eb(O_);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,t)])},(function(e,r){i=i.add(new C_(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"En",value:function(e,t){var n=new Eb(O_),r=this.wn(t,e);if(null==r)return n;var i=mg(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Yb(a)){var o,s=fr(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new C_(t.indexId,e.key,this.fn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new C_(t.indexId,e.key,q_,r));return n}},{key:"An",value:function(e,t,n,r,i){var a=this;Uy("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=Ib(a),u=Ib(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=Ib(o)):l?(i(s),s=Ib(a)):(s=Ib(a),u=Ib(o))}}(r,i,O_,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.vn(e,t,n,r))})),Cg.waitFor(o)}},{key:"In",value:function(e){var t=1;return Q_(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return O_(e,t)})).filter((function(e,t,n){return!t||0!==O_(e,n[t-1])}));var r=[];r.push(e);var i,a=fr(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=O_(o,e),u=O_(o,t);if(0===s)r[0]=e.He();else if(s>0&&u<0)r.push(o),r.push(o.He());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,q_,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,q_,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Pn",value:function(e,t){return O_(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next($_)}},{key:"getMinOffset",value:function(e,t){var n=this;return Cg.mapArray(this.un(t),(function(t){return n.cn(e,t).next((function(e){return e||qy()}))})).next($_)}}]),e}();function W_(e){return gb(e,"collectionParents")}function K_(e){return gb(e,"indexEntries")}function G_(e){return gb(e,"indexConfiguration")}function Q_(e){return gb(e,"indexState")}function $_(e){Hy(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;_g(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new xg(t.readTime,t.documentKey,n)}var X_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Y_=function(){function e(t,n,r){ur(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return lr(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function J_(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.X({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Hy(1===s)})));var c,l=[],f=fr(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Xg(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Cg.waitFor(a).next((function(){return l}))}function Z_(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw qy();t=e.noDocument}return JSON.stringify(t).length}Y_.DEFAULT_COLLECTION_PERCENTILE=10,Y_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Y_.DEFAULT=new Y_(41943040,Y_.DEFAULT_COLLECTION_PERCENTILE,Y_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Y_.DISABLED=new Y_(-1,0,0);var eS=function(){function e(t,n,r,i){ur(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.bn={}}return lr(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nS(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=rS(e),o=nS(e);return o.add({}).next((function(s){Hy("number"==typeof s);var u,c=new ex(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return qx(e.le,t)})),i=n.mutations.map((function(t){return qx(e.le,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Eb((function(e,t){return ag(e.canonicalString(),t.canonicalString())})),d=fr(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Xg(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Yg))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.bn[s]=c.keys()})),Cg.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return nS(e).get(t).next((function(e){return e?(Hy(e.userId===n.userId),c_(n.serializer,e)):null}))}},{key:"Vn",value:function(e,t){var n=this;return this.bn[t]?Cg.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.bn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return nS(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Hy(t.batchId>=r),a=c_(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return nS(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nS(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return c_(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=$g(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return rS(e).X({range:i},(function(r,i,o){var s=Nt(r,3),u=s[0],c=s[1],l=s[2],f=Gg(c);if(u===n.userId&&t.path.isEqual(f))return nS(e).get(l).next((function(e){if(!e)throw qy();Hy(e.userId===n.userId),a.push(c_(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Eb(ag),i=[];return t.forEach((function(t){var a=$g(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=rS(e).X({range:o},(function(e,i,a){var o=Nt(e,3),s=o[0],u=o[1],c=o[2],l=Gg(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),Cg.waitFor(i).next((function(){return n.Sn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=$g(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Eb(ag);return rS(e).X({range:o},(function(e,t,a){var o=Nt(e,3),u=o[0],c=o[1],l=o[2],f=Gg(c);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.Sn(e,s)}))}},{key:"Sn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(nS(e).get(t).next((function(e){if(null===e)throw qy();Hy(e.userId===n.userId),r.push(c_(n.serializer,e))})))})),Cg.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return J_(e.at,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Dn(t.batchId)})),Cg.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Dn",value:function(e){delete this.bn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Cg.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return rS(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Gg(e[1]);i.push(a)}else r.done()})).next((function(){Hy(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return tS(e,this.userId,t)}},{key:"Cn",value:function(e){var t=this;return iS(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"fe",value:function(t,n,r,i){return Hy(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function tS(e,t,n){var r=$g(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return rS(e).X({range:a,Y:!0},(function(e,n,r){var a=Nt(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function nS(e){return gb(e,"mutations")}function rS(e){return gb(e,"documentMutations")}function iS(e){return gb(e,"mutationQueues")}var aS=function(){function e(t){ur(this,e),this.xn=t}return lr(e,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"Nn",value:function(){return new e(0)}},{key:"kn",value:function(){return new e(-1)}}]),e}(),oS=function(){function e(t,n){ur(this,e),this.referenceDelegate=t,this.serializer=n}return lr(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Mn(e).next((function(n){var r=new aS(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Mn(e).next((function(e){return cg.fromTimestamp(new ug(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Mn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Mn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.$n(e,t).next((function(){return n.Mn(e).next((function(r){return r.targetCount+=1,n.Fn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.$n(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return sS(e).delete(t.targetId)})).next((function(){return n.Mn(e)})).next((function(t){return Hy(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return sS(e).X((function(o,s){var u=l_(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Cg.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return sS(e).X((function(e,n){var r=l_(n);t(r)}))}},{key:"Mn",value:function(e){return uS(e).get("targetGlobalKey").next((function(e){return Hy(null!==e),e}))}},{key:"On",value:function(e,t){return uS(e).put("targetGlobalKey",t)}},{key:"$n",value:function(e,t){return sS(e).put(f_(this.serializer,t))}},{key:"Fn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Mn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Mk(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return sS(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=l_(n);jk(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=cS(e);return t.forEach((function(t){var o=Hg(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Cg.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=cS(e);return Cg.forEach(t,(function(t){var a=Hg(t.path);return Cg.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=cS(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=cS(e),i=yw();return r.X({range:n,Y:!0},(function(e,t,n){var r=Gg(e[1]),a=new pg(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Hg(t.path),r=IDBKeyRange.bound([n],[sg(n)],!1,!0),i=0;return cS(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=Nt(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"he",value:function(e,t){return sS(e).get(t).next((function(e){return e?l_(e):null}))}}]),e}();function sS(e){return gb(e,"targets")}function uS(e){return gb(e,"targetGlobal")}function cS(e){return gb(e,"targetDocuments")}function lS(e,t){var n=Nt(e,2),r=n[0],i=n[1],a=Nt(t,2),o=a[0],s=a[1],u=ag(r,o);return 0===u?ag(i,s):u}var fS=function(){function e(t){ur(this,e),this.Bn=t,this.buffer=new Eb(lS),this.Ln=0}return lr(e,[{key:"qn",value:function(){return++this.Ln}},{key:"Un",value:function(e){var t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();lS(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),hS=function(){function e(t,n,r){ur(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Kn=null}return lr(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}},{key:"stop",value:function(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}},{key:"started",get:function(){return null!==this.Kn}},{key:"Gn",value:function(e){var t=this;Uy("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Kn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Rg(e.t0)){e.next=12;break}Uy("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Tg(e.t0);case 14:return e.next=16,t.Gn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),dS=function(){function e(t,n){ur(this,e),this.Qn=t,this.params=n}return lr(e,[{key:"calculateTargetCount",value:function(e,t){return this.Qn.jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Cg.resolve(zg.ct);var r=new fS(t);return this.Qn.forEachTarget(e,(function(e){return r.Un(e.sequenceNumber)})).next((function(){return n.Qn.zn(e,(function(e){return r.Un(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Qn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Qn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Uy("LruGarbageCollector","Garbage collection skipped; disabled"),Cg.resolve(X_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Uy("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),X_):n.Wn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Qn.getCacheSize(e)}},{key:"Wn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Uy("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Fy()<=ai.DEBUG&&Uy("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Cg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function pS(e,t){return new dS(e,t)}var vS=function(){function e(t,n){ur(this,e),this.db=t,this.garbageCollector=pS(this,n)}return lr(e,[{key:"jn",value:function(e){var t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Hn",value:function(e){var t=0;return this.zn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"zn",value:function(e,t){return this.Jn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return mS(e,n)}},{key:"removeReference",value:function(e,t,n){return mS(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return mS(e,t)}},{key:"Yn",value:function(e,t){return function(e,t){var n=!1;return iS(e).Z((function(r){return tS(e,r,t).next((function(e){return e&&(n=!0),Cg.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Jn(e,(function(o,s){if(s<=t){var u=n.Yn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,cg.min()),cS(e).delete([0,Hg(o.path)])}))}));i.push(u)}})).next((function(){return Cg.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return mS(e,t)}},{key:"Jn",value:function(e,t){var n,r=cS(e),i=zg.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=Nt(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==zg.ct&&t(new pg(Gg(n)),i),i=u,n=s):i=zg.ct})).next((function(){i!==zg.ct&&t(new pg(Gg(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function mS(e,t){return cS(e).put(function(e,t){return{targetId:0,path:Hg(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var yS=function(){function e(){ur(this,e),this.changes=new ow((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return lr(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ck.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Cg.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),gS=function(){function e(t){ur(this,e),this.serializer=t}return lr(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return xS(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return xS(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],o_(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Xn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=ck.newInvalidDocument(t);return xS(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(_S(t))},(function(e,i){r=n.Zn(t,i)})).next((function(){return r}))}},{key:"ts",value:function(e,t){var n=this,r={size:0,document:ck.newInvalidDocument(t)};return xS(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(_S(t))},(function(e,i){r={document:n.Zn(t,i),size:Z_(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=uw();return this.es(e,t,(function(e,t){var i=n.Zn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ns",value:function(e,t){var n=this,r=uw(),i=new xb(pg.comparator);return this.es(e,t,(function(e,t){var a=n.Zn(e,t);r=r.insert(e,a),i=i.insert(e,Z_(t))})).next((function(){return{documents:r,ss:i}}))}},{key:"es",value:function(e,t,n){if(t.isEmpty())return Cg.resolve();var r=new Eb(ES);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(_S(r.first()),_S(r.last())),a=r.getIterator(),o=a.getNext();return xS(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=pg.fromSegments([].concat(ei(t.prefixPath),[t.collectionGroup,t.documentId]));o&&ES(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(_S(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),o_(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xS(e).j(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=uw(),o=fr(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.Zn(pg.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(nw(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=uw(),o=SS(t,n),s=SS(t,xg.max());return xS(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.Zn(pg.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new kS(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return wS(e).get("remoteDocumentGlobalKey").next((function(e){return Hy(!!e),e}))}},{key:"Xn",value:function(e,t){return wS(e).put("remoteDocumentGlobalKey",t)}},{key:"Zn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Vx(e.le,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=pg.fromSegments(t.noDocument.path),i=u_(t.noDocument.readTime);n=ck.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return qy();var a=pg.fromSegments(t.unknownDocument.path),o=u_(t.unknownDocument.version);n=ck.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new ug(e[0],e[1]);return cg.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(cg.min()))return n}return ck.newInvalidDocument(e)}}]),e}();function bS(e){return new gS(e)}var kS=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this)).rs=e,i.trackRemovals=r,i.os=new ow((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return lr(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Eb((function(e,t){return ag(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.os.get(a);if(n.push(t.rs.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=a_(t.rs.serializer,o);i=i.add(a.path.popLast());var c=Z_(u);r+=c-s.size,n.push(t.rs.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=a_(t.rs.serializer,o.convertToNoDocument(cg.min()));n.push(t.rs.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.rs.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.rs.updateMetadata(e,r)),Cg.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.rs.ts(e,t).next((function(e){return n.os.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.rs.ns(e,t).next((function(e){var t=e.documents;return e.ss.forEach((function(e,r){n.os.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(yS);function wS(e){return gb(e,"remoteDocumentGlobal")}function xS(e){return gb(e,"remoteDocumentsV14")}function _S(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function SS(e,t){var n=t.documentKey.path.toArray();return[e,o_(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ES(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=ag(n[a],r[a]))return i;return(i=ag(n.length,r.length))||((i=ag(n[n.length-2],r[r.length-2]))||ag(n[n.length-1],r[r.length-1]))}var TS=lr((function e(t,n){ur(this,e),this.overlayedDocument=t,this.mutatedFields=n})),IS=function(){function e(t,n,r,i){ur(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return lr(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Bw(r.mutation,e,Cb.empty(),ug.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,yw()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yw(),i=hw();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=lw();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=hw();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,yw())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=uw(),a=pw(),o=pw();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Kw)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Bw(o.mutation,t,o.mutation.getFieldMask(),ug.now())):a.set(t.key,Cb.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new TS(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=pw(),i=new xb((function(e,t){return e-t})),a=yw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=fr(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Cb.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||yw()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=dw();c.forEach((function(e){if(!a.has(e)){var n=zw(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Cg.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return pg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Qk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Cg.resolve(hw()),s=-1,u=a;return o.next((function(t){return Cg.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Cg.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,yw())})).next((function(e){return{batchId:s,changes:fw(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new pg(t)).next((function(e){var t=lw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=lw();return this.indexManager.getCollectionParents(e,i).next((function(o){return Cg.forEach(o,(function(o){var s=function(e,t){return new Bk(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,ck.newInvalidDocument(r)))}));var n=lw();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Bw(a.mutation,i,Cb.empty(),ug.now()),nw(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),CS=function(){function e(t){ur(this,e),this.serializer=t,this.us=new Map,this.cs=new Map}return lr(e,[{key:"getBundleMetadata",value:function(e,t){return Cg.resolve(this.us.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.us.set(t.id,{id:(n=t).id,version:n.version,createTime:Px(n.createTime)}),Cg.resolve()}},{key:"getNamedQuery",value:function(e,t){return Cg.resolve(this.cs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.cs.set(t.name,function(e){return{name:e.name,query:h_(e.bundledQuery),readTime:Px(e.readTime)}}(t)),Cg.resolve()}}]),e}(),OS=function(){function e(){ur(this,e),this.overlays=new xb(pg.comparator),this.hs=new Map}return lr(e,[{key:"getOverlay",value:function(e,t){return Cg.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=hw();return Cg.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.de(e,t,i)})),Cg.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hs.delete(n)),Cg.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=hw(),i=t.length+1,a=new pg(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Cg.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new xb((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=hw(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=hw(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Cg.resolve(u)}},{key:"de",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hs.get(r.largestBatchId).delete(n.key);this.hs.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new nx(t,n));var a=this.hs.get(t);void 0===a&&(a=yw(),this.hs.set(t,a)),this.hs.set(t,a.add(n.key))}}]),e}(),AS=function(){function e(){ur(this,e),this.ls=new Eb(PS.fs),this.ds=new Eb(PS._s)}return lr(e,[{key:"isEmpty",value:function(){return this.ls.isEmpty()}},{key:"addReference",value:function(e,t){var n=new PS(e,t);this.ls=this.ls.add(n),this.ds=this.ds.add(n)}},{key:"ws",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.gs(new PS(e,t))}},{key:"ys",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ps",value:function(e){var t=this,n=new pg(new fg([])),r=new PS(n,e),i=new PS(n,e+1),a=[];return this.ds.forEachInRange([r,i],(function(e){t.gs(e),a.push(e.key)})),a}},{key:"Is",value:function(){var e=this;this.ls.forEach((function(t){return e.gs(t)}))}},{key:"gs",value:function(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}},{key:"Ts",value:function(e){var t=new pg(new fg([])),n=new PS(t,e),r=new PS(t,e+1),i=yw();return this.ds.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new PS(e,0),n=this.ls.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),PS=function(){function e(t,n){ur(this,e),this.key=t,this.Es=n}return lr(e,null,[{key:"fs",value:function(e,t){return pg.comparator(e.key,t.key)||ag(e.Es,t.Es)}},{key:"_s",value:function(e,t){return ag(e.Es,t.Es)||pg.comparator(e.key,t.key)}}]),e}(),NS=function(){function e(t,n){ur(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.As=1,this.Rs=new Eb(PS.fs)}return lr(e,[{key:"checkEmpty",value:function(e){return Cg.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new ex(i,t,n,r);this.mutationQueue.push(a);var o,s=fr(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Rs=this.Rs.add(new PS(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Cg.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Cg.resolve(this.vs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ps(n),i=r<0?0:r;return Cg.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Cg.resolve(0===this.mutationQueue.length?-1:this.As-1)}},{key:"getAllMutationBatches",value:function(e){return Cg.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new PS(t,0),i=new PS(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.vs(e.Es);a.push(t)})),Cg.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Eb(ag);return t.forEach((function(e){var t=new PS(e,0),i=new PS(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.Es)}))})),Cg.resolve(this.bs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;pg.isDocumentKey(i)||(i=i.child(""));var a=new PS(new pg(i),0),o=new Eb(ag);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Es)),!0)}),a),Cg.resolve(this.bs(o))}},{key:"bs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.vs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Hy(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return Cg.forEach(t.mutations,(function(i){var a=new PS(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new PS(t,0),r=this.Rs.firstAfterOrEqual(n);return Cg.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Cg.resolve()}},{key:"Vs",value:function(e,t){return this.Ps(e)}},{key:"Ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"vs",value:function(e){var t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),RS=function(){function e(t){ur(this,e),this.Ss=t,this.docs=new xb(pg.comparator),this.size=0}return lr(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ss(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Cg.resolve(n?n.document.mutableCopy():ck.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=uw();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ck.newInvalidDocument(e))})),Cg.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=uw(),a=t.path,o=new pg(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||_g(wg(l),n)<=0||(r.has(l.key)||nw(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Cg.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){qy()}},{key:"Ds",value:function(e,t){return Cg.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new DS(this)}},{key:"getSize",value:function(e){return Cg.resolve(this.size)}}]),e}(),DS=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this)).rs=e,r}return lr(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.rs.addEntry(e,i)):t.rs.removeEntry(r)})),Cg.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.rs.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.rs.getEntries(e,t)}}]),n}(yS),LS=function(){function e(t){ur(this,e),this.persistence=t,this.Cs=new ow((function(e){return Mk(e)}),jk),this.lastRemoteSnapshotVersion=cg.min(),this.highestTargetId=0,this.xs=0,this.Ns=new AS,this.targetCount=0,this.ks=aS.Nn()}return lr(e,[{key:"forEachTarget",value:function(e,t){return this.Cs.forEach((function(e,n){return t(n)})),Cg.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Cg.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Cg.resolve(this.xs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.ks.next(),Cg.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.xs&&(this.xs=t),Cg.resolve()}},{key:"$n",value:function(e){this.Cs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ks=new aS(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.$n(t),this.targetCount+=1,Cg.resolve()}},{key:"updateTargetData",value:function(e,t){return this.$n(t),Cg.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,Cg.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Cs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Cs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Cg.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Cg.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Cs.get(t)||null;return Cg.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ns.ws(t,n),Cg.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ns.ys(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Cg.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ns.ps(t),Cg.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ns.Ts(t);return Cg.resolve(n)}},{key:"containsKey",value:function(e,t){return Cg.resolve(this.Ns.containsKey(t))}}]),e}(),MS=function(){function e(t,n){var r=this;ur(this,e),this.Ms={},this.overlays={},this.Os=new zg(0),this.$s=!1,this.$s=!0,this.referenceDelegate=t(this),this.Fs=new LS(this),this.indexManager=new V_,this.remoteDocumentCache=new RS((function(e){return r.referenceDelegate.Bs(e)})),this.serializer=new i_(n),this.Ls=new CS(this.serializer)}return lr(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.$s=!1,Promise.resolve()}},{key:"started",get:function(){return this.$s}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new OS,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ms[e.toKey()];return n||(n=new NS(t,this.referenceDelegate),this.Ms[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Fs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ls}},{key:"runTransaction",value:function(e,t,n){var r=this;Uy("MemoryPersistence","Starting transaction:",e);var i=new jS(this.Os.next());return this.referenceDelegate.qs(),n(i).next((function(e){return r.referenceDelegate.Us(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ks",value:function(e,t){return Cg.or(Object.values(this.Ms).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),jS=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return lr(n)}(Eg),FS=function(){function e(t){ur(this,e),this.persistence=t,this.Gs=new AS,this.Qs=null}return lr(e,[{key:"zs",get:function(){if(this.Qs)return this.Qs;throw qy()}},{key:"addReference",value:function(e,t,n){return this.Gs.addReference(n,t),this.zs.delete(n.toString()),Cg.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Gs.removeReference(n,t),this.zs.add(n.toString()),Cg.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zs.add(t.toString()),Cg.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Gs.ps(t.targetId).forEach((function(e){return n.zs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qs",value:function(){this.Qs=new Set}},{key:"Us",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Cg.forEach(this.zs,(function(r){var i=pg.fromPath(r);return t.Ws(e,i).next((function(e){e||n.removeEntry(i,cg.min())}))})).next((function(){return t.Qs=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ws(e,t).next((function(e){e?n.zs.delete(t.toString()):n.zs.add(t.toString())}))}},{key:"Bs",value:function(e){return 0}},{key:"Ws",value:function(e,t){var n=this;return Cg.or([function(){return Cg.resolve(n.Gs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ks(e,t)}])}}],[{key:"js",value:function(t){return new e(t)}}]),e}(),US=function(){function e(t){ur(this,e),this.serializer=t}return lr(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Og("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Qg,{unique:!0}),e.createObjectStore("documentMutations")}(e),zS(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Cg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),zS(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:cg.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Qg,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Cg.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Js(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ys(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Xs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Zs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ti(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:cb});t.createIndex("collectionPathOverlayIndex",lb,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",fb,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Jg});t.createIndex("documentKeyIndex",Zg),t.createIndex("collectionGroupIndex",eb)}(e)})).next((function(){return i.ei(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ni(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ab}).createIndex("sequenceNumberIndex",ob,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:sb}).createIndex("documentKeyIndex",ub,{unique:!1})}(e)}))),o}},{key:"Ys",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=Z_(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Js",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return Cg.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return Cg.forEach(r,(function(r){Hy(r.userId===n.userId);var i=c_(t.serializer,r);return J_(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Xs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new fg(n),o=function(e){return[0,Hg(e)]}(a);r.push(t.get(o).next((function(n){return n?Cg.resolve():function(n){return t.put({targetId:0,path:Hg(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Cg.waitFor(r)}))}))}},{key:"Zs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ib});var n=t.store("collectionParents"),r=new B_,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Hg(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new fg(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=Nt(e,3),r=(n[0],n[1]),a=(n[2],Gg(r));return i(a.popLast())}))}))}},{key:"ti",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=l_(r),a=f_(t.serializer,i);return n.put(a)}))}},{key:"ei",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new pg(fg.fromString(i.document.name).popFirst(5)):i.noDocument?pg.fromSegments(i.noDocument.path):i.unknownDocument?pg.fromSegments(i.unknownDocument.path):qy()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return Cg.waitFor(r)}))}},{key:"ni",value:function(e,t){var n=this,r=t.store("mutations"),i=bS(this.serializer),a=new MS(FS.js,this.serializer.le);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:yw();c_(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Cg.forEach(r,(function(e,r){var o=new Ly(r),s=b_.fe(n.serializer,o),u=a.getIndexManager(o),c=eS.fe(o,n.serializer,u,a.referenceDelegate);return new IS(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new yb(t,zg.ct),e).next()}))}))}}]),e}();function zS(e){e.createObjectStore("targetDocuments",{keyPath:nb}).createIndex("documentTargetsIndex",rb,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",tb,{unique:!0}),e.createObjectStore("targetGlobal")}var VS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",BS=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(ur(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.si=a,this.window=o,this.document=s,this.ii=c,this.ri=l,this.oi=f,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=function(e){return Promise.resolve()},!e.D())throw new Gy(Ky.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vS(this,i),this.fi=n+"main",this.serializer=new i_(u),this.di=new Ag(this.fi,this.oi,new US(this.serializer)),this.Fs=new oS(this.referenceDelegate,this.serializer),this.remoteDocumentCache=bS(this.serializer),this.Ls=new m_,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&zy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return lr(e,[{key:"start",value:function(){var e=this;return this.wi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Gy(Ky.FAILED_PRECONDITION,VS);return e.mi(),e.gi(),e.yi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Fs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new zg(t,e.ii)})).then((function(){e.$s=!0})).catch((function(t){return e.di&&e.di.close(),Promise.reject(t)}))}},{key:"pi",value:function(e){var t=this;return this.li=function(){var n=It(Et().mark((function n(r){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.di.B(function(){var t=It(Et().mark((function t(n){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.wi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"wi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return HS(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ii(t).next((function(t){t||(e.isPrimary=!1,e.si.enqueueRetryable((function(){return e.li(!1)})))}))})).next((function(){return e.Ti(t)})).next((function(n){return e.isPrimary&&!n?e.Ei(t).next((function(){return!1})):!!n&&e.Ai(t).next((function(){return!0}))}))})).catch((function(t){if(Rg(t))return Uy("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Uy("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.si.enqueueRetryable((function(){return e.li(t)})),e.isPrimary=t}))}},{key:"Ii",value:function(e){var t=this;return qS(e).get("owner").next((function(e){return Cg.resolve(t.Ri(e))}))}},{key:"vi",value:function(e){return HS(e).delete(this.clientId)}},{key:"Pi",value:function(){var e=It(Et().mark((function e(){var t,n,r,i,a=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.bi(this.hi,18e5)){e.next=6;break}return this.hi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=gb(e,"clientMetadata");return t.j().next((function(e){var n=a.Vi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Cg.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=fr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Si(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yi",value:function(){var e=this;this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.wi().then((function(){return e.Pi()})).then((function(){return e.yi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ti",value:function(e){var t=this;return this.ri?Cg.resolve(!0):qS(e).get("owner").next((function(n){if(null!==n&&t.bi(n.leaseTimestampMs,5e3)&&!t.Di(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new Gy(Ky.FAILED_PRECONDITION,VS);return!1}}return!(!t.networkEnabled||!t.inForeground)||HS(e).j().next((function(e){return void 0===t.Vi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Uy("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=It(Et().mark((function e(){var t=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$s=!1,this.Ci(),this.ai&&(this.ai.cancel(),this.ai=null),this.xi(),this.Ni(),e.next=7,this.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new yb(e,zg.ct);return t.Ei(n).next((function(){return t.vi(n)}))}));case 7:this.di.close(),this.ki();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vi",value:function(e,t){var n=this;return e.filter((function(e){return n.bi(e.updateTimeMs,t)&&!n.Di(e.clientId)}))}},{key:"Mi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return HS(t).j().next((function(t){return e.Vi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.$s}},{key:"getMutationQueue",value:function(e,t){return eS.fe(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Fs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new H_(e,this.serializer.le.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return b_.fe(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Ls}},{key:"runTransaction",value:function(e,t,n){var r=this;Uy("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.oi)?mb:14===i?vb:13===i?pb:12===i?db:11===i?hb:void qy();return this.di.runTransaction(e,o,s,(function(i){return a=new yb(i,r.Os?r.Os.next():zg.ct),"readwrite-primary"===t?r.Ii(a).next((function(e){return!!e||r.Ti(a)})).next((function(t){if(!t)throw zy("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.si.enqueueRetryable((function(){return r.li(!1)})),new Gy(Ky.FAILED_PRECONDITION,Sg);return n(a)})).next((function(e){return r.Ai(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return qS(e).get("owner").next((function(e){if(null!==e&&t.bi(e.leaseTimestampMs,5e3)&&!t.Di(e.ownerId)&&!t.Ri(e)&&!(t.ri||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Gy(Ky.FAILED_PRECONDITION,VS)}))}},{key:"Ai",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qS(e).put("owner",t)}},{key:"Ei",value:function(e){var t=this,n=qS(e);return n.get("owner").next((function(e){return t.Ri(e)?(Uy("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Cg.resolve()}))}},{key:"bi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(zy("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"mi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=function(){e.si.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.wi()}))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}},{key:"xi",value:function(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}},{key:"gi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=function(){t.Ci();var e=/(?:Version|Mobile)\/1[456]/;!Rr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.si.enterRestrictedMode(!0),t.si.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ui))}},{key:"Ni",value:function(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}},{key:"Di",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return Uy("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return zy("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ci",value:function(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(A){zy("Failed to set zombie client id.",A)}}},{key:"ki",value:function(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch(A){}}},{key:"Si",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return Ag.D()}}]),e}();function qS(e){return gb(e,"owner")}function HS(e){return gb(e,"clientMetadata")}function WS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var KS=function(){function e(t,n,r,i){ur(this,e),this.targetId=t,this.fromCache=n,this.$i=r,this.Fi=i}return lr(e,null,[{key:"Bi",value:function(t,n){var r,i=yw(),a=yw(),o=fr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),GS=function(){function e(){ur(this,e),this.Li=!1}return lr(e,[{key:"initialize",value:function(e,t){this.qi=e,this.indexManager=t,this.Li=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ui(e,t).next((function(a){return a||i.Ki(e,t,r,n)})).next((function(n){return n||i.Gi(e,t)}))}},{key:"Ui",value:function(e,t){var n=this;if(Wk(t))return Cg.resolve(null);var r=Xk(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Jk(t,null,"F"),r=Xk(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=yw.apply(void 0,ei(i));return n.qi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Qi(t,i);return n.ji(t,o,a,r.readTime)?n.Ui(e,Jk(t,null,"F")):n.zi(e,o,t,r)}))}))})))}))}},{key:"Ki",value:function(e,t,n,r){var i=this;return Wk(t)||r.isEqual(cg.min())?this.Gi(e,t):this.qi.getDocuments(e,n).next((function(a){var o=i.Qi(t,a);return i.ji(t,o,n,r)?i.Gi(e,t):(Fy()<=ai.DEBUG&&Uy("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),tw(t)),i.zi(e,o,t,kg(r,-1)))}))}},{key:"Qi",value:function(e,t){var n=new Eb(iw(e));return t.forEach((function(t,r){nw(e,r)&&(n=n.add(r))})),n}},{key:"ji",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Gi",value:function(e,t){return Fy()<=ai.DEBUG&&Uy("QueryEngine","Using full collection scan to execute query:",tw(t)),this.qi.getDocumentsMatchingQuery(e,t,xg.min())}},{key:"zi",value:function(e,t,n,r){return this.qi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),QS=function(){function e(t,n,r,i){ur(this,e),this.persistence=t,this.Wi=n,this.serializer=i,this.Hi=new xb(ag),this.Ji=new ow((function(e){return Mk(e)}),jk),this.Yi=new Map,this.Xi=t.getRemoteDocumentCache(),this.Fs=t.getTargetCache(),this.Ls=t.getBundleCache(),this.Zi(r)}return lr(e,[{key:"Zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IS(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Hi)}))}}]),e}();function $S(e,t,n,r){return new QS(e,t,n,r)}function XS(e,t){return YS.apply(this,arguments)}function YS(){return YS=It(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wy(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=yw(),u=fr(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=fr(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var d,p=fr(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=fr(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{tr:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),YS.apply(this,arguments)}function JS(e,t){var n=Wy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Cg.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Hy(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=yw(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function ZS(e){var t=Wy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Fs.getLastRemoteSnapshotVersion(e)}))}function eE(e,t){var n=Wy(e),r=t.snapshotVersion,i=n.Hi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Hi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Fs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Fs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Ab.EMPTY_BYTE_STRING,cg.min()).withLastLimboFreeSnapshotVersion(cg.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Fs.updateTargetData(e,c))}}));var s=uw(),u=yw();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(tE(e,a,t.documentUpdates).next((function(e){s=e.er,u=e.nr}))),!r.isEqual(cg.min())){var c=n.Fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Cg.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Hi=i,e}))}function tE(e,t,n){var r=yw(),i=yw();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=uw();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(cg.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Uy("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{er:r,nr:i}}))}function nE(e,t){var n=Wy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function rE(e,t){var n=Wy(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Fs.getTargetData(e,t).next((function(i){return i?(r=i,Cg.resolve(r)):n.Fs.allocateTargetId(e).next((function(i){return r=new r_(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Hi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Hi=n.Hi.insert(e.targetId,e),n.Ji.set(t,e.targetId)),e}))}function iE(e,t,n){return aE.apply(this,arguments)}function aE(){return aE=It(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Wy(t),a=i.Hi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Rg(e.t1)){e.next=12;break}throw e.t1;case 12:Uy("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Hi=i.Hi.remove(n),i.Ji.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),aE.apply(this,arguments)}function oE(e,t,n){var r=Wy(e),i=cg.min(),a=yw();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Wy(e),i=r.Ji.get(n);return void 0!==i?Cg.resolve(r.Hi.get(i)):r.Fs.getTargetData(t,n)}(r,e,Xk(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Wi.getDocumentsMatchingQuery(e,t,n?i:cg.min(),n?a:yw())})).next((function(e){return cE(r,rw(t),e),{documents:e,sr:a}}))}))}function sE(e,t){var n=Wy(e),r=Wy(n.Fs),i=n.Hi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.he(e,t).next((function(e){return e?e.target:null}))}))}function uE(e,t){var n=Wy(e),r=n.Yi.get(t)||cg.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Xi.getAllFromCollectionGroup(e,t,kg(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return cE(n,t,e),e}))}function cE(e,t,n){var r=e.Yi.get(t)||cg.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Yi.set(t,r)}function lE(e,t,n,r){return fE.apply(this,arguments)}function fE(){return fE=It(Et().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Wy(t),o=yw(),s=uw(),u=fr(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.ir(l.metadata.name),l.document&&(o=o.add(f)),(h=n.rr(l)).setReadTime(n.ur(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Xi.newChangeBuffer({trackRemovals:!0}),e.next=7,rE(a,function(e){return Xk(Hk(fg.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return tE(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.er,t.nr)})).next((function(){return t.er}))}))})));case 9:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}function hE(e,t){return dE.apply(this,arguments)}function dE(){return dE=It(Et().mark((function e(t,n){var r,i,a,o=arguments;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:yw(),e.next=3,rE(t,Xk(h_(n.bundledQuery)));case 3:return i=e.sent,a=Wy(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Px(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ls.saveNamedQuery(e,n);var o=i.withResumeToken(Ab.EMPTY_BYTE_STRING,t);return a.Hi=a.Hi.insert(o.targetId,o),a.Fs.updateTargetData(e,o).next((function(){return a.Fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ls.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),dE.apply(this,arguments)}function pE(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function vE(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function mE(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var yE=function(){function e(t,n,r,i){ur(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return lr(e,[{key:"ar",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Gy(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(zy("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),gE=function(){function e(t,n,r){ur(this,e),this.targetId=t,this.state=n,this.error=r}return lr(e,[{key:"ar",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Gy(i.error.code,i.error.message))),a?new e(t,i.state,r):(zy("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),bE=function(){function e(t,n){ur(this,e),this.clientId=t,this.activeTargetIds=n}return lr(e,null,[{key:"cr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=bw(),o=0;i&&o<r.activeTargetIds.length;++o)i=qg(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(zy("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),kE=function(){function e(t,n){ur(this,e),this.clientId=t,this.onlineState=n}return lr(e,null,[{key:"cr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(zy("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),wE=function(){function e(){ur(this,e),this.activeTargetIds=bw()}return lr(e,[{key:"hr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ar",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),xE=function(){function e(t,n,r,i,a){ur(this,e),this.window=t,this.si=n,this.persistenceKey=r,this.dr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new xb(ag),this.started=!1,this.gr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.yr=pE(this.persistenceKey,this.dr),this.pr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.mr=this.mr.insert(this.dr,new wE),this.Ir=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Tr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Er=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ar=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return lr(e,[{key:"start",value:function(){var e=It(Et().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Mi();case 2:t=e.sent,n=fr(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.dr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(pE(this.persistenceKey,i)))&&(o=bE.cr(i,a))&&(this.mr=this.mr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.vr(),(s=this.storage.getItem(this.Ar))&&(u=this.Pr(s))&&this.br(u),c=fr(this.gr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.wr(f)}catch(d){c.e(d)}finally{c.f()}this.gr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.pr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Vr(this.mr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.mr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Sr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Sr(e,t,n),this.Dr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(mE(this.persistenceKey,e));if(n){var r=gE.cr(e,n);r&&(t=r.state)}}return this.Cr.hr(e),this.vr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Cr.lr(e),this.vr()}},{key:"isLocalQueryTarget",value:function(e){return this.Cr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(mE(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Nr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Dr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.kr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Mr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Uy("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Uy("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Uy("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"wr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Uy("SharedClientState","EVENT",n.key,n.newValue),n.key===this.yr)return void zy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(It(Et().mark((function e(){var r,i,a,o,s,u,c;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Ir.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.$r(r,null));case 6:if(!(i=t.Fr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.$r(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Tr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Br(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Lr(a));case 16:e.next=41;break;case 18:if(!t.Er.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.qr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Ur(o));case 23:e.next=41;break;case 25:if(n.key!==t.Ar){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.br(s));case 30:e.next=41;break;case 32:if(n.key!==t.pr){e.next=37;break}u=function(e){var t=zg.ct;if(null!=e)try{var n=JSON.parse(e);Hy("number"==typeof n),t=n}catch(e){zy("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==zg.ct&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Kr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Gr(e)})));case 41:e.next=44;break;case 43:t.gr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Cr",get:function(){return this.mr.get(this.dr)}},{key:"vr",value:function(){this.setItem(this.yr,this.Cr.ar())}},{key:"Sr",value:function(e,t,n){var r=new yE(this.currentUser,e,t,n),i=vE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ar())}},{key:"Dr",value:function(e){var t=vE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"kr",value:function(e){var t={clientId:this.dr,onlineState:e};this.storage.setItem(this.Ar,JSON.stringify(t))}},{key:"Nr",value:function(e,t,n){var r=mE(this.persistenceKey,e),i=new gE(e,t,n);this.setItem(r,i.ar())}},{key:"Mr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Ir.exec(e);return t?t[1]:null}},{key:"Fr",value:function(e,t){var n=this.Or(e);return bE.cr(n,t)}},{key:"Br",value:function(e,t){var n=this.Tr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return yE.cr(new Ly(i),r,t)}},{key:"qr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]);return gE.cr(r,t)}},{key:"Pr",value:function(e){return kE.cr(e)}},{key:"Kr",value:function(e){return JSON.parse(e)}},{key:"Lr",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Qr(t.batchId,t.state,t.error));case 2:Uy("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ur",value:function(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}},{key:"$r",value:function(e,t){var n=this,r=t?this.mr.insert(e,t):this.mr.remove(e),i=this.Vr(this.mr),a=this.Vr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.zr(o,s).then((function(){n.mr=r}))}},{key:"br",value:function(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Vr",value:function(e){var t=bw();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),_E=function(){function e(){ur(this,e),this.Wr=new wE,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return lr(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Hr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Wr.lr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Wr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Hr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Wr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Wr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Wr=new wE,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),SE=function(){function e(){ur(this,e)}return lr(e,[{key:"Jr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),EE=function(){function e(){var t=this;ur(this,e),this.Yr=function(){return t.Xr()},this.Zr=function(){return t.eo()},this.no=[],this.so()}return lr(e,[{key:"Jr",value:function(e){this.no.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}},{key:"so",value:function(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}},{key:"Xr",value:function(){Uy("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=fr(this.no);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"eo",value:function(){Uy("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=fr(this.no);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),TE=null;function IE(){return null===TE?TE=268435456+Math.round(2147483648*Math.random()):TE++,"0x"+TE.toString(16)}var CE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},OE=function(){function e(t){ur(this,e),this.io=t.io,this.ro=t.ro}return lr(e,[{key:"oo",value:function(e){this.uo=e}},{key:"co",value:function(e){this.ao=e}},{key:"onMessage",value:function(e){this.ho=e}},{key:"close",value:function(){this.ro()}},{key:"send",value:function(e){this.io(e)}},{key:"lo",value:function(){this.uo()}},{key:"fo",value:function(e){this.ao(e)}},{key:"_o",value:function(e){this.ho(e)}}]),e}(),AE="WebChannelConnection",PE=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return lr(n,[{key:"Eo",value:function(e,t,n,r){var i=IE();return new Promise((function(a,o){var s=new Py;s.setWithCredentials(!0),s.listenOnce(Ty.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Ey.NO_ERROR:var t=s.getResponseJson();Uy(AE,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Ey.TIMEOUT:Uy(AE,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Gy(Ky.DEADLINE_EXCEEDED,"Request time out"));break;case Ey.HTTP_ERROR:var n=s.getStatus();if(Uy(AE,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ky).indexOf(t)>=0?t:Ky.UNKNOWN}(u.status);o(new Gy(c,u.message))}else o(new Gy(Ky.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Gy(Ky.UNAVAILABLE,"Connection failed."));break;default:qy()}}finally{Uy(AE,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);Uy(AE,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=IE(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=_y(),o=Sy(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Oy({})),this.To(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var u=i.join("");Uy(AE,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),s);var c=a.createWebChannel(u,s),l=!1,f=!1,h=new OE({io:function(t){f?Uy(AE,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(Uy(AE,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),Uy(AE,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},ro:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,Ay.EventType.OPEN,(function(){f||Uy(AE,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(c,Ay.EventType.CLOSE,(function(){f||(f=!0,Uy(AE,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.fo())})),d(c,Ay.EventType.ERROR,(function(t){f||(f=!0,Vy(AE,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.fo(new Gy(Ky.UNAVAILABLE,"The operation could not be completed")))})),d(c,Ay.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];Hy(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Uy(AE,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=Xw[e];if(void 0!==t)return ax(t)}(s),l=o.message;void 0===u&&(u=Ky.INTERNAL,l="Unknown error status: "+s+" with message "+o.message),f=!0,h.fo(new Gy(u,l)),c.close()}else Uy(AE,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h._o(i)}})),d(o,Iy.STAT_EVENT,(function(t){t.stat===Cy.PROXY?Uy(AE,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Cy.NOPROXY&&Uy(AE,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.lo()}),0),h}}]),n}(function(){function e(t){ur(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.wo=n+"://"+t.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return lr(e,[{key:"yo",get:function(){return!1}},{key:"po",value:function(e,t,n,r,i){var a=IE(),o=this.Io(e,t);Uy("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.To(s,r,i),this.Eo(e,o,s,n).then((function(t){return Uy("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Vy("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Ao",value:function(e,t,n,r,i,a){return this.po(e,t,n,r,i)}},{key:"To",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+My,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Io",value:function(e,t){var n=CE[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(n)}}]),e}());function NE(){return"undefined"!=typeof window?window:null}function RE(){return"undefined"!=typeof document?document:null}function DE(e){return new Tx(e,!0)}var LE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ur(this,e),this.si=t,this.timerId=n,this.vo=r,this.Po=i,this.bo=a,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}return lr(e,[{key:"reset",value:function(){this.Vo=0}},{key:"Co",value:function(){this.Vo=this.bo}},{key:"xo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,n-r);i>0&&Uy("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Vo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.So=this.si.enqueueAfterDelay(this.timerId,i,(function(){return t.Do=Date.now(),e()})),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}},{key:"ko",value:function(){null!==this.So&&(this.So.skipDelay(),this.So=null)}},{key:"cancel",value:function(){null!==this.So&&(this.So.cancel(),this.So=null)}},{key:"No",value:function(){return(Math.random()-.5)*this.Vo}}]),e}(),ME=function(){function e(t,n,r,i,a,o,s,u){ur(this,e),this.si=t,this.Mo=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new LE(t,n)}return lr(e,[{key:"qo",value:function(){return 1===this.state||5===this.state||this.Uo()}},{key:"Uo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Ko()}},{key:"stop",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.qo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Go",value:function(){this.state=0,this.Lo.reset()}},{key:"Qo",value:function(){var e=this;this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,(function(){return e.jo()})))}},{key:"zo",value:function(e){this.Wo(),this.stream.send(e)}},{key:"jo",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Uo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wo",value:function(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"close",value:function(){var e=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,4!==t?this.Lo.reset():n&&n.code===Ky.RESOURCE_EXHAUSTED?(zy(n.toString()),zy("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):n&&n.code===Ky.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Jo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.co(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Jo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Yo(this.$o),n=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Nt(t,2),i=r[0],a=r[1];e.$o===n&&e.Xo(i,a)}),(function(n){t((function(){var t=new Gy(Ky.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Zo(t)}))}))}},{key:"Xo",value:function(e,t){var n=this,r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo((function(){r((function(){return n.state=2,n.Bo=n.si.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Uo()&&(n.state=3),Promise.resolve()})),n.listener.oo()}))})),this.stream.co((function(e){r((function(){return n.Zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Ko",value:function(){var e=this;this.state=5,this.Lo.xo(It(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Zo",value:function(e){return Uy("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Yo",value:function(e){var t=this;return function(n){t.si.enqueueAndForget((function(){return t.$o===e?n():(Uy("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),jE=function(e){pr(n,e);var t=gr(n);function n(e,r,i,a,o,s){var u;return ur(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return lr(n,[{key:"tu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.Lo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:qy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Hy(void 0===t||"string"==typeof t),Ab.fromBase64String(t||"")):(Hy(void 0===t||t instanceof Uint8Array),Ab.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Ky.UNKNOWN:ax(e.code);return new Gy(t,e.message||"")}(o);n=new gx(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Lx(e,u.document.name),l=Px(u.document.updateTime),f=u.document.createTime?Px(u.document.createTime):cg.min(),h=new sk({mapValue:{fields:u.document.fields}}),d=ck.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new mx(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Lx(e,m.document),g=m.readTime?Px(m.readTime):cg.min(),b=ck.newNoDocument(y,g),k=m.removedTargetIds||[];n=new mx([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=Lx(e,w.document),_=w.removedTargetIds||[];n=new mx([],_,x,null)}else{if(!("filter"in t))return qy();t.filter;var S=t.filter;S.targetId;var E=S.count,T=void 0===E?0:E,I=S.unchangedNames,C=new rx(T,I),O=S.targetId;n=new yx(O,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return cg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?cg.min():t.readTime?Px(t.readTime):cg.min()}(e);return this.listener.eu(t,n)}},{key:"nu",value:function(e){var t={};t.database=Fx(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=Fk(r)?{documents:Wx(e,r)}:{query:Kx(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ox(e,t.resumeToken);var i=Ix(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(cg.min())>0){n.readTime=Cx(e,t.snapshotVersion.toTimestamp());var a=Ix(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qy()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.zo(t)}},{key:"su",value:function(e){var t={};t.database=Fx(this.serializer),t.removeTarget=e,this.zo(t)}}]),n}(ME),FE=function(e){pr(n,e);var t=gr(n);function n(e,r,i,a,o,s){var u;return ur(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.iu=!1,u}return lr(n,[{key:"ru",get:function(){return this.iu}},{key:"start",value:function(){this.iu=!1,this.lastStreamToken=void 0,Ta(vr(n.prototype),"start",this).call(this)}},{key:"Jo",value:function(){this.iu&&this.ou([])}},{key:"tu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(Hy(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();var t=function(e,t){return e&&e.length>0?(Hy(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Px(e.updateTime):Px(t);return n.isEqual(cg.min())&&(n=Px(t)),new Mw(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Px(e.commitTime);return this.listener.uu(n,t)}return Hy(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}},{key:"au",value:function(){var e={};e.database=Fx(this.serializer),this.zo(e)}},{key:"ou",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return qx(t.serializer,e)}))};this.zo(n)}}]),n}(ME),UE=function(e){pr(n,e);var t=gr(n);function n(e,r,i,a){var o;return ur(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.hu=!1,o}return lr(n,[{key:"lu",value:function(){if(this.hu)throw new Gy(Ky.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"po",value:function(e,t,n){var r=this;return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Nt(i,2),o=a[0],s=a[1];return r.connection.po(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ky.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Gy(Ky.UNKNOWN,e.toString())}))}},{key:"Ao",value:function(e,t,n,r){var i=this;return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=Nt(a,2),s=o[0],u=o[1];return i.connection.Ao(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ky.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Gy(Ky.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.hu=!0}}]),n}(function(){return lr((function e(){ur(this,e)}))}());var zE=function(){function e(t,n){ur(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}return lr(e,[{key:"mu",value:function(){var e=this;0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.yu("Backend didn't respond within 10 seconds."),e.gu("Offline"),Promise.resolve()})))}},{key:"pu",value:function(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.gu("Offline")))}},{key:"set",value:function(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}},{key:"gu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"yu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.wu?(zy(t),this.wu=!1):Uy("OnlineStateTracker",t)}},{key:"Iu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),VE=lr((function e(t,n,r,i,a){var o=this;ur(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=a,this.vu.Jr((function(e){r.enqueueAndForget(It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=JE(o),!e.t0){e.next=5;break}return Uy("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Wy(t)).Au.add(4),e.next=4,HE(n);case 4:return n.Pu.set("Unknown"),n.Au.delete(4),e.next=8,BE(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Pu=new zE(r,i)}));function BE(e){return qE.apply(this,arguments)}function qE(){return qE=It(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!JE(t)){e.next=18;break}n=fr(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),qE.apply(this,arguments)}function HE(e){return WE.apply(this,arguments)}function WE(){return WE=It(Et().mark((function e(t){var n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fr(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),WE.apply(this,arguments)}function KE(e,t){var n=Wy(e);n.Eu.has(t.targetId)||(n.Eu.set(t.targetId,t),YE(n)?XE(n):IT(n).Uo()&&QE(n,t))}function GE(e,t){var n=Wy(e),r=IT(n);n.Eu.delete(t),r.Uo()&&$E(n,t),0===n.Eu.size&&(r.Uo()?r.Qo():JE(n)&&n.Pu.set("Unknown"))}function QE(e,t){if(e.bu.Lt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(cg.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}IT(e).nu(t)}function $E(e,t){e.bu.Lt(t),IT(e).su(t)}function XE(e){e.bu=new kx({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},he:function(t){return e.Eu.get(t)||null},oe:function(){return e.datastore.serializer.databaseId}}),IT(e).start(),e.Pu.mu()}function YE(e){return JE(e)&&!IT(e).qo()&&e.Eu.size>0}function JE(e){return 0===Wy(e).Au.size}function ZE(e){e.bu=void 0}function eT(e){return tT.apply(this,arguments)}function tT(){return tT=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Eu.forEach((function(e,n){QE(t,e)}));case 1:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e,t){return rT.apply(this,arguments)}function rT(){return rT=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ZE(t),YE(t)?(t.Pu.pu(n),XE(t)):t.Pu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),rT.apply(this,arguments)}function iT(e,t,n){return aT.apply(this,arguments)}function aT(){return aT=It(Et().mark((function e(t,n,r){var i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Pu.set("Online"),!(n instanceof gx&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=It(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=fr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Eu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Eu.delete(o),t.bu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Uy("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,oT(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof mx?t.bu.Wt(n):n instanceof yx?t.bu.ee(n):t.bu.Yt(n),r.isEqual(cg.min())){e.next=29;break}return e.prev=14,e.next=17,ZS(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.bu.ue(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Eu.get(r);i&&e.Eu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Eu.get(t);if(r){e.Eu.set(t,r.withResumeToken(Ab.EMPTY_BYTE_STRING,r.snapshotVersion)),$E(e,t);var i=new r_(r.target,t,n,r.sequenceNumber);QE(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Uy("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,oT(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),aT.apply(this,arguments)}function oT(e,t,n){return sT.apply(this,arguments)}function sT(){return sT=It(Et().mark((function e(t,n,r){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Rg(n)){e.next=2;break}throw n;case 2:return t.Au.add(1),e.next=5,HE(t);case 5:t.Pu.set("Offline"),r||(r=function(){return ZS(t.localStore)}),t.asyncQueue.enqueueRetryable(It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Uy("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Au.delete(1),e.next=6,BE(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),sT.apply(this,arguments)}function uT(e,t){return t().catch((function(n){return oT(e,n,t)}))}function cT(e){return lT.apply(this,arguments)}function lT(){return lT=It(Et().mark((function e(t){var n,r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Wy(t),r=CT(n),i=n.Tu.length>0?n.Tu[n.Tu.length-1].batchId:-1;case 2:if(!fT(n)){e.next=19;break}return e.prev=3,e.next=6,nE(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Tu.length&&r.Qo(),e.abrupt("break",19);case 10:i=a.batchId,hT(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,oT(n,e.t0);case 17:e.next=2;break;case 19:dT(n)&&pT(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),lT.apply(this,arguments)}function fT(e){return JE(e)&&e.Tu.length<10}function hT(e,t){e.Tu.push(t);var n=CT(e);n.Uo()&&n.ru&&n.ou(t.mutations)}function dT(e){return JE(e)&&!CT(e).qo()&&e.Tu.length>0}function pT(e){CT(e).start()}function vT(e){return mT.apply(this,arguments)}function mT(){return mT=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:CT(t).au();case 1:case"end":return e.stop()}}),e)}))),mT.apply(this,arguments)}function yT(e){return gT.apply(this,arguments)}function gT(){return gT=It(Et().mark((function e(t){var n,r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=CT(t),r=fr(t.Tu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.ou(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),gT.apply(this,arguments)}function bT(e,t,n){return kT.apply(this,arguments)}function kT(){return kT=It(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Tu.shift(),a=tx.from(i,n,r),e.next=3,uT(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,cT(t);case 5:case"end":return e.stop()}}),e)}))),kT.apply(this,arguments)}function wT(e,t){return xT.apply(this,arguments)}function xT(){return xT=It(Et().mark((function e(t,n){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&CT(t).ru,!e.t0){e.next=4;break}return e.next=4,function(){var e=It(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ix(i=n.code)||i===Ky.ABORTED){e.next=7;break}return r=t.Tu.shift(),CT(t).Go(),e.next=5,uT(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,cT(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:dT(t)&&pT(t);case 5:case"end":return e.stop()}}),e)}))),xT.apply(this,arguments)}function _T(e,t){return ST.apply(this,arguments)}function ST(){return ST=It(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Wy(t)).asyncQueue.verifyOperationInProgress(),Uy("RemoteStore","RemoteStore received new credentials"),i=JE(r),r.Au.add(3),e.next=6,HE(r);case 6:return i&&r.Pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Au.delete(3),e.next=12,BE(r);case 12:case"end":return e.stop()}}),e)}))),ST.apply(this,arguments)}function ET(e,t){return TT.apply(this,arguments)}function TT(){return TT=It(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wy(t),!n){e.next=7;break}return r.Au.delete(2),e.next=5,BE(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Au.add(2),e.next=12,HE(r);case 12:r.Pu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),TT.apply(this,arguments)}function IT(e){return e.Vu||(e.Vu=function(e,t,n){var r=Wy(e);return r.lu(),new jE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{oo:eT.bind(null,e),co:nT.bind(null,e),eu:iT.bind(null,e)}),e.Ru.push(function(){var t=It(Et().mark((function t(n){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Vu.Go(),YE(e)?XE(e):e.Pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Vu.stop();case 6:ZE(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Vu}function CT(e){return e.Su||(e.Su=function(e,t,n){var r=Wy(e);return r.lu(),new FE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{oo:vT.bind(null,e),co:wT.bind(null,e),cu:yT.bind(null,e),uu:bT.bind(null,e)}),e.Ru.push(function(){var t=It(Et().mark((function t(n){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Su.Go(),t.next=4,cT(e);case 4:t.next=9;break;case 6:return t.next=8,e.Su.stop();case 8:e.Tu.length>0&&(Uy("RemoteStore","Stopping write stream with ".concat(e.Tu.length," pending writes")),e.Tu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}var OT=function(){function e(t,n,r,i,a){ur(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Qy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return lr(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gy(Ky.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function AT(e,t){if(zy("AsyncQueue","".concat(t,": ").concat(e)),Rg(e))return new Gy(Ky.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var PT=function(){function e(t){ur(this,e),this.comparator=t?function(e,n){return t(e,n)||pg.comparator(e.key,n.key)}:function(e,t){return pg.comparator(e.key,t.key)},this.keyedMap=lw(),this.sortedSet=new xb(this.comparator)}return lr(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),NT=function(){function e(){ur(this,e),this.Du=new xb(pg.comparator)}return lr(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Du.get(t);n?0!==e.type&&3===n.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==n.type?this.Du=this.Du.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Du=this.Du.remove(t):1===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):qy():this.Du=this.Du.insert(t,e)}},{key:"Cu",value:function(){var e=[];return this.Du.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),RT=function(){function e(t,n,r,i,a,o,s,u,c){ur(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return lr(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zk(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,PT.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),DT=lr((function e(){ur(this,e),this.xu=void 0,this.listeners=[]})),LT=lr((function e(){ur(this,e),this.queries=new ow((function(e){return ew(e)}),Zk),this.onlineState="Unknown",this.Nu=new Set}));function MT(e,t){return jT.apply(this,arguments)}function jT(){return jT=It(Et().mark((function e(t,n){var r,i,a,o,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wy(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new DT),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.xu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=AT(e.t0,"Initialization of query '".concat(tw(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ku(r.onlineState),o.xu&&n.Mu(o.xu)&&BT(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),jT.apply(this,arguments)}function FT(e,t){return UT.apply(this,arguments)}function UT(){return UT=It(Et().mark((function e(t,n){var r,i,a,o,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wy(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),UT.apply(this,arguments)}function zT(e,t){var n,r=Wy(e),i=!1,a=fr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=fr(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Mu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.xu=o}}}catch(f){a.e(f)}finally{a.f()}i&&BT(r)}function VT(e,t,n){var r=Wy(e),i=r.queries.get(t);if(i){var a,o=fr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function BT(e){e.Nu.forEach((function(e){e.next()}))}var qT=function(){function e(t,n,r){ur(this,e),this.query=t,this.Ou=n,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}return lr(e,[{key:"Mu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=fr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new RT(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),a=!0):this.Lu(e,this.onlineState)&&(this.qu(e),a=!0),this.Fu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"ku",value:function(e){this.onlineState=e;var t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}},{key:"Lu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Uu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Bu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"qu",value:function(e){e=RT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}]),e}(),HT=function(){function e(t,n){ur(this,e),this.Ku=t,this.byteLength=n}return lr(e,[{key:"Gu",value:function(){return"metadata"in this.Ku}}]),e}(),WT=function(){function e(t){ur(this,e),this.serializer=t}return lr(e,[{key:"ir",value:function(e){return Lx(this.serializer,e)}},{key:"rr",value:function(e){return e.metadata.exists?Vx(this.serializer,e.document,!1):ck.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}},{key:"ur",value:function(e){return Px(e)}}]),e}(),KT=function(){function e(t,n,r){ur(this,e),this.Qu=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=GT(t)}return lr(e,[{key:"ju",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;var n=fg.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"zu",value:function(e){var t,n=new Map,r=new WT(this.serializer),i=fr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.ir(a.metadata.name),u=fr(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||yw()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=It(Et().mark((function e(){var t,n,r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lE(this.localStore,new WT(this.serializer),this.documents,this.Qu.id);case 2:t=e.sent,n=this.zu(this.documents),r=fr(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,hE(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Wu:this.collectionGroups,Hu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function GT(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var QT=lr((function e(t){ur(this,e),this.key=t})),$T=lr((function e(t){ur(this,e),this.key=t})),XT=function(){function e(t,n){ur(this,e),this.query=t,this.Ju=n,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=yw(),this.mutatedKeys=yw(),this.Zu=iw(t),this.tc=new PT(this.Zu)}return lr(e,[{key:"ec",get:function(){return this.Ju}},{key:"nc",value:function(e,t){var n=this,r=t?t.sc:new NT,i=t?t.tc:this.tc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=nw(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ic(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Zu(f,u)>0||c&&n.Zu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{tc:o,sc:r,ji:s,mutatedKeys:a}}},{key:"ic",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;var a=e.sc.Cu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qy()}};return n(e)-n(t)}(e.type,t.type)||r.Zu(e.doc,t.doc)})),this.rc(n);var o=t?this.oc():[],s=0===this.Xu.size&&this.current?1:0,u=s!==this.Yu;return this.Yu=s,0!==a.length||u?{snapshot:new RT(this.query,e.tc,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),uc:o}:{uc:o}}},{key:"ku",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new NT,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}},{key:"cc",value:function(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}},{key:"rc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ju=t.Ju.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ju=t.Ju.delete(e)})),this.current=e.current)}},{key:"oc",value:function(){var e=this;if(!this.current)return[];var t=this.Xu;this.Xu=yw(),this.tc.forEach((function(t){e.cc(t.key)&&(e.Xu=e.Xu.add(t.key))}));var n=[];return t.forEach((function(t){e.Xu.has(t)||n.push(new $T(t))})),this.Xu.forEach((function(e){t.has(e)||n.push(new QT(e))})),n}},{key:"ac",value:function(e){this.Ju=e.sr,this.Xu=yw();var t=this.nc(e.documents);return this.applyChanges(t,!0)}},{key:"hc",value:function(){return RT.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}]),e}(),YT=lr((function e(t,n,r){ur(this,e),this.query=t,this.targetId=n,this.view=r})),JT=lr((function e(t){ur(this,e),this.key=t,this.lc=!1})),ZT=function(){function e(t,n,r,i,a,o){ur(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.fc={},this.dc=new ow((function(e){return ew(e)}),Zk),this._c=new Map,this.wc=new Set,this.mc=new xb(pg.comparator),this.gc=new Map,this.yc=new AS,this.Ic={},this.Tc=new Map,this.Ec=aS.kn(),this.onlineState="Unknown",this.Ac=void 0}return lr(e,[{key:"isPrimaryClient",get:function(){return!0===this.Ac}}]),e}();function eI(e,t){return tI.apply(this,arguments)}function tI(){return tI=It(Et().mark((function e(t,n){var r,i,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=GI(t),!(o=r.dc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.hc(),e.next=15;break;case 6:return e.next=8,rE(r.localStore,Xk(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,nI(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&KE(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),tI.apply(this,arguments)}function nI(e,t,n,r,i){return rI.apply(this,arguments)}function rI(){return rI=It(Et().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=It(Et().mark((function e(t,n,r,i){var a,o,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.nc(r),e.t0=a.ji,!e.t0){e.next=6;break}return e.next=5,oE(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.nc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(_I(t,n.targetId,s.uc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,oE(t.localStore,n,!0);case 3:return o=e.sent,s=new XT(n,o.sr),u=s.nc(o.documents),c=vx.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),_I(t,r,l.uc),f=new YT(n,r,s),e.abrupt("return",(t.dc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),rI.apply(this,arguments)}function iI(e,t){return aI.apply(this,arguments)}function aI(){return aI=It(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wy(t),i=r.dc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!Zk(e,n)}))),void r.dc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,iE(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),GE(r.remoteStore,i.targetId),wI(r,i.targetId)})).catch(Tg);case 9:e.next=14;break;case 11:return wI(r,i.targetId),e.next=14,iE(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),aI.apply(this,arguments)}function oI(e,t,n){return sI.apply(this,arguments)}function sI(){return sI=It(Et().mark((function e(t,n,r){var i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=QI(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Wy(e),a=ug.now(),o=t.reduce((function(e,t){return e.add(t.key)}),yw());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=uw(),u=yw();return i.Xi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=fr(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=qw(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new Kw(c.key,l,uk(l.value.mapValue),jw.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:fw(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ic[e.currentUser.toKey()];r||(r=new xb(ag)),r=r.insert(t,n),e.Ic[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,TI(i,a.changes);case 9:return e.next=11,cT(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=AT(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),sI.apply(this,arguments)}function uI(e,t){return cI.apply(this,arguments)}function cI(){return cI=It(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wy(t),e.prev=1,e.next=4,eE(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.gc.get(t);n&&(Hy(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.lc=!0:e.modifiedDocuments.size>0?Hy(n.lc):e.removedDocuments.size>0&&(Hy(n.lc),n.lc=!1))})),e.next=8,TI(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Tg(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),cI.apply(this,arguments)}function lI(e,t,n){var r=Wy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.dc.forEach((function(e,n){var r=n.view.ku(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Wy(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=fr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ku(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&BT(n)}(r.eventManager,t),i.length&&r.fc.eu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function fI(e,t,n){return hI.apply(this,arguments)}function hI(){return hI=It(Et().mark((function e(t,n,r){var i,a,o,s,u,c;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Wy(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.gc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new xb(pg.comparator)).insert(o,ck.newNoDocument(o,cg.min())),u=yw().add(o),c=new px(cg.min(),new Map,new xb(ag),s,u),e.next=9,uI(i,c);case 9:i.mc=i.mc.remove(o),i.gc.delete(n),EI(i),e.next=16;break;case 14:return e.next=16,iE(i.localStore,n,!1).then((function(){return wI(i,n,r)})).catch(Tg);case 16:case"end":return e.stop()}}),e)}))),hI.apply(this,arguments)}function dI(e,t){return pI.apply(this,arguments)}function pI(){return pI=It(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wy(t),i=n.batch.batchId,e.prev=1,e.next=4,JS(r.localStore,n);case 4:return a=e.sent,kI(r,i,null),bI(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,TI(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Tg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),pI.apply(this,arguments)}function vI(e,t,n){return mI.apply(this,arguments)}function mI(){return mI=It(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wy(t),e.prev=1,e.next=4,function(e,t){var n=Wy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Hy(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,kI(i,n,r),bI(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,TI(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Tg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),mI.apply(this,arguments)}function yI(e,t){return gI.apply(this,arguments)}function gI(){return gI=It(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return JE((r=Wy(t)).remoteStore)||Uy("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Wy(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Tc.get(i)||[]).push(n),r.Tc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=AT(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),gI.apply(this,arguments)}function bI(e,t){(e.Tc.get(t)||[]).forEach((function(e){e.resolve()})),e.Tc.delete(t)}function kI(e,t,n){var r=Wy(e),i=r.Ic[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ic[r.currentUser.toKey()]=i}}function wI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=fr(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.dc.delete(a),n&&e.fc.vc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.yc.ps(t).forEach((function(t){e.yc.containsKey(t)||xI(e,t)}))}function xI(e,t){e.wc.delete(t.path.canonicalString());var n=e.mc.get(t);null!==n&&(GE(e.remoteStore,n),e.mc=e.mc.remove(t),e.gc.delete(n),EI(e))}function _I(e,t,n){var r,i=fr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof QT?(e.yc.addReference(a.key,t),SI(e,a)):a instanceof $T?(Uy("SyncEngine","Document no longer in limbo: "+a.key),e.yc.removeReference(a.key,t),e.yc.containsKey(a.key)||xI(e,a.key)):qy()}}catch(o){i.e(o)}finally{i.f()}}function SI(e,t){var n=t.key,r=n.path.canonicalString();e.mc.get(n)||e.wc.has(r)||(Uy("SyncEngine","New document in limbo: "+n),e.wc.add(r),EI(e))}function EI(e){for(;e.wc.size>0&&e.mc.size<e.maxConcurrentLimboResolutions;){var t=e.wc.values().next().value;e.wc.delete(t);var n=new pg(fg.fromString(t)),r=e.Ec.next();e.gc.set(r,new JT(n)),e.mc=e.mc.insert(n,r),KE(e.remoteStore,new r_(Xk(Hk(n.path)),r,"TargetPurposeLimboResolution",zg.ct))}}function TI(e,t,n){return II.apply(this,arguments)}function II(){return II=It(Et().mark((function e(t,n,r){var i,a,o,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Wy(t),a=[],o=[],s=[],e.t0=i.dc.isEmpty(),e.t0){e.next=9;break}return i.dc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=KS.Bi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.fc.eu(a),e.next=9,function(){var e=It(Et().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wy(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Cg.forEach(n,(function(t){return Cg.forEach(t.$i,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Cg.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Rg(e.t0)){e.next=10;break}throw e.t0;case 10:Uy("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=fr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Hi.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Hi=r.Hi.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),II.apply(this,arguments)}function CI(e,t){return OI.apply(this,arguments)}function OI(){return OI=It(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Wy(t)).currentUser.isEqual(n)){e.next=11;break}return Uy("SyncEngine","User change. New user:",n.toKey()),e.next=5,XS(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Tc.forEach((function(e){e.forEach((function(e){e.reject(new Gy(Ky.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Tc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,TI(r,i.tr);case 11:case"end":return e.stop()}}),e)}))),OI.apply(this,arguments)}function AI(e,t){var n=Wy(e),r=n.gc.get(t);if(r&&r.lc)return yw().add(r.key);var i=yw(),a=n._c.get(t);if(!a)return i;var o,s=fr(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.dc.get(u);i=i.unionWith(c.view.ec)}}catch(l){s.e(l)}finally{s.f()}return i}function PI(e,t){return NI.apply(this,arguments)}function NI(){return NI=It(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wy(t),e.next=3,oE(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ac(i),e.abrupt("return",(r.isPrimaryClient&&_I(r,n.targetId,a.uc),a));case 6:case"end":return e.stop()}}),e)}))),NI.apply(this,arguments)}function RI(e,t){return DI.apply(this,arguments)}function DI(){return DI=It(Et().mark((function e(t,n){var r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wy(t),e.abrupt("return",uE(r.localStore,n).then((function(e){return TI(r,e)})));case 2:case"end":return e.stop()}}),e)}))),DI.apply(this,arguments)}function LI(e,t,n,r){return MI.apply(this,arguments)}function MI(){return MI=It(Et().mark((function e(t,n,r,i){var a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wy(t),e.next=3,function(e,t){var n=Wy(e),r=Wy(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Vn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Cg.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,cT(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(kI(a,n,i||null),bI(a,n),function(e,t){Wy(Wy(e).mutationQueue).Dn(t)}(a.localStore,n)):qy();case 11:return e.next=13,TI(a,o);case 13:e.next=16;break;case 15:Uy("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),MI.apply(this,arguments)}function jI(e,t){return FI.apply(this,arguments)}function FI(){return FI=It(Et().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(GI(r=Wy(t)),QI(r),!0!==n||!0===r.Ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,UI(r,i.toArray());case 5:return a=e.sent,r.Ac=!0,e.next=9,ET(r.remoteStore,!0);case 9:o=fr(a);try{for(o.s();!(s=o.n()).done;)u=s.value,KE(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Ac){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return wI(r,t),iE(r.localStore,t,!0)})),GE(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,UI(r,c);case 21:return function(e){var t=Wy(e);t.gc.forEach((function(e,n){GE(t.remoteStore,n)})),t.yc.Is(),t.gc=new Map,t.mc=new xb(pg.comparator)}(r),r.Ac=!1,e.next=25,ET(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),FI.apply(this,arguments)}function UI(e,t,n){return zI.apply(this,arguments)}function zI(){return zI=It(Et().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Wy(t),a=[],o=[],s=fr(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i._c.get(c))||0===f.length){e.next=34;break}return e.next=11,rE(i.localStore,Xk(f[0]));case 11:l=e.sent,h=fr(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.dc.get(p),e.next=20,PI(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,sE(i.localStore,c);case 36:return y=e.sent,e.next=39,rE(i.localStore,y);case 39:return l=e.sent,e.next=42,nI(i,VI(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.fc.eu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),zI.apply(this,arguments)}function VI(e){return qk(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function BI(e){var t=Wy(e);return Wy(Wy(t.localStore).persistence).Mi()}function qI(e,t,n,r){return HI.apply(this,arguments)}function HI(){return HI=It(Et().mark((function e(t,n,r,i){var a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Wy(t)).Ac){e.next=3;break}return e.abrupt("return",void Uy("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,uE(a.localStore,rw(o[0]));case 10:return s=e.sent,u=px.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Ab.EMPTY_BYTE_STRING),e.next=14,TI(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,iE(a.localStore,n,!0);case 17:return wI(a,n,i),e.abrupt("break",20);case 19:qy();case 20:case"end":return e.stop()}}),e)}))),HI.apply(this,arguments)}function WI(e,t,n){return KI.apply(this,arguments)}function KI(){return KI=It(Et().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=GI(t)).Ac){e.next=45;break}a=fr(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i._c.has(s)){e.next=10;break}return Uy("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,sE(i.localStore,s);case 12:return u=e.sent,e.next=15,rE(i.localStore,u);case 15:return c=e.sent,e.next=18,nI(i,VI(u),c.targetId,!1,c.resumeToken);case 18:KE(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=fr(r),e.prev=30,h=Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,iE(i.localStore,t,!1).then((function(){GE(i.remoteStore,t),wI(i,t)})).catch(Tg);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),KI.apply(this,arguments)}function GI(e){var t=Wy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=uI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=AI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fI.bind(null,t),t.fc.eu=zT.bind(null,t.eventManager),t.fc.vc=VT.bind(null,t.eventManager),t}function QI(e){var t=Wy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vI.bind(null,t),t}function $I(e,t,n){var r=Wy(e);(function(){var e=It(Et().mark((function e(t,n,r){var i,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Wy(e),r=Px(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ls.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(GT(i)),a=new KT(i,t.localStore,n.serializer),e.next=15,n.Pc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ju(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.Pc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,TI(t,u.Hu,void 0);case 31:return e.next=33,function(e,t){var n=Wy(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ls.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Wu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Vy("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var XI=function(){function e(){ur(this,e),this.synchronizeTabs=!1}return lr(e,[{key:"initialize",value:function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=DE(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return $S(this.persistence,new GS,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new MS(FS.js,this.serializer)}},{key:"createSharedClientState",value:function(e){return new _E}},{key:"terminate",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),YI=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a;return ur(this,n),(a=t.call(this)).bc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return lr(n,[{key:"initialize",value:function(){var e=It(Et().mark((function e(t){var r=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ta(vr(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.bc.initialize(this,t);case 4:return e.next=6,QI(this.bc.syncEngine);case 6:return e.next=8,cT(this.bc.remoteStore);case 8:return e.next=10,this.persistence.pi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return $S(this.persistence,new GS,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new hS(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Ug(t,this.persistence);return new Fg(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=WS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Y_.withCacheSize(this.cacheSizeBytes):Y_.DEFAULT;return new BS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,NE(),RE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new _E}}]),n}(XI),JI=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e,r,!1)).bc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return lr(n,[{key:"initialize",value:function(){var e=It(Et().mark((function e(t){var r,i=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ta(vr(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.bc.syncEngine,e.t0=this.sharedClientState instanceof xE,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Qr:LI.bind(null,r),jr:qI.bind(null,r),zr:WI.bind(null,r),Mi:BI.bind(null,r),Gr:RI.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.pi(function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jI(i.bc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=NE();if(!xE.D(t))throw new Gy(Ky.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=WS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new xE(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(YI),ZI=function(){function e(){ur(this,e)}return lr(e,[{key:"initialize",value:function(){var e=It(Et().mark((function e(t,n){var r=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return lI(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=CI.bind(null,this.syncEngine),e.next=12,ET(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new LT}},{key:"createDatastore",value:function(e){var t,n=DE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new PE(t));return function(e,t,n,r){return new UE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return lI(o.syncEngine,e,0)},a=EE.D()?new EE:new SE,new VE(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new ZT(e,t,n,r,i,a);return o&&(s.Ac=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wy(t),Uy("RemoteStore","RemoteStore shutting down."),n.Au.add(5),e.next=5,HE(n);case 5:n.vu.shutdown(),n.Pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function eC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return It(Et().mark((function r(){var i;return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var tC=function(){function e(t){ur(this,e),this.observer=t,this.muted=!1}return lr(e,[{key:"next",value:function(e){this.observer.next&&this.Vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Vc(this.observer.error,e):zy("Uncaught Error in snapshot listener:",e.toString())}},{key:"Sc",value:function(){this.muted=!0}},{key:"Vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),nC=function(){function e(t,n){var r=this;ur(this,e),this.Dc=t,this.serializer=n,this.metadata=new Qy,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then((function(e){e&&e.Gu()?r.metadata.resolve(e.Ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Ku))))}),(function(e){return r.metadata.reject(e)}))}return lr(e,[{key:"close",value:function(){return this.Dc.cancel()}},{key:"getMetadata",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pc",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.xc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){var e=It(Et().mark((function e(){var t,n,r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Nc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Cc.decode(t),r=Number(n),isNaN(r)&&this.kc("length string (".concat(n,") is not valid number")),e.next=9,this.Mc(r);case 9:return i=e.sent,e.abrupt("return",new HT(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Nc",value:function(){var e=It(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.$c();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.kc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mc",value:function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.$c();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.kc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Cc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kc",value:function(e){throw this.Dc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"$c",value:function(){var e=It(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Dc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),rC=function(){function e(t){ur(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return lr(e,[{key:"lookup",value:function(){var e=It(Et().mark((function e(t){var n,r=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Gy(Ky.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=It(Et().mark((function e(t,n){var r,i,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wy(t),i=Fx(r.serializer)+"/documents",a={documents:n.map((function(e){return Dx(r.serializer,e)}))},e.next=5,r.Ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Bx(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Hy(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Jw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=It(Et().mark((function e(){var t,n=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=pg.fromPath(t);n.mutations.push(new Zw(r,n.precondition(r)))})),e.next=7,function(){var e=It(Et().mark((function e(t,n){var r,i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wy(t),i=Fx(r.serializer)+"/documents",a={writes:n.map((function(e){return qx(r.serializer,e)}))},e.next=3,r.po("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw qy();t=cg.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Gy(Ky.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(cg.min())?jw.exists(!1):jw.updateTime(t):jw.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(cg.min()))throw new Gy(Ky.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jw.updateTime(t)}return jw.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),iC=function(){function e(t,n,r,i,a){ur(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Fc=r.maxAttempts,this.Lo=new LE(this.asyncQueue,"transaction_retry")}return lr(e,[{key:"run",value:function(){this.Fc-=1,this.Bc()}},{key:"Bc",value:function(){var e=this;this.Lo.xo(It(Et().mark((function t(){var n,r;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new rC(e.datastore),(r=e.Lc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.qc(t)}))}))})).catch((function(t){e.qc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Lc",value:function(e){try{var t=this.updateFunction(e);return!Vg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"qc",value:function(e){var t=this;this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Bc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Uc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ix(t)}return!1}}]),e}(),aC=function(){function e(t,n,r,i){var a=this;ur(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ly.UNAUTHENTICATED,this.clientId=ig.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Uy("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Uy("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return lr(e,[{key:"getConfiguration",value:function(){var e=It(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Gy(Ky.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Qy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(It(Et().mark((function n(){var r;return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=AT(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function oC(e,t){return sC.apply(this,arguments)}function sC(){return sC=It(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Uy("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,XS(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),sC.apply(this,arguments)}function uC(e,t){return cC.apply(this,arguments)}function cC(){return cC=It(Et().mark((function e(t,n){var r,i;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,fC(t);case 3:return r=e.sent,Uy("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return _T(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return _T(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),cC.apply(this,arguments)}function lC(e){return"FirebaseError"===e.name?e.code===Ky.FAILED_PRECONDITION||e.code===Ky.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function fC(e){return hC.apply(this,arguments)}function hC(){return hC=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Uy("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,oC(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),lC(n=e.t0)){e.next=13;break}throw n;case 13:return Vy("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,oC(t,new XI);case 16:e.next=21;break;case 18:return Uy("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,oC(t,new XI);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),hC.apply(this,arguments)}function dC(e){return pC.apply(this,arguments)}function pC(){return pC=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Uy("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,uC(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Uy("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,uC(t,new ZI);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),pC.apply(this,arguments)}function vC(e){return fC(e).then((function(e){return e.persistence}))}function mC(e){return fC(e).then((function(e){return e.localStore}))}function yC(e){return dC(e).then((function(e){return e.remoteStore}))}function gC(e){return dC(e).then((function(e){return e.syncEngine}))}function bC(e){return dC(e).then((function(e){return e.datastore}))}function kC(e){return wC.apply(this,arguments)}function wC(){return wC=It(Et().mark((function e(t){var n,r;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dC(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=eI.bind(null,n.syncEngine),r.onUnlisten=iI.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),wC.apply(this,arguments)}function xC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Qy;return e.asyncQueue.enqueueAndForget(It(Et().mark((function i(){return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new tC({next:function(a){t.enqueueAndForget((function(){return FT(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Gy(Ky.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Gy(Ky.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new qT(Hk(n.path),a,{includeMetadataChanges:!0,Uu:!0});return MT(e,o)},i.next=3,kC(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function _C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Qy;return e.asyncQueue.enqueueAndForget(It(Et().mark((function i(){return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new tC({next:function(n){t.enqueueAndForget((function(){return FT(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Gy(Ky.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new qT(n,a,{includeMetadataChanges:!0,Uu:!0});return MT(e,o)},i.next=3,kC(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var SC=new Map;function EC(e,t,n){if(!n)throw new Gy(Ky.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function TC(e,t,n,r){if(!0===t&&!0===r)throw new Gy(Ky.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function IC(e){if(!pg.isDocumentKey(e))throw new Gy(Ky.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function CC(e){if(pg.isDocumentKey(e))throw new Gy(Ky.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function OC(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":qy()}function AC(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Gy(Ky.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=OC(e);throw new Gy(Ky.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function PC(e,t){if(t<=0)throw new Gy(Ky.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var NC=function(){function e(t){var n;if(ur(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Gy(Ky.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Gy(Ky.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}TC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling||void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams}return lr(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),RC=function(){function e(t,n,r,i){ur(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NC({}),this._settingsFrozen=!1}return lr(e,[{key:"app",get:function(){if(!this._app)throw new Gy(Ky.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Gy(Ky.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NC(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Xy;switch(e.type){case"firstParty":return new eg(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Gy(Ky.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=SC.get(e);t&&(Uy("ComponentProvider","Removing Datastore"),SC.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function DC(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=AC(e,RC))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Vy("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Ly.MOCK_USER;else{o=Pr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Gy(Ky.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Ly(u)}e._authCredentials=new Yy(new $y(o,s))}}var LC=function(){function e(t,n,r){ur(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return lr(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new jC(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),MC=function(){function e(t,n,r){ur(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return lr(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),jC=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a;return ur(this,n),(a=t.call(this,e,r,Hk(i)))._path=i,a.type="collection",a}return lr(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new LC(this.firestore,null,new pg(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(MC);function FC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Jr(e),EC("collection","path",t),e instanceof RC){var a=fg.fromString.apply(fg,[t].concat(r));return CC(a),new jC(e,null,a)}if(!(e instanceof LC||e instanceof jC))throw new Gy(Ky.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(fg.fromString.apply(fg,[t].concat(r)));return CC(o),new jC(e.firestore,null,o)}function UC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Jr(e),1===arguments.length&&(t=ig.A()),EC("doc","path",t),e instanceof RC){var a=fg.fromString.apply(fg,[t].concat(r));return IC(a),new LC(e,null,new pg(a))}if(!(e instanceof LC||e instanceof jC))throw new Gy(Ky.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(fg.fromString.apply(fg,[t].concat(r)));return IC(o),new LC(e.firestore,e instanceof jC?e.converter:null,new pg(o))}function zC(e,t){return e=Jr(e),t=Jr(t),(e instanceof LC||e instanceof jC)&&(t instanceof LC||t instanceof jC)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function VC(e,t){return e=Jr(e),t=Jr(t),e instanceof MC&&t instanceof MC&&e.firestore===t.firestore&&Zk(e._query,t._query)&&e.converter===t.converter}var BC=function(){function e(){var t=this;ur(this,e),this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new LE(this,"async_queue_retry"),this.Yc=function(){var e=RE();e&&Uy("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Lo.ko()};var n=RE();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Yc)}return lr(e,[{key:"isShuttingDown",get:function(){return this.Qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Xc(),this.Zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;var t=RE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Xc(),this.Qc)return new Promise((function(){}));var n=new Qy;return this.Zc((function(){return t.Qc&&t.Hc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Gc.push(e),t.ta()}))}},{key:"ta",value:function(){var e=It(Et().mark((function e(){var t=this;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Gc.length){e.next=14;break}return e.prev=1,e.next=4,this.Gc[0]();case 4:this.Gc.shift(),this.Lo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Rg(e.t0)){e.next=12;break}throw e.t0;case 12:Uy("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Gc.length>0&&this.Lo.xo((function(){return t.ta()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t=this,n=this.Kc.then((function(){return t.Wc=!0,e().catch((function(e){t.zc=e,t.Wc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw zy("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Wc=!1,e}))}));return this.Kc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);var i=OT.createAndSchedule(this,e,t,n,(function(e){return r.ea(e)}));return this.jc.push(i),i}},{key:"Xc",value:function(){this.zc&&qy()}},{key:"verifyOperationInProgress",value:function(){}},{key:"na",value:function(){var e=It(Et().mark((function e(){var t;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Kc,e.next=3,t;case 3:if(t!==this.Kc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sa",value:function(e){var t,n=fr(this.jc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ia",value:function(e){var t=this;return this.na().then((function(){t.jc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=fr(t.jc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.na()}))}},{key:"ra",value:function(e){this.Jc.push(e)}},{key:"ea",value:function(e){var t=this.jc.indexOf(e);this.jc.splice(t,1)}}]),e}();function qC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=fr(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var HC=function(){function e(){ur(this,e),this._progressObserver={},this._taskCompletionResolver=new Qy,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return lr(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),WC=function(e){pr(n,e);var t=gr(n);function n(e,r,i,a){var o;return ur(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new BC,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return lr(n,[{key:"_terminate",value:function(){return this._firestoreClient||GC(this),this._firestoreClient.terminate()}}]),n}(RC);function KC(e){return e._firestoreClient||GC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function GC(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Fb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new aC(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function QC(e,t,n){var r=new Qy;return e.asyncQueue.enqueue(It(Et().mark((function i(){var a;return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,oC(e,n);case 3:return i.next=5,uC(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),lC(a=i.t0)){i.next=13;break}throw a;case 13:Vy("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function $C(e){return function(e){return e.asyncQueue.enqueue(It(Et().mark((function t(){var n,r;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vC(e);case 2:return n=t.sent,t.next=5,yC(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Wy(e);return t.Au.delete(0),BE(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(KC(e=AC(e,WC)))}function XC(e){return function(e){return e.asyncQueue.enqueue(It(Et().mark((function t(){var n,r;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vC(e);case 2:return n=t.sent,t.next=5,yC(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Wy(t)).Au.add(0),e.next=4,HE(n);case 4:n.Pu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(KC(e=AC(e,WC)))}function YC(e,t){var n=KC(e=AC(e,WC)),r=new HC;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new nC(e,t)}(function(e,t){if(e instanceof Uint8Array)return eC(e,t);if(e instanceof ArrayBuffer)return eC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?ux().encode(e):e),t)}(n,DE(t));e.asyncQueue.enqueueAndForget(It(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=$I,t.next=3,gC(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function JC(e,t){return function(e,t){return e.asyncQueue.enqueue(It(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Wy(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ls.getNamedQuery(e,t)}))},n.next=3,mC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(KC(e=AC(e,WC)),t).then((function(t){return t?new MC(e,null,t.query):null}))}function ZC(e){if(e._initialized||e._terminated)throw new Gy(Ky.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var eO=function(){function e(t){ur(this,e),this._byteString=t}return lr(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ab.fromBase64String(t))}catch(t){throw new Gy(Ky.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ab.fromUint8Array(t))}}]),e}(),tO=function(){function e(){ur(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Gy(Ky.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dg(n)}return lr(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var nO=lr((function e(t){ur(this,e),this._methodName=t})),rO=function(){function e(t,n){if(ur(this,e),!isFinite(t)||t<-90||t>90)throw new Gy(Ky.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Gy(Ky.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return lr(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ag(this._lat,e._lat)||ag(this._long,e._long)}}]),e}(),iO=/^__.*__$/,aO=function(){function e(t,n,r){ur(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return lr(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Kw(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ww(e,this.data,t,this.fieldTransforms)}}]),e}(),oO=function(){function e(t,n,r){ur(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return lr(e,[{key:"toMutation",value:function(e,t){return new Kw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function sO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qy()}}var uO=function(){function e(t,n,r,i,a,o){ur(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.oa(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return lr(e,[{key:"path",get:function(){return this.settings.path}},{key:"ua",get:function(){return this.settings.ua}},{key:"ca",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"aa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:n,ha:!1});return r.la(e),r}},{key:"fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:n,ha:!1});return r.oa(),r}},{key:"da",value:function(e){return this.ca({path:void 0,ha:!0})}},{key:"_a",value:function(e){return CO(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"oa",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.la(this.path.get(e))}},{key:"la",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(sO(this.ua)&&iO.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),cO=function(){function e(t,n,r){ur(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||DE(t)}return lr(e,[{key:"ga",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uO({ua:e,methodName:t,ma:n,path:dg.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function lO(e){var t=e._freezeSettings(),n=DE(e._databaseId);return new cO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fO(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ga(a.merge||a.mergeFields?2:0,t,n,i);SO("Data must be an object, but it was:",o,r);var s,u,c=xO(r,o);if(a.merge)s=new Cb(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=fr(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=EO(t,d,n);if(!o.contains(p))throw new Gy(Ky.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));OO(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Cb(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new aO(new sk(c),s,u)}var hO=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ua)throw 1===e.ua?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(nO);function dO(e,t,n){return new uO({ua:3,ma:t.settings.ma,methodName:e._methodName,ha:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var pO=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"_toFieldTransform",value:function(e){return new Lw(e.path,new Iw)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(nO),vO=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e)).ya=r,i}return lr(n,[{key:"_toFieldTransform",value:function(e){var t=dO(this,e,!0),n=this.ya.map((function(e){return wO(e,t)})),r=new Cw(n);return new Lw(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nO),mO=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e)).ya=r,i}return lr(n,[{key:"_toFieldTransform",value:function(e){var t=dO(this,e,!0),n=this.ya.map((function(e){return wO(e,t)})),r=new Aw(n);return new Lw(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nO),yO=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e)).pa=r,i}return lr(n,[{key:"_toFieldTransform",value:function(e){var t=new Nw(e.serializer,xw(e.serializer,this.pa));return new Lw(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nO);function gO(e,t,n,r){var i=e.ga(1,t,n);SO("Data must be an object, but it was:",i,r);var a=[],o=sk.empty();kb(r,(function(e,r){var s=IO(t,e,n);r=Jr(r);var u=i.fa(s);if(r instanceof hO)a.push(s);else{var c=wO(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Cb(a);return new oO(o,s,i.fieldTransforms)}function bO(e,t,n,r,i,a){var o=e.ga(1,t,n),s=[EO(t,r,n)],u=[i];if(a.length%2!=0)throw new Gy(Ky.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(EO(t,a[c])),u.push(a[c+1]);for(var l=[],f=sk.empty(),h=s.length-1;h>=0;--h)if(!OO(l,s[h])){var d=s[h],p=u[h];p=Jr(p);var v=o.fa(d);if(p instanceof hO)l.push(d);else{var m=wO(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Cb(l);return new oO(f,y,o.fieldTransforms)}function kO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return wO(n,e.ga(r?4:3,t))}function wO(e,t){if(_O(e=Jr(e)))return SO("Unsupported field value:",t,e),xO(e,t);if(e instanceof nO)return function(e,t){if(!sO(t.ua))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ha&&4!==t.ua)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=fr(e);try{for(a.s();!(n=a.n()).done;){var o=wO(n.value,t.da(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Jr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xw(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ug.fromDate(e);return{timestampValue:Cx(t.serializer,n)}}if(e instanceof ug){var r=new ug(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Cx(t.serializer,r)}}if(e instanceof rO)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof eO)return{bytesValue:Ox(t.serializer,e._byteString)};if(e instanceof LC){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Nx(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(OC(e)))}(e,t)}function xO(e,t){var n={};return wb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):kb(e,(function(e,r){var i=wO(r,t.aa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function _O(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ug||e instanceof rO||e instanceof eO||e instanceof LC||e instanceof nO)}function SO(e,t,n){if(!_O(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=OC(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function EO(e,t,n){if((t=Jr(t))instanceof tO)return t._internalPath;if("string"==typeof t)return IO(e,t);throw CO("Field path arguments must be of type string or ",e,!1,void 0,n)}var TO=new RegExp("[~\\*/\\[\\]]");function IO(e,t,n){if(t.search(TO)>=0)throw CO("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return br(tO,ei(t.split(".")))._internalPath}catch(r){throw CO("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function CO(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Gy(Ky.INVALID_ARGUMENT,s+e+u)}function OO(e,t){return e.some((function(e){return e.isEqual(t)}))}var AO=function(){function e(t,n,r,i,a){ur(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return lr(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new LC(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new PO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(NO("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),PO=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"data",value:function(){return Ta(vr(n.prototype),"data",this).call(this)}}]),n}(AO);function NO(e,t){return"string"==typeof t?IO(e,t):t instanceof tO?t._internalPath:t._delegate._internalPath}function RO(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Gy(Ky.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var DO=lr((function e(){ur(this,e)})),LO=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n)}(DO);function MO(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof DO&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof FO})).length,n=e.filter((function(e){return e instanceof jO})).length;if(t>1||t>0&&n>0)throw new Gy(Ky.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=fr(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;e=u._apply(e)}}catch(c){s.e(c)}finally{s.f()}return e}var jO=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a;return ur(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return lr(n,[{key:"_apply",value:function(e){var t=this._parse(e);return XO(e._query,t),new MC(e.firestore,e.converter,Yk(e._query,t))}},{key:"_parse",value:function(e){var t=lO(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Gy(Ky.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){$O(o,a);var u,c=[],l=fr(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(QO(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=QO(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||$O(o,a),s=kO(n,"where",o,"in"===a||"not-in"===a);return mk.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(LO);var FO=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return lr(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:yk.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=fr(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;XO(r,a),r=Yk(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new MC(e.firestore,e.converter,Yk(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(DO);var UO=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return lr(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Gy(Ky.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Gy(Ky.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new dk(t,n);return function(e,t){if(null===Kk(e)){var n=Gk(e);null!==n&&YO(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new MC(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Bk(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(LO);var zO=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a;return ur(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return lr(n,[{key:"_apply",value:function(e){return new MC(e.firestore,e.converter,Jk(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(LO);var VO=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a;return ur(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return lr(n,[{key:"_apply",value:function(e){var t=GO(e,this.type,this._docOrFields,this._inclusive);return new MC(e.firestore,e.converter,function(e,t){return new Bk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(LO);function BO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return VO._create("startAt",t,!0)}function qO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return VO._create("startAfter",t,!1)}var HO=function(e){pr(n,e);var t=gr(n);function n(e,r,i){var a;return ur(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return lr(n,[{key:"_apply",value:function(e){var t=GO(e,this.type,this._docOrFields,this._inclusive);return new MC(e.firestore,e.converter,function(e,t){return new Bk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(LO);function WO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return HO._create("endBefore",t,!1)}function KO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return HO._create("endAt",t,!0)}function GO(e,t,n,r){if(n[0]=Jr(n[0]),n[0]instanceof AO)return function(e,t,n,r,i){if(!r)throw new Gy(Ky.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=fr($k(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push($b(t,r.key));else{var c=r.data.field(u.field);if(Lb(c))throw new Gy(Ky.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Gy(Ky.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new lk(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=lO(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Gy(Ky.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Gy(Ky.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Qk(e)&&-1!==c.indexOf("/"))throw new Gy(Ky.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(fg.fromString(c));if(!pg.isDocumentKey(l))throw new Gy(Ky.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new pg(l);s.push($b(t,f))}else{var h=kO(n,r,c);s.push(h)}}return new lk(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function QO(e,t,n){if("string"==typeof(n=Jr(n))){if(""===n)throw new Gy(Ky.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qk(t)&&-1!==n.indexOf("/"))throw new Gy(Ky.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(fg.fromString(n));if(!pg.isDocumentKey(r))throw new Gy(Ky.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return $b(e,new pg(r))}if(n instanceof LC)return $b(e,n._key);throw new Gy(Ky.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(OC(n),"."))}function $O(e,t){if(!Array.isArray(e)||0===e.length)throw new Gy(Ky.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function XO(e,t){if(t.isInequality()){var n=Gk(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Gy(Ky.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Kk(e);null!==i&&YO(e,r,i)}var a=function(e,t){var n,r=fr(e);try{for(r.s();!(n=r.n()).done;){var i,a=fr(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Gy(Ky.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Gy(Ky.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function YO(e,t,n){if(!n.isEqual(t))throw new Gy(Ky.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var JO=function(){function e(){ur(this,e)}return lr(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Bb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Db(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw qy()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return kb(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new rO(Rb(e.latitude),Rb(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Mb(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(jb(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Nb(e);return new ug(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=fg.fromString(e);Hy(n_(n));var r=new Ub(n.get(1),n.get(3)),i=new pg(n.popFirst(5));return r.isEqual(t)||zy("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function ZO(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var eA=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this)).firestore=e,r}return lr(n,[{key:"convertBytes",value:function(e){return new eO(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new LC(this.firestore,null,t)}}]),n}(JO);var tA=function(){function e(t,n){ur(this,e),this.hasPendingWrites=t,this.fromCache=n}return lr(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),nA=function(e){pr(n,e);var t=gr(n);function n(e,r,i,a,o,s){var u;return ur(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return lr(n,[{key:"exists",value:function(){return Ta(vr(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new rA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(NO("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(AO),rA=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ta(vr(n.prototype),"data",this).call(this,e)}}]),n}(nA),iA=function(){function e(t,n,r,i){ur(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new tA(i.hasPendingWrites,i.fromCache),this.query=r}return lr(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new rA(n._firestore,n._userDataWriter,r.key,r,new tA(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Gy(Ky.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new rA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new tA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new rA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new tA(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:aA(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function aA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qy()}}function oA(e,t){return e instanceof nA&&t instanceof nA?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof iA&&t instanceof iA&&e._firestore===t._firestore&&VC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var sA=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this)).firestore=e,r}return lr(n,[{key:"convertBytes",value:function(e){return new eO(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new LC(this.firestore,null,t)}}]),n}(JO);function uA(e){e=AC(e,LC);var t=AC(e.firestore,WC),n=KC(t),r=new sA(t);return function(e,t){var n=new Qy;return e.asyncQueue.enqueueAndForget(It(Et().mark((function r(){return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=It(Et().mark((function e(t,n,r){var i,a;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Wy(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Gy(Ky.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=AT(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,mC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new nA(t,r,e._key,n,new tA(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function cA(e){e=AC(e,MC);var t=AC(e.firestore,WC),n=KC(t),r=new sA(t);return function(e,t){var n=new Qy;return e.asyncQueue.enqueueAndForget(It(Et().mark((function r(){return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=It(Et().mark((function e(t,n,r){var i,a,o,s,u;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oE(t,n,!0);case 3:i=e.sent,a=new XT(n,i.sr),o=a.nc(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=AT(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,mC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new iA(t,r,e,n)}))}function lA(e,t,n){e=AC(e,LC);var r=AC(e.firestore,WC),i=ZO(e.converter,t,n);return pA(r,[fO(lO(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,jw.none())])}function fA(e,t,n){e=AC(e,LC);for(var r=AC(e.firestore,WC),i=lO(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return pA(r,[("string"==typeof(t=Jr(t))||t instanceof tO?bO(i,"updateDoc",e._key,t,n,o):gO(i,"updateDoc",e._key,t)).toMutation(e._key,jw.exists(!0))])}function hA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Jr(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||qC(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(qC(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof LC)l=AC(e.firestore,WC),f=Hk(e._key.path),c={next:function(t){n[u]&&n[u](vA(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=AC(e,MC);l=AC(p.firestore,WC),f=p._query;var v=new sA(l);c={next:function(e){n[u]&&n[u](new iA(l,v,p,e))},error:n[u+1],complete:n[u+2]},RO(e._query)}return function(e,t,n,r){var i=new tC(r),a=new qT(t,i,n);return e.asyncQueue.enqueueAndForget(It(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=MT,t.next=3,kC(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Sc(),e.asyncQueue.enqueueAndForget(It(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=FT,t.next=3,kC(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(KC(l),f,h,c)}function dA(e,t){return function(e,t){var n=new tC(t);return e.asyncQueue.enqueueAndForget(It(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Wy(e).Nu.add(t),t.next()},t.next=3,kC(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Sc(),e.asyncQueue.enqueueAndForget(It(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Wy(e).Nu.delete(t)},t.next=3,kC(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(KC(e=AC(e,WC)),qC(t)?t:{next:t})}function pA(e,t){return function(e,t){var n=new Qy;return e.asyncQueue.enqueueAndForget(It(Et().mark((function r(){return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=oI,r.next=3,gC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(KC(e),t)}function vA(e,t,n){var r=n.docs.get(t._key),i=new sA(e);return new nA(e,i,t._key,r,new tA(n.hasPendingWrites,n.fromCache),t.converter)}var mA={maxAttempts:5},yA=function(){function e(t,n){ur(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=lO(t)}return lr(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=gA(e,this._firestore),i=ZO(r.converter,t,n),a=fO(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,jw.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=gA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Jr(t))||t instanceof tO?bO(this._dataReader,"WriteBatch.update",i._key,t,n,o):gO(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,jw.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=gA(e,this._firestore);return this._mutations=this._mutations.concat(new Jw(t._key,jw.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Gy(Ky.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function gA(e,t){if((e=Jr(e)).firestore!==t)throw new Gy(Ky.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var bA=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e,r))._firestore=e,i}return lr(n,[{key:"get",value:function(e){var t=this,r=gA(e,this._firestore),i=new sA(this._firestore);return Ta(vr(n.prototype),"get",this).call(this,e).then((function(e){return new nA(t._firestore,i,r._key,e._document,new tA(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){ur(this,e),this._firestore=t,this._transaction=n,this._dataReader=lO(t)}return lr(e,[{key:"get",value:function(e){var t=this,n=gA(e,this._firestore),r=new eA(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return qy();var i=e[0];if(i.isFoundDocument())return new AO(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new AO(t._firestore,r,n._key,null,n.converter);throw qy()}))}},{key:"set",value:function(e,t,n){var r=gA(e,this._firestore),i=ZO(r.converter,t,n),a=fO(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=gA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Jr(t))||t instanceof tO?bO(this._dataReader,"Transaction.update",i._key,t,n,o):gO(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=gA(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function kA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vO("arrayUnion",t)}function wA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mO("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){My=e}(Qi),Vi(new ti("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new WC(new Jy(e.getProvider("auth-internal")),new ng(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Gy(Ky.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ub(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ea(Dy,"3.11.0",e),ea(Dy,"3.11.0","esm2017")}();function xA(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Gy("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function _A(){if("undefined"===typeof Uint8Array)throw new Gy("unimplemented","Uint8Arrays are not available in this environment.")}function SA(){if("undefined"==typeof atob)throw new Gy("unimplemented","Blobs are unavailable in Firestore in this environment.")}var EA=function(){function e(t){ur(this,e),this._delegate=t}return lr(e,[{key:"toBase64",value:function(){return SA(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return _A(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return SA(),new e(eO.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return _A(),new e(eO.fromUint8Array(t))}}]),e}();function TA(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=fr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var IA=function(){function e(){ur(this,e)}return lr(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){ZC(e=AC(e,WC));var n=KC(e);if(n._uninitializedComponentsProvider)throw new Gy(Ky.FAILED_PRECONDITION,"SDK cache is already specified.");Vy("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new ZI;return QC(n,i,new YI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){ZC(e=AC(e,WC));var t=KC(e);if(t._uninitializedComponentsProvider)throw new Gy(Ky.FAILED_PRECONDITION,"SDK cache is already specified.");Vy("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new ZI;return QC(t,r,new JI(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Gy(Ky.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Qy;return e._queue.enqueueAndForgetEvenWhileRestricted(It(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=It(Et().mark((function e(t){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ag.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Ag.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(WS(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),CA=function(){function e(t,n,r){var i=this;ur(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Ub||(this._appCompat=t)}return lr(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Vy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};DC(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return $C(this._delegate)}},{key:"disableNetwork",value:function(){return XC(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&TC("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Qy;return e.asyncQueue.enqueueAndForget(It(Et().mark((function n(){return Et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=yI,n.next=3,gC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(KC(e=AC(e,WC)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return dA(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Gy("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new BA(this,FC(this._delegate,e))}catch(t){throw DA(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new RA(this,UC(this._delegate,e))}catch(t){throw DA(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new UA(this,function(e,t){if(e=AC(e,RC),EC("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Gy(Ky.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new MC(e,null,function(e){return new Bk(fg.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw DA(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=AC(e,WC);var r=Object.assign(Object.assign({},mA),n);return function(e){if(e.maxAttempts<1)throw new Gy(Ky.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Qy;return e.asyncQueue.enqueueAndForget(It(Et().mark((function i(){var a;return Et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,bC(e);case 2:a=i.sent,new iC(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(KC(e),(function(n){return t(new bA(e,n))}),r)}(this._delegate,(function(n){return e(new AA(t,n))}))}},{key:"batch",value:function(){var e=this;return KC(this._delegate),new PA(new yA(this._delegate,(function(t){return pA(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return YC(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return JC(this._delegate,e).then((function(e){return e?new UA(t,e):null}))}}]),e}(),OA=function(e){pr(n,e);var t=gr(n);function n(e){var r;return ur(this,n),(r=t.call(this)).firestore=e,r}return lr(n,[{key:"convertBytes",value:function(e){return new EA(new eO(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return RA.forKey(t,this.firestore,null)}}]),n}(JO);var AA=function(){function e(t,n){ur(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new OA(t)}return lr(e,[{key:"get",value:function(e){var t=this,n=qA(e);return this._delegate.get(n).then((function(e){return new jA(t._firestore,new nA(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=qA(e);return n?(xA("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=qA(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=qA(e);return this._delegate.delete(t),this}}]),e}(),PA=function(){function e(t){ur(this,e),this._delegate=t}return lr(e,[{key:"set",value:function(e,t,n){var r=qA(e);return n?(xA("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=qA(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=qA(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),NA=function(){function e(t,n,r){ur(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return lr(e,[{key:"fromFirestore",value:function(e,t){var n=new rA(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new FA(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new OA(t),n),i.set(n,a)),a}}]),e}();NA.INSTANCES=new WeakMap;var RA=function(){function e(t,n){ur(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new OA(t)}return lr(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new BA(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new BA(this.firestore,FC(this._delegate,e))}catch(t){throw DA(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Jr(e))instanceof LC&&zC(this._delegate,e)}},{key:"set",value:function(e,t){t=xA("DocumentReference.set",t);try{return t?lA(this._delegate,e,t):lA(this._delegate,e)}catch(n){throw DA(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?fA(this._delegate,e):fA.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw DA(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return pA(AC(e.firestore,WC),[new Jw(e._key,jw.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=LA(n),a=MA(n,(function(t){return new jA(e.firestore,new nA(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return hA(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?uA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=AC(e,LC);var t=AC(e.firestore,WC);return xC(KC(t),e._key,{source:"server"}).then((function(n){return vA(t,e,n)}))}(this._delegate):function(e){e=AC(e,LC);var t=AC(e.firestore,WC);return xC(KC(t),e._key).then((function(n){return vA(t,e,n)}))}(this._delegate),t.then((function(e){return new jA(n.firestore,new nA(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(NA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Gy("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new LC(n._delegate,r,new pg(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new LC(n._delegate,r,t))}}]),e}();function DA(e,t,n){return e.message=e.message.replace(t,n),e}function LA(e){var t,n=fr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!TA(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function MA(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=TA(e[0])?e[0]:TA(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var jA=function(){function e(t,n){ur(this,e),this._firestore=t,this._delegate=n}return lr(e,[{key:"ref",get:function(){return new RA(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return oA(this._delegate,e._delegate)}}]),e}(),FA=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||qy()}(void 0!==t),t}}]),n}(jA),UA=function(){function e(t,n){ur(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new OA(t)}return lr(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,MO(this._delegate,function(e,t,n){var r=t,i=NO("where",e);return jO._create(i,r,n)}(t,n,r)))}catch(i){throw DA(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,MO(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=NO("orderBy",e);return UO._create(n,t)}(t,n)))}catch(r){throw DA(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,MO(this._delegate,function(e){return PC("limit",e),zO._create("limit",e,"F")}(t)))}catch(n){throw DA(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,MO(this._delegate,function(e){return PC("limitToLast",e),zO._create("limitToLast",e,"L")}(t)))}catch(n){throw DA(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,MO(this._delegate,BO.apply(void 0,arguments)))}catch(t){throw DA(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,MO(this._delegate,qO.apply(void 0,arguments)))}catch(t){throw DA(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,MO(this._delegate,WO.apply(void 0,arguments)))}catch(t){throw DA(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,MO(this._delegate,KO.apply(void 0,arguments)))}catch(t){throw DA(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return VC(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?cA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=AC(e,MC);var t=AC(e.firestore,WC),n=KC(t),r=new sA(t);return _C(n,e._query,{source:"server"}).then((function(n){return new iA(t,r,e,n)}))}(this._delegate):function(e){e=AC(e,MC);var t=AC(e.firestore,WC),n=KC(t),r=new sA(t);return RO(e._query),_C(n,e._query).then((function(n){return new iA(t,r,e,n)}))}(this._delegate),t.then((function(e){return new VA(n.firestore,new iA(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=LA(n),a=MA(n,(function(t){return new VA(e.firestore,new iA(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return hA(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(NA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),zA=function(){function e(t,n){ur(this,e),this._firestore=t,this._delegate=n}return lr(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new FA(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),VA=function(){function e(t,n){ur(this,e),this._firestore=t,this._delegate=n}return lr(e,[{key:"query",get:function(){return new UA(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new FA(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new zA(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new FA(n._firestore,r))}))}},{key:"isEqual",value:function(e){return oA(this._delegate,e._delegate)}}]),e}(),BA=function(e){pr(n,e);var t=gr(n);function n(e,r){var i;return ur(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return lr(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new RA(this.firestore,e):null}},{key:"doc",value:function(e){try{return new RA(this.firestore,void 0===e?UC(this._delegate):UC(this._delegate,e))}catch(t){throw DA(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=AC(e.firestore,WC),r=UC(e),i=ZO(e.converter,t);return pA(n,[fO(lO(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,jw.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new RA(t.firestore,e)}))}},{key:"isEqual",value:function(e){return zC(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(NA.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(UA);function qA(e){return AC(e,LC)}var HA=function(){function e(){ur(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=br(tO,n)}return lr(e,[{key:"isEqual",value:function(e){return(e=Jr(e))instanceof tO&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(dg.keyField().canonicalString())}}]),e}(),WA=function(){function e(t){ur(this,e),this._delegate=t}return lr(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new pO("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new hO("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=kA.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=wA.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new yO("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),KA={Firestore:CA,GeoPoint:rO,Timestamp:ug,Blob:EA,Transaction:AA,WriteBatch:PA,DocumentReference:RA,DocumentSnapshot:jA,Query:UA,QueryDocumentSnapshot:FA,QuerySnapshot:VA,CollectionReference:BA,FieldPath:HA,FieldValue:WA,setLogLevel:function(e){!function(e){jy.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ti("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},KA)))}(e,(function(e,t){return new CA(e,t,new IA)})),e.registerVersion("@firebase/firestore-compat","0.3.8")}(Sa);var GA,QA="firebasestorage.googleapis.com",$A=function(e){pr(n,e);var t=gr(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ur(this,n),(i=t.call(this,XA(e),"Firebase Storage: ".concat(r," (").concat(XA(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(hr(i),n.prototype),i}return lr(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return XA(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Fr);function XA(e){return"storage/"+e}function YA(){return new $A(GA.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function JA(){return new $A(GA.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZA(){return new $A(GA.CANCELED,"User canceled the upload/download.")}function eP(){return new $A(GA.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tP(e){return new $A(GA.INVALID_ARGUMENT,e)}function nP(){return new $A(GA.APP_DELETED,"The Firebase app was deleted.")}function rP(e){return new $A(GA.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function iP(e,t){return new $A(GA.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function aP(e){throw new $A(GA.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(GA||(GA={}));var oP,sP=function(){function e(t,n){ur(this,e),this.bucket=t,this.path_=n}return lr(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new $A(GA.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===QA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new $A(GA.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),uP=function(){function e(t){ur(this,e),this.promise_=Promise.reject(t)}return lr(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function cP(e){return"string"===typeof e||e instanceof String}function lP(e){return fP()&&e instanceof Blob}function fP(){return"undefined"!==typeof Blob&&!Rr()}function hP(e,t,n,r){if(r<t)throw tP("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw tP("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function dP(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function pP(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function vP(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(oP||(oP={}));var mP=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];ur(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return lr(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=YA();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?nP():ZA());else i(JA())}};this.canceled_?t(0,new yP(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new yP(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===oP.NO_ERROR,a=r.getStatus();if(!n||vP(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===oP.ABORT;t(!1,new yP(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new yP(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),yP=lr((function e(t,n,r){ur(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function gP(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function bP(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function kP(e,t){t&&(e["X-Firebase-GMPID"]=t)}function wP(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function xP(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=pP(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return kP(c,t),gP(c,n),bP(c,a),wP(c,r),new mP(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function _P(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function SP(){for(var e=_P(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(fP())return new Blob(n);throw new $A(GA.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function EP(e){if("undefined"===typeof atob)throw t="base-64",new $A(GA.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var TP={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},IP=lr((function e(t,n){ur(this,e),this.data=t,this.contentType=n||null}));function CP(e,t){switch(e){case TP.RAW:return new IP(OP(t));case TP.BASE64:case TP.BASE64URL:return new IP(AP(e,t));case TP.DATA_URL:return new IP(function(e){var t=new PP(e);return t.base64?AP(TP.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw iP(TP.DATA_URL,"Malformed data URL.")}return OP(t)}(t.rest)}(t),new PP(t).contentType)}throw YA()}function OP(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function AP(e,t){switch(e){case TP.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw iP(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case TP.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw iP(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=EP(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw iP(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var PP=lr((function e(t){ur(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw iP(TP.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var NP=function(){function e(t,n){ur(this,e);var r=0,i="";lP(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return lr(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(lP(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(fP()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(SP.apply(null,i))}var a=n.map((function(e){return cP(e)?CP(TP.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function RP(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function DP(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function LP(e,t){return t}var MP=lr((function e(t,n,r,i){ur(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||LP})),jP=null;function FP(){if(jP)return jP;var e=[];e.push(new MP("bucket")),e.push(new MP("generation")),e.push(new MP("metageneration")),e.push(new MP("name","fullPath",!0));var t=new MP("name");t.xform=function(e,t){return function(e){return!cP(e)||e.length<2?e:DP(e)}(t)},e.push(t);var n=new MP("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new MP("timeCreated")),e.push(new MP("updated")),e.push(new MP("md5Hash",null,!0)),e.push(new MP("cacheControl",null,!0)),e.push(new MP("contentDisposition",null,!0)),e.push(new MP("contentEncoding",null,!0)),e.push(new MP("contentLanguage",null,!0)),e.push(new MP("contentType",null,!0)),e.push(new MP("metadata","customMetadata",!0)),jP=e}function UP(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new sP(n,r);return t._makeStorageReference(i)}})}(r,e),r}function zP(e,t,n){var r=RP(t);return null===r?null:UP(e,r,n)}function VP(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function BP(e,t,n){var r=RP(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=fr(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new sP(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var u,c=fr(n.items);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new sP(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var qP=lr((function e(t,n,r,i){ur(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function HP(e){if(!e)throw YA()}function WP(e,t){return function(n,r){var i=zP(e,r,t);return HP(null!==i),i}}function KP(e,t){return function(n,r){var i=zP(e,r,t);return HP(null!==i),function(e,t,n,r){var i=RP(t);if(null===i)return null;if(!cP(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return dP("/b/"+o(i)+"/o/"+o(a),n,r)+pP({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function GP(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new $A(GA.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new $A(GA.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new $A(GA.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new $A(GA.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function QP(e){var t=GP(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new $A(GA.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function $P(e,t,n){var r=dP(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new qP(r,"GET",WP(e,n),i);return a.errorHandler=QP(t),a}function XP(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=dP(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new qP(o,"GET",function(e,t){return function(n,r){var i=BP(e,t,r);return HP(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=GP(t),u}function YP(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function JP(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=YP(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+VP(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=NP.getBlob(c,r,l);if(null===f)throw eP();var h={name:u.fullPath},d=dP(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new qP(d,"POST",WP(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=GP(t),v}var ZP=lr((function e(t,n,r,i){ur(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function eN(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){HP(!1)}return HP(!!n&&-1!==(t||["active"]).indexOf(n)),n}var tN=262144;function nN(e,t,n,r,i,a,o,s){var u=new ZP(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new $A(GA.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw eP();var v=t.maxUploadRetryTime,m=new qP(n,"POST",(function(e,n){var i,o=eN(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?WP(t,a)(e,n):null,new ZP(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=GP(e),m}var rN={STATE_CHANGED:"state_changed"},iN={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function aN(e){switch(e){case"running":case"pausing":case"canceling":return iN.RUNNING;case"paused":return iN.PAUSED;case"success":return iN.SUCCESS;case"canceled":return iN.CANCELED;default:return iN.ERROR}}var oN=lr((function e(t,n,r){ur(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function sN(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var uN=function(){function e(){var t=this;ur(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=oP.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=oP.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=oP.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return lr(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw aP("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw aP("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw aP("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw aP("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw aP("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),cN=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(uN);function lN(){return new cN}var fN=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ur(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=FP(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(GA.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(vP(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=JA()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(GA.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return lr(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=Nt(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=YP(t,r,i),s={name:o.fullPath},u=dP(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=VP(o,n),f=e.maxUploadRetryTime,h=new qP(u,"POST",(function(e){var t;eN(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){HP(!1)}return HP(cP(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=GP(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,lN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new qP(n,"POST",(function(e){var t=eN(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){HP(!1)}n||HP(!1);var i=Number(n);return HP(!isNaN(i)),new ZP(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=GP(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,lN,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=tN*this._chunkMultiplier,n=new ZP(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=nN(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,lN,i,a,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(tN*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=$P(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,lN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=JP(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,lN,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=ZA(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=aN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new oN(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(aN(this._state)){case iN.SUCCESS:sN(this._resolve.bind(null,this.snapshot))();break;case iN.CANCELED:case iN.ERROR:sN(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(aN(this._state)){case iN.RUNNING:case iN.PAUSED:e.next&&sN(e.next.bind(e,this.snapshot))();break;case iN.SUCCESS:e.complete&&sN(e.complete.bind(e))();break;default:e.error&&sN(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),hN=function(){function e(t,n){ur(this,e),this._service=t,this._location=n instanceof sP?n:sP.makeFromUrl(n,t.host)}return lr(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new sP(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return DP(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new sP(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw rP(e)}}]),e}();function dN(e,t,n){return pN.apply(this,arguments)}function pN(){return(pN=It(Et().mark((function e(t,n,r){var i,a,o,s;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,vN(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,ei(s.prefixes)),(a=n.items).push.apply(a,ei(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,dN(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vN(e,t){null!=t&&"number"===typeof t.maxResults&&hP("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=XP(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,lN)}function mN(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=dP(t.fullServerUrl(),e.host,e._protocol),a=VP(n,r),o=e.maxOperationRetryTime,s=new qP(i,"PATCH",WP(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=QP(t),s}(e.storage,e._location,t,FP());return e.storage.makeRequestWithTokens(n,lN)}function yN(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=dP(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new qP(r,"GET",KP(e,n),i);return a.errorHandler=QP(t),a}(e.storage,e._location,FP());return e.storage.makeRequestWithTokens(t,lN).then((function(e){if(null===e)throw new $A(GA.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function gN(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=dP(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new qP(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=QP(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,lN)}function bN(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new sP(e._location.bucket,n);return new hN(e.storage,r)}function kN(e,t){if(e instanceof SN){var n=e;if(null==n._bucket)throw new $A(GA.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new hN(n,n._bucket);return null!=t?kN(r,t):r}return void 0!==t?bN(e,t):e}function wN(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof SN)return new hN(e,t);throw tP("To use ref(service, url), the first argument must be a Storage instance.")}return kN(e,t)}function xN(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:sP.makeFromBucketSpec(n,e)}function _N(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Pr(i,e.app.options.projectId))}var SN=function(){function e(t,n,r,i,a){ur(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=QA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?sP.makeFromBucketSpec(i,this._host):xN(this._host,this.app.options)}return lr(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=sP.makeFromBucketSpec(this._url,e):this._bucket=xN(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){hP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){hP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=It(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=It(Et().mark((function e(){var t,n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new hN(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new uP(nP());var o=xP(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=It(Et().mark((function e(t,n){var r,i,a,o;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=Nt(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),EN="@firebase/storage",TN="0.11.2",IN="storage";function CN(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new fN(e,new NP(t),n)}(e=Jr(e),t,n)}function ON(e){return function(e){e._throwIfRoot("getMetadata");var t=$P(e.storage,e._location,FP());return e.storage.makeRequestWithTokens(t,lN)}(e=Jr(e))}function AN(e){return function(e){var t={prefixes:[],items:[]};return dN(e,t).then((function(){return t}))}(e=Jr(e))}function PN(e,t){return wN(e=Jr(e),t)}function NN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};_N(e,t,n,r)}function RN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new SN(r,i,a,n,Qi)}Vi(new ti(IN,RN,"PUBLIC").setMultipleInstances(!0)),ea(EN,TN,""),ea(EN,TN,"esm2017");var DN=function(){function e(t,n,r){ur(this,e),this._delegate=t,this.task=n,this.ref=r}return lr(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),LN=function(){function e(t,n){ur(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return lr(e,[{key:"snapshot",get:function(){return new DN(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new DN(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new DN(e,i,i._ref))}:{next:t.next?function(e){return t.next(new DN(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),MN=function(){function e(t,n){ur(this,e),this._delegate=t,this._service=n}return lr(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new jN(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new jN(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),jN=function(){function e(t,n){ur(this,e),this._delegate=t,this.storage=n}return lr(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return bN(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new LN(CN(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TP.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=CP(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new LN(new fN(this._delegate,new NP(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return AN(this._delegate).then((function(t){return new MN(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return vN(e=Jr(e),t)}(this._delegate,e||void 0).then((function(e){return new MN(e,t.storage)}))}},{key:"getMetadata",value:function(){return ON(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return mN(e=Jr(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return yN(Jr(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),gN(Jr(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw rP(e)}}]),e}(),FN=function(){function e(t,n){ur(this,e),this.app=t,this._delegate=n}return lr(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(UN(e))throw tP("ref() expected a child path but got a URL, use refFromURL instead.");return new jN(PN(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!UN(e))throw tP("refFromURL() expected a full URL but got a child path, use ref() instead.");try{sP.makeFromUrl(e,this._delegate.host)}catch(t){throw tP("refFromUrl() expected a valid full URL but got an invalid one.")}return new jN(PN(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};NN(this._delegate,e,t,n)}}]),e}();function UN(e){return/^[A-Za-z]+:\/\//.test(e)}function zN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new FN(r,i)}!function(e){var t={TaskState:iN,TaskEvent:rN,StringFormat:TP,Storage:FN,Reference:jN};e.INTERNAL.registerComponent(new ti("storage-compat",zN,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.2")}(Sa);var VN,BN=Sa.initializeApp({apiKey:"AIzaSyAtgrfVQvrFgRUcNwmNCf6YNr0MbOyKLus",authDomain:"disneyalbaceo.firebaseapp.com",databaseURL:"https://disneyalbaceo-default-rtdb.firebaseio.com",projectId:"disneyalbaceo",storageBucket:"disneyalbaceo.appspot.com",messagingSenderId:"1043535163741",appId:"1:1043535163741:web:58379ed8d086795daa78b4",measurementId:"G-YNM449SVGN"}).firestore(),qN=Sa.auth(),HN=new Sa.auth.GoogleAuthProvider,WN=(Sa.storage(),BN);function KN(){return KN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KN.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(VN||(VN={}));var GN,QN="popstate";function $N(e){return{usr:e.state,key:e.key}}function XN(e,t,n,r){return void 0===n&&(n=null),KN({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?JN(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function YN(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function JN(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ZN(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=VN.Pop,f=null;function h(){l=VN.Pop,f&&f({action:l,location:d.location})}var d={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(QN,h),f=e,function(){o.removeEventListener(QN,h),f=null}},createHref:function(e){return t(o,e)},push:function(e,t){l=VN.Push;var r=XN(d.location,e,t);n&&n(r,e);var i=$N(r),a=d.createHref(r);try{c.pushState(i,"",a)}catch(s){o.location.assign(a)}u&&f&&f({action:l,location:r})},replace:function(e,t){l=VN.Replace;var r=XN(d.location,e,t);n&&n(r,e);var i=$N(r),a=d.createHref(r);c.replaceState(i,"",a),u&&f&&f({action:l,location:r})},go:function(e){return c.go(e)}};return d}function eR(e,t,n){void 0===n&&(n="/");var r=sR(("string"===typeof t?JN(t):t).pathname||"/",n);if(null==r)return null;var i=tR(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=aR(i[o],r);return a}function tR(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(uR(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=fR([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(uR(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),tR(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:iR(o,e.index),routesMeta:s})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(GN||(GN={}));var nR=/^:\w+$/,rR=function(e){return"*"===e};function iR(e,t){var n=e.split("/"),r=n.length;return n.some(rR)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!rR(e)})).reduce((function(e,t){return e+(nR.test(t)?3:""===t?1:10)}),r)}function aR(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=oR({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:fR([i,l.pathname]),pathnameBase:hR(fR([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=fR([i,l.pathnameBase]))}return a}function oR(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);cR("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[@.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=Nt(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return cR(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function sR(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function uR(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function cR(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function lR(e,t,n,r){void 0===r&&(r=!1);var i,a="string"===typeof e?JN(e):KN({},e),o=""===e||""===a.pathname,s=o?"/":a.pathname;if(r||null==s)i=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;a.pathname=c.join("/")}i=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?JN(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:dR(a),hash:pR(s)}}(a,i),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var fR=function(e){return e.join("/").replace(/\/\/+/g,"/")},hR=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},dR=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},pR=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},vR=function(e){pr(n,e);var t=gr(n);function n(){return ur(this,n),t.apply(this,arguments)}return lr(n)}(kr(Error));var mR=lr((function e(t,n,r){ur(this,e),this.status=t,this.statusText=n||"",this.data=r}));function yR(e){return e instanceof mR}function gR(){return gR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gR.apply(this,arguments)}var bR="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},kR=t.useState,wR=t.useEffect,xR=t.useLayoutEffect,_R=t.useDebugValue;function SR(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!bR(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var ER=t.createContext(null);var TR=t.createContext(null);var IR=t.createContext(null);var CR=t.createContext(null);var OR=t.createContext(null);var AR=t.createContext(null);var PR=t.createContext({outlet:null,matches:[]});var NR=t.createContext(null);function RR(){return null!=t.useContext(AR)}function DR(){return RR()||uR(!1),t.useContext(AR).location}function LR(e){return e.filter((function(t,n){return 0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase}))}function MR(){RR()||uR(!1);var e=t.useContext(OR),n=e.basename,r=e.navigator,i=t.useContext(PR).matches,a=DR().pathname,o=JSON.stringify(LR(i).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);t.useEffect((function(){s.current=!0}));var u=t.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=lR(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:fR([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return u}function jR(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(PR).matches,a=DR().pathname,o=JSON.stringify(LR(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return lR(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function FR(){var e=function(){var e,n=t.useContext(NR),r=qR(UR.UseRouteError),i=t.useContext(PR),a=i.matches[i.matches.length-1];if(n)return n;return i||uR(!1),!a.route.id&&uR(!1),null==(e=r.errors)?void 0:e[a.route.id]}(),n=yR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:o},"errorElement")," props on\xa0",t.createElement("code",{style:o},"<Route>")))}var UR,zR=function(e){pr(r,e);var n=gr(r);function r(e){var t;return ur(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return lr(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(NR.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function VR(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(ER);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),t.createElement(PR.Provider,{value:n},i)}function BR(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||uR(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,c=r?o.route.errorElement||t.createElement(FR,null):null,l=function(){return t.createElement(VR,{match:o,routeContext:{outlet:e,matches:n.concat(i.slice(0,s+1))}},u?c:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===s)?t.createElement(zR,{location:r.location,component:c,error:u,children:l()}):l()}),null)}function qR(e){var n=t.useContext(IR);return n||uR(!1),n}!function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(UR||(UR={}));var HR;function WR(e){uR(!1)}function KR(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?VN.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;RR()&&uR(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=JN(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,b=p.hash,k=void 0===b?"":b,w=p.state,x=void 0===w?null:w,_=p.key,S=void 0===_?"default":_,E=t.useMemo((function(){var e=sR(m,h);return null==e?null:{pathname:e,search:g,hash:k,state:x,key:S}}),[h,m,g,k,x,S]);return null==E?null:t.createElement(OR.Provider,{value:d},t.createElement(AR.Provider,{children:a,value:{location:E,navigationType:u}}))}function GR(e){var n=e.children,r=e.location,i=t.useContext(TR);return function(e,n){RR()||uR(!1);var r,i=t.useContext(IR),a=t.useContext(PR).matches,o=a[a.length-1],s=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/"),c=(o&&o.route,DR());if(n){var l,f="string"===typeof n?JN(n):n;"/"===u||(null==(l=f.pathname)?void 0:l.startsWith(u))||uR(!1),r=f}else r=c;var h=r.pathname||"/",d=eR(e,{pathname:"/"===u?h:h.slice(u.length)||"/"}),p=BR(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:fR([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:fR([u,e.pathnameBase])})})),a,i||void 0);return n?t.createElement(AR.Provider,{value:{location:gR({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:VN.Pop}},p):p}(i&&!n?i.router.routes:$R(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(HR||(HR={}));var QR=new Promise((function(){}));t.Component;function $R(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==WR&&uR(!1);var a=[].concat(ei(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=$R(e.props.children,a)),r.push(o)}else r.push.apply(r,$R(e.props.children,n))})),r}function XR(){return XR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XR.apply(this,arguments)}function YR(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var JR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],ZR=["aria-current","caseSensitive","className","end","style","to","children"];function eD(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),ZN((function(e,t){var n=e.location;return XN("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:YN(t)}),null,n)));var s=o.current,u=Nt(t.useState({action:s.action,location:s.location}),2),c=u[0],l=u[1];return t.useLayoutEffect((function(){return s.listen(l)}),[s]),t.createElement(KR,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:s})}var tD=t.forwardRef((function(e,n){var r=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,s=e.state,u=e.target,c=e.to,l=e.preventScrollReset,f=YR(e,JR),h=function(e,n){var r=(void 0===n?{}:n).relative;RR()||uR(!1);var i=t.useContext(OR),a=i.basename,o=i.navigator,s=jR(e,{relative:r}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:fR([a,c])),o.createHref({pathname:f,search:l,hash:u})}(c,{relative:i}),d=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=MR(),l=DR(),f=jR(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:YN(l)===YN(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(c,{replace:o,state:s,target:u,preventScrollReset:l,relative:i});return t.createElement("a",XR({},f,{href:h,onClick:a?r:function(e){r&&r(e),e.defaultPrevented||d(e)},ref:n,target:u}))}));var nD=t.forwardRef((function(e,n){var r,i=e["aria-current"],a=void 0===i?"page":i,o=e.caseSensitive,s=void 0!==o&&o,u=e.className,c=void 0===u?"":u,l=e.end,f=void 0!==l&&l,h=e.style,d=e.to,p=e.children,v=YR(e,ZR),m=jR(d),y=function(e){RR()||uR(!1);var n=DR().pathname;return t.useMemo((function(){return oR(e,n)}),[n,e])}({path:m.pathname,end:f,caseSensitive:s}),g=t.useContext(IR),b=null==g?void 0:g.navigation.location,k=jR(b||""),w=null!=t.useMemo((function(){return b?oR({path:m.pathname,end:f,caseSensitive:s},k.pathname):null}),[b,m.pathname,s,f,k.pathname]),x=null!=y,_=x?a:void 0;r="function"===typeof c?c({isActive:x,isPending:w}):[c,x?"active":null,w?"pending":null].filter(Boolean).join(" ");var S="function"===typeof h?h({isActive:x,isPending:w}):h;return t.createElement(tD,XR({},v,{"aria-current":_,className:r,ref:n,style:S,to:d}),"function"===typeof p?p({isActive:x,isPending:w}):p)}));var rD,iD,aD,oD,sD,uD,cD,lD=n(184);var fD,hD=function(){var e=m(kt),n=m(wt),r=Nt((0,t.useState)(!1),2),i=r[0],a=r[1],o=MR(),s=I();return(0,t.useEffect)((function(){qN.onAuthStateChanged(function(){var e=It(Et().mark((function e(t){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(s(gt({name:t.displayName,email:t.email,photo:t.photoURL})),o("/home"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),(0,lD.jsxs)(dD,{children:[(0,lD.jsx)(pD,{children:(0,lD.jsx)(nD,{to:"/",children:(0,lD.jsx)("img",{src:"/images/logo.svg",alt:""})})}),e?(0,lD.jsxs)(lD.Fragment,{children:[(0,lD.jsxs)(vD,{children:[(0,lD.jsx)("li",{children:(0,lD.jsxs)(nD,{to:"/",className:"nav-link",children:[(0,lD.jsx)("img",{src:"/images/home-icon.svg"}),(0,lD.jsx)("span",{children:"HOME"})]})}),(0,lD.jsx)("li",{children:(0,lD.jsxs)(nD,{to:"",className:"nav-link",children:[(0,lD.jsx)("img",{src:"/images/search-icon.svg"}),(0,lD.jsx)("span",{children:"SEARCH"})]})}),(0,lD.jsx)("li",{children:(0,lD.jsxs)(nD,{to:"",className:"nav-link",children:[(0,lD.jsx)("img",{src:"/images/watchlist-icon.svg"}),(0,lD.jsx)("span",{children:"WATCHLIST"})]})}),(0,lD.jsx)("li",{children:(0,lD.jsxs)(nD,{to:"",className:"nav-link",children:[(0,lD.jsx)("img",{src:"/images/original-icon.svg"}),(0,lD.jsx)("span",{children:"ORIGINALS"})]})}),(0,lD.jsx)("li",{children:(0,lD.jsxs)(nD,{to:"",className:"nav-link",children:[(0,lD.jsx)("img",{src:"/images/movie-icon.svg"}),(0,lD.jsx)("span",{children:"MOVIES"})]})}),(0,lD.jsx)("li",{children:(0,lD.jsxs)(nD,{to:"",className:"nav-link",children:[(0,lD.jsx)("img",{src:"/images/series-icon.svg"}),(0,lD.jsx)("span",{children:"SERIES"})]})})]}),(0,lD.jsx)(gD,{onClick:function(){a((function(e){return!e}))},children:(0,lD.jsx)("img",{src:n,alt:""})})]}):(0,lD.jsx)(yD,{children:(0,lD.jsx)(mD,{onClick:function(){qN.signInWithPopup(HN).then((function(e){var t=e.user;s(gt({name:t.displayName,email:t.email,photo:t.photoURL}))}))},children:"Log in"})}),(0,lD.jsxs)(bD,{show:i,children:[(0,lD.jsx)("li",{children:(0,lD.jsxs)(nD,{to:"/",className:"nav-link",onClick:function(){return a(!1)},children:[(0,lD.jsx)("img",{src:"/images/home-icon.svg"}),(0,lD.jsx)("span",{children:"HOME"})]})}),(0,lD.jsx)("li",{children:(0,lD.jsxs)(nD,{to:"",className:"nav-link",onClick:function(){qN.signOut().then((function(){s(bt()),o("/login")})),a(!1)},children:[(0,lD.jsx)("img",{src:"/images/image/shutdown.svg",style:{width:"1rem",height:"1rem"}}),(0,lD.jsx)("span",{children:"Sign Out"})]})})]})]})},dD=sr.nav(rD||(rD=_t(["\n  position: fixed;\n  top: 0;\n  z-index: 9999;\n  height: 11vh;\n  width: 100vw;\n  min-width: 280px;\n  background-color: #090b13;\n  // background-color: darkred;\n  justify-content: space-between;\n  display: flex;\n\n  align-items: center;\n  padding: 0.25rem 2rem;\n  // padding-top: 0.3rem;\n"]))),pD=sr.div(iD||(iD=_t(["\n  width: 105px;\n\n  @media screen and (max-width: 320px) {\n    // margin-right: 30%;\n    margin-left: -4vw;\n  }\n  height: 100%;\n  object-position: center;\n  padding-top: 0.4vh;\n  // padding-bottom: 1vh;\n  img {\n    // min-width: 101px;\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n"]))),vD=sr.div(aD||(aD=_t(['\n  @media screen and (max-width: 991px) {\n    display: none;\n  }\n  display: flex;\n  align-items: center;\n  flex-shrink: 0;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  margin-right: auto;\n  margin-left: 3rem;\n  li {\n    list-style: none;\n    > .nav-link {\n      display: flex;\n      align-items: center;\n      text-decoration: none;\n      position: relative;\n      img {\n        width: 1.3rem;\n        height: 1.3rem;\n        object-fit: contain;\n      }\n      span {\n        color: #fff;\n        font-size: 1rem;\n        font-weight: 300;\n        letter-spacing: 1px;\n        line-height: 1.08;\n        padding: 0.5rem;\n        margin-top: 5px;\n        position: relative;\n\n        ::after {\n          content: "";\n          height: 2px;\n          background-color: #f9f9f9;\n          position: absolute;\n          top: 100%;\n          right: 0;\n          left: 0;\n          transform-origin: left center;\n          transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94);\n          transform: scaleX(0);\n          opacity: 0;\n        }\n      }\n    }\n    :hover {\n      span::after {\n        transform: scaleX(1);\n        opacity: 1;\n      }\n    }\n  }\n']))),mD=sr.div(oD||(oD=_t(["\n  border: 1px solid #f9f9f9;\n  font-size: 1.2rem;\n  padding: 6px 16px;\n  border-radius: 4px;\n  letter-spacing: 1.5px;\n  text-transform: uppercase;\n  background-color: rgba(0, 0, 0, 0.6);\n  transition: all 0.2s ease 0s;\n  @media screen and (max-width: 550px) {\n    font-size: 0.8rem;\n    padding: 4px 13px;\n  }\n  cursor: pointer;\n  :hover {\n    background-color: #f9f9f9;\n    color: #000;\n    border-color: transparent;\n  }\n"]))),yD=sr.div(sD||(sD=_t(["\n  flex: 1;\n  display: flex;\n  justify-content: flex-end;\n"]))),gD=sr.div(uD||(uD=_t(["\n  // @media screen and (max-width: 320px) {\n  //   margin-right: -1vh;\n  // }\n  height: 54px;\n  width: 54px;\n  object-position: center;\n  position: relative;\n  img {\n    position: absolute;\n    top: 0px;\n    height: 100%;\n    width: 100%;\n    object-fit: cover;\n    border-radius: 100%;\n    cursor: pointer;\n  }\n"]))),bD=sr.div(cD||(cD=_t(["\n  position: absolute;\n  top: 8vh;\n  right: 4.5rem;\n  padding: 0.5rem 0.5rem;\n  padding-top: 0rem;\n  background-color: #040714;\n  border-radius: 0.345rem;\n  border: 1.3px solid rgba(151, 151, 151, 1);\n  box-shadow: rgba(0 0 0 /50%) 0px 0px 18px 0px;\n  display: ",";\n  justify-content: flex-start;\n  align-items: flex-start;\n  flex-direction: column;\n  li {\n    display: flex;\n    justify-content: flex-start;\n    align-items: flex-start;\n    border-bottom: 1.3px solid rgba(151, 151, 151, 1);\n    list-style: none;\n    > .nav-link {\n      display: flex;\n      align-items: center;\n      text-decoration: none;\n      position: relative;\n      img {\n        width: 1.3rem;\n        height: 1.3rem;\n        object-fit: contain;\n      }\n      span {\n        color: #fff;\n        font-size: 1rem;\n        font-weight: 300;\n        letter-spacing: 1px;\n        line-height: 1.08;\n        padding: 0.5rem;\n        margin-top: 5px;\n        position: relative;\n      }\n    }\n  }\n"])),(function(e){return e.show?"flex":"none"})),kD=n(717),wD=new Uint8Array(16);function xD(){if(!fD&&!(fD="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fD(wD)}var _D=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var SD=function(e){return"string"===typeof e&&_D.test(e)},ED=[],TD=0;TD<256;++TD)ED.push((TD+256).toString(16).substr(1));var ID=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ED[e[t+0]]+ED[e[t+1]]+ED[e[t+2]]+ED[e[t+3]]+"-"+ED[e[t+4]]+ED[e[t+5]]+"-"+ED[e[t+6]]+ED[e[t+7]]+"-"+ED[e[t+8]]+ED[e[t+9]]+"-"+ED[e[t+10]]+ED[e[t+11]]+ED[e[t+12]]+ED[e[t+13]]+ED[e[t+14]]+ED[e[t+15]]).toLowerCase();if(!SD(n))throw TypeError("Stringified UUID is invalid");return n};var CD,OD,AD=function(e,t,n){var r=(e=e||{}).random||(e.rng||xD)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return ID(r)},PD=[{src:"/images/image/TV.png",title:"TV"},{src:"/images/image/Laptop.png",title:"Laptop"},{src:"/images/image/mobile.png",title:"Mobile"},{src:"/images/image/XBOX.png",title:"XBOX"}],ND=[{src:"/images/image/Disney_MLP_GridItem_TS4_AUNZ.jpg"},{src:"/images/image/ForkyAsksAQuestion_en-US.jpg"},{src:"/images/image/moana-poster-4-2.png"},{src:"/images/image/Poster_InfinityWar_EN.jpg"},{src:"/images/image/Disney_MLP_GridItem_SWRiseofSkywalker.jpg"},{src:"/images/image/Soul_EN_(1).png"},{src:"/images/image/LUCA-2.png"},{src:"/images/image/SW_Clone_Wars.png"},{src:"/images/image/Mickey_Mouse_Clubhouse_Grid_Item_052820.jpg"}],RD=[{imgsrc:"/images/viewers-disney.png",videosrc:"/videos/video/1564674844-disney.mp4"},{imgsrc:"/images/viewers-pixar.png",videosrc:"/videos/video/1564676714-pixar.mp4"},{imgsrc:"/images/viewers-marvel.png",videosrc:"/videos/video/1564676115-marvel.mp4"},{imgsrc:"/images/viewers-starwars.png",videosrc:"/videos/video/1608229455-star-wars.mp4"},{imgsrc:"/images/viewers-national.png",videosrc:"/videos/video/1564676296-national-geographic.mp4"},{imgsrc:"./images/image/DSNY_STAR_LOGO_LIGHT_RGB.png",videosrc:"/videos/video/star_on_disney2021.mp4"}],DD=[{src:"/images/slider-badging.jpg"},{src:"/images/slider-badag.jpg"},{src:"/images/slider-scale.jpg"},{src:"/images/slider-scales.jpg"},{src:"/images/image/slide1.jpg"},{src:"/images/image/slide2.jpg"},{src:"/images/image/slide3.jpg"},{src:"/images/image/slide4.jpg"},{src:"/images/image/slide5.jpg"},{src:"/images/image/slide6.jpg"},{src:"/images/image/slide7.jpg"}];var LD,MD,jD,FD=function(){var e=Nt((0,t.useState)(DD),1)[0];return(0,lD.jsx)(UD,Pe(Pe({},{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0}),{},{children:e.map((function(e){return(0,lD.jsx)(zD,{children:(0,lD.jsx)("img",{src:e.src,alt:""})},AD())}))}))},UD=sr(kD.Z)(CD||(CD=_t(["\nmargin-top:11vh;\n.slick-slide{\n  padding: 2vh 2vh;\n  // height:40vh;\n  // @media screen and (min-width: 375px) and (max-width: 550px) {\n  //   height: 35vh;\n  // }\n  // @media screen and (min-width: 280px) and (max-width: 374px) {\n  //   height: 30vh;\n  // }\n}\n   .slick-list{\n      border-radius:10px;\n      background-color: #040714;\n    }\nul li button{\n    ::before{\n        font-size:10px;\n        color:rgb(150,158,171) !important;\n        @media screen and (max-width: 365px) {\n           display:none;\n        }\n\n    }\n}\nli.slick-active button:before{\n        color:white !important;\n    }\n}\n> button{\n    z-index:1400;\n    opacity:1;\n}\n .slick-prev{\n   left:2%;\n }\n .slick-next{\n   right:2%;\n }\n .slick-next:before,\n .slick-prev:before {\n   color: white;\n }\n\n\n\n"]))),zD=sr.div(OD||(OD=_t(["\n  padding: 0px;\n  height: 40vh;\n  @media screen and (min-width: 375px) and (max-width: 550px) {\n    height: 35vh;\n  }\n  @media screen and (min-width: 280px) and (max-width: 374px) {\n    height: 30vh;\n  }\n  cursor: pointer;\n  object-position: center;\n  img {\n    object-fit: fill;\n    border: 4px solid rgba(249, 249, 249, 0.1);\n    border-radius: 10px;\n    width: 100%;\n    height: 100%;\n    box-shadow: rgba(0 0 0 /69%) 0px 26px 30px,\n      rgba(0 0 0 /73%) 0px 16px 10px -10px;\n    :hover {\n      border: 4px solid rgba(249, 249, 249, 0.8);\n    }\n  }\n"])));var VD,BD,qD=function(){var e=m(dt);return(0,lD.jsxs)(HD,{children:[e.length?(0,lD.jsx)("h1",{children:"Originals"}):null,(0,lD.jsx)(WD,Pe(Pe({},{dots:!1,infinite:!0,speed:500,slidesToShow:5,slidesToScroll:1,autoplay:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:4}},{breakpoint:991,settings:{slidesToShow:3}},{breakpoint:767,settings:{slidesToShow:2}},{breakpoint:425,settings:{slidesToShow:1}}]}),{},{children:e&&e.map((function(e){return(0,lD.jsx)(KD,{children:(0,lD.jsx)(nD,{to:"/detail/".concat(e.id),children:(0,lD.jsx)("img",{src:e.CardImg})})},AD())}))}))]})},HD=sr.div(LD||(LD=_t(["\n  padding: 0.5rem 0;\n  h1 {\n    font-size: 1.7rem;\n    text-transform: uppercase;\n    font-wieght: 300 !important;\n    text-shadow: 0.1rem 0.1rem 0.1rem rgba(255, 255, 255, 0.1);\n    margin: 2vh 0 1vh 2rem;\n    @media screen and (max-width: 991px) {\n      font-size: 1.5rem;\n    }\n    @media screen and (max-width: 550px) {\n      font-size: 1.3rem;\n    }\n  }\n"]))),WD=sr(kD.Z)(MD||(MD=_t(["\n.slick-slide{\n  height: auto;\n  padding:2vh 2vh;\n}\n  .slick-list{\n       background-color: #040714;\n      border-radius:10px;\n    }\n ul li button{\n     ::before{\n         font-size:10px;\n        color:rgb(150,158,171) !important;\n     }\n }\n li.slick-active button:before{\n       color:white !important;\n    }\n}\n > button{\n     z-index:1400;\n     opacity:1;\n }\n .slick-prev{\n   left:2%;\n }\n .slick-next{\n   right:2%;\n }\n "]))),KD=sr.div(jD||(jD=_t(["\n  // padding: 3px;\n  // height: 10%;\n  cursor: pointer;\n  border-radius: 10px;\n  border: 3px solid rgba(249, 249, 249, 0.1);\n  box-shadow: 0px 26px 30px -10px rgba(0 0 0 /69%),\n    0px 16px 10px -10px rgba(0 0 0 /73%);\n  transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;\n  img {\n    position: absolute;\n    width: 100%;\n    height: 20vh;\n    object-fit: fill;\n    opacity: 1;\n    z-index: 1400;\n    position: relative;\n    @media screen and (max-width: 991px) {\n      height: auto;\n      object-fit: cover;\n    }\n  }\n  &:hover {\n    padding: 0;\n    opacity: 1;\n    z-index: 2000;\n    position: relative;\n    box-shadow: 0px 40px 58px -16px rgba(0 0 0 /80%),\n      0px 30px 22px -10px rgba(0 0 0 /72%);\n    transform: scale(1.05);\n    border-color: rgba(249, 249, 249, 0.8);\n  }\n"])));var GD,QD,$D,XD=function(){var e=Nt((0,t.useState)(RD),1)[0];return(0,lD.jsx)(YD,{children:e.map((function(e){return(0,lD.jsxs)(JD,{children:[(0,lD.jsx)("img",{src:e.imgsrc}),(0,lD.jsx)("video",{autoPlay:!0,loop:!0,playsInline:!0,muted:!0,children:(0,lD.jsx)("source",{src:e.videosrc,type:"video/mp4"})})]},AD())}))})},YD=sr.div(VD||(VD=_t(["\n  margin-top: 30px;\n  display: grid;\n  grid-template-columns: repeat(6, minmax(0, 1fr));\n  padding: 30px 0px 26px;\n  grid-gap: 25px;\n  @media screen and (min-width: 768px) and (max-width: 1200px) {\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n    grid-gap: 15px;\n  }\n  @media screen and (max-width: 767px) {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n    grid-gap: 11px;\n  }\n"]))),JD=sr.div(BD||(BD=_t(["\n  position: relative;\n  cursor: pointer;\n  border-radius: 10px;\n  border: 3px solid rgba(249, 249, 249, 0.1);\n  box-shadow: 0px 26px 30px -10px rgba(0 0 0 /69%),\n    0px 16px 10px -10px rgba(0 0 0 /73%);\n  transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;\n  object-position: center;\n  img {\n    opacity: 1;\n    z-index: 1400;\n    inset: 0px;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    border-radius: 10px;\n    transition: opacity 500ms ease-in-out 0s;\n    position: absolute;\n    top: 0;\n  }\n  video {\n    opacity: 0;\n    z-index: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    border-radius: 10px;\n  }\n  :hover {\n    box-shadow: 0px 40px 58px -16px rgba(0 0 0 /80%),\n      0px 30px 22px -10px rgba(0 0 0 /72%);\n    transform: scale(1.05);\n    border-color: rgba(249, 249, 249, 0.8);\n    video {\n      opacity: 1;\n      z-index: 2000;\n      position: absolute;\n      top: 0;\n    }\n  }\n"])));var ZD,eL,tL,nL=function(){var e=m(ft);return(0,lD.jsxs)(rL,{children:[e.length?(0,lD.jsx)("h1",{children:"New to Disney"}):null,(0,lD.jsx)(iL,Pe(Pe({},{dots:!1,infinite:!0,speed:500,slidesToShow:5,slidesToScroll:1,autoplay:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:4}},{breakpoint:991,settings:{slidesToShow:3}},{breakpoint:767,settings:{slidesToShow:2}},{breakpoint:425,settings:{slidesToShow:1}}]}),{},{children:e&&e.map((function(e){return(0,lD.jsx)(aL,{children:(0,lD.jsx)(nD,{to:"/detail/".concat(e.id),children:(0,lD.jsx)("img",{src:e.CardImg})})},AD())}))}))]})},rL=sr.div(GD||(GD=_t(["\n  padding: 0.5rem 0;\n  h1 {\n    font-size: 1.7rem;\n    text-transform: uppercase;\n    font-wieght: 300 !important;\n    text-shadow: 0.1rem 0.1rem 0.1rem rgba(255, 255, 255, 0.1);\n    margin: 2vh 0 1vh 2rem;\n    @media screen and (max-width: 991px) {\n      font-size: 1.5rem;\n    }\n    @media screen and (max-width: 550px) {\n      font-size: 1.3rem;\n    }\n  }\n"]))),iL=sr(kD.Z)(QD||(QD=_t(["\n.slick-slide{\n  height: auto;\n  padding:2vh 2vh;\n}\n  .slick-list{\n       background-color: #040714;\n      border-radius:10px;\n    }\n ul li button{\n     ::before{\n         font-size:10px;\n        color:rgb(150,158,171) !important;\n     }\n }\n li.slick-active button:before{\n       color:white !important;\n    }\n}\n > button{\n     z-index:1400;\n     opacity:1;\n }\n .slick-prev{\n   left:2%;\n }\n .slick-next{\n   right:2%;\n }\n "]))),aL=sr.div($D||($D=_t(["\n  padding: 3px;\n\n  overflow: hidden;\n  cursor: pointer;\n  border-radius: 10px;\n  border: 3px solid rgba(249, 249, 249, 0.1);\n  box-shadow: 0px 26px 30px -10px rgba(0 0 0 /69%),\n    0px 16px 10px -10px rgba(0 0 0 /73%);\n  transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;\n  img {\n    width: 100%;\n    height: 20vh;\n    object-fit: fill;\n    opacity: 1;\n    z-index: 1400;\n    position: relative;\n    @media screen and (max-width: 991px) {\n      height: auto;\n      object-fit: cover;\n    }\n  }\n  &:hover {\n    padding: 0;\n    opacity: 1;\n    z-index: 2000;\n    position: relative;\n    box-shadow: 0px 40px 58px -16px rgba(0 0 0 /80%),\n      0px 30px 22px -10px rgba(0 0 0 /72%);\n    transform: scale(1.05);\n    border-color: rgba(249, 249, 249, 0.8);\n  }\n"])));var oL,sL,uL,cL=function(){var e=m(pt);return(0,lD.jsxs)(lL,{children:[e.length?(0,lD.jsx)("h1",{children:"Trending"}):null,(0,lD.jsx)(fL,Pe(Pe({},{dots:!1,infinite:!0,speed:500,slidesToShow:5,slidesToScroll:1,autoplay:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:4}},{breakpoint:991,settings:{slidesToShow:3}},{breakpoint:767,settings:{slidesToShow:2}},{breakpoint:425,settings:{slidesToShow:1}}]}),{},{children:e&&e.map((function(e){return(0,lD.jsx)(hL,{children:(0,lD.jsx)(nD,{to:"/detail/".concat(e.id),children:(0,lD.jsx)("img",{src:e.CardImg})})},AD())}))}))]})},lL=sr.div(ZD||(ZD=_t(["\n  padding: 0.5rem 0;\n  h1 {\n    font-size: 1.7rem;\n    text-transform: uppercase;\n    font-wieght: 300 !important;\n    text-shadow: 0.1rem 0.1rem 0.1rem rgba(255, 255, 255, 0.1);\n    margin: 2vh 0 1vh 2rem;\n    @media screen and (max-width: 991px) {\n      font-size: 1.5rem;\n    }\n    @media screen and (max-width: 550px) {\n      font-size: 1.3rem;\n    }\n  }\n"]))),fL=sr(kD.Z)(eL||(eL=_t(["\n.slick-slide{\n  height: auto;\n  padding:2vh 2vh;\n}\n  .slick-list{\n       background-color: #040714;\n      border-radius:10px;\n    }\n ul li button{\n     ::before{\n         font-size:10px;\n        color:rgb(150,158,171) !important;\n     }\n }\n li.slick-active button:before{\n       color:white !important;\n    }\n}\n > button{\n     z-index:1400;\n     opacity:1;\n }\n .slick-prev{\n   left:2%;\n }\n .slick-next{\n   right:2%;\n }\n "]))),hL=sr.div(tL||(tL=_t(["\n  padding: 3px;\n\n  overflow: hidden;\n  cursor: pointer;\n  border-radius: 10px;\n  border: 3px solid rgba(249, 249, 249, 0.1);\n  box-shadow: 0px 26px 30px -10px rgba(0 0 0 /69%),\n    0px 16px 10px -10px rgba(0 0 0 /73%);\n  transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;\n  img {\n    width: 100%;\n    height: 20vh;\n    object-fit: fill;\n    opacity: 1;\n    z-index: 1400;\n    position: relative;\n    @media screen and (max-width: 991px) {\n      height: auto;\n      object-fit: cover;\n    }\n  }\n  &:hover {\n    padding: 0;\n    opacity: 1;\n    z-index: 2000;\n    position: relative;\n    box-shadow: 0px 40px 58px -16px rgba(0 0 0 /80%),\n      0px 30px 22px -10px rgba(0 0 0 /72%);\n    transform: scale(1.05);\n    border-color: rgba(249, 249, 249, 0.8);\n  }\n"])));var dL,pL,vL,mL=function(){var e=m(lt);return(0,lD.jsxs)(yL,{children:[e.length?(0,lD.jsx)("h1",{children:"Hollywood on disney"}):null,(0,lD.jsx)(gL,Pe(Pe({},{dots:!1,infinite:!0,speed:500,slidesToShow:5,slidesToScroll:1,autoplay:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:4}},{breakpoint:991,settings:{slidesToShow:3}},{breakpoint:767,settings:{slidesToShow:2}},{breakpoint:425,settings:{slidesToShow:1}}]}),{},{children:e&&e.map((function(e){return(0,lD.jsx)(bL,{children:(0,lD.jsx)(nD,{to:"/detail/".concat(e.id),children:(0,lD.jsx)("img",{src:e.CardImg})})},AD())}))}))]})},yL=sr.div(oL||(oL=_t(["\n  padding: 0.5rem 0;\n  h1 {\n    font-size: 1.7rem;\n    text-transform: uppercase;\n    font-wieght: 300 !important;\n    text-shadow: 0.1rem 0.1rem 0.1rem rgba(255, 255, 255, 0.1);\n    margin: 2vh 0 1vh 2rem;\n    @media screen and (max-width: 991px) {\n      font-size: 1.5rem;\n    }\n    @media screen and (max-width: 550px) {\n      font-size: 1.3rem;\n    }\n  }\n"]))),gL=sr(kD.Z)(sL||(sL=_t(["\n.slick-slide{\n  height: auto;\n  padding:2vh 2vh;\n}\n  .slick-list{\n       background-color: #040714;\n      border-radius:10px;\n    }\n ul li button{\n     ::before{\n         font-size:10px;\n        color:rgb(150,158,171) !important;\n     }\n }\n li.slick-active button:before{\n       color:white !important;\n    }\n}\n > button{\n     z-index:1400;\n     opacity:1;\n }\n .slick-prev{\n   left:2%;\n }\n .slick-next{\n   right:2%;\n }\n "]))),bL=sr.div(uL||(uL=_t(["\n  padding: 3px;\n\n  overflow: hidden;\n  cursor: pointer;\n  border-radius: 10px;\n  border: 3px solid rgba(249, 249, 249, 0.1);\n  box-shadow: 0px 26px 30px -10px rgba(0 0 0 /69%),\n    0px 16px 10px -10px rgba(0 0 0 /73%);\n  transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;\n  img {\n    width: 100%;\n    height: 20vh;\n    object-fit: fill;\n    opacity: 1;\n    z-index: 1400;\n    position: relative;\n    @media screen and (max-width: 991px) {\n      height: auto;\n      object-fit: cover;\n    }\n  }\n  &:hover {\n    padding: 0;\n    opacity: 1;\n    z-index: 2000;\n    position: relative;\n    box-shadow: 0px 40px 58px -16px rgba(0 0 0 /80%),\n      0px 30px 22px -10px rgba(0 0 0 /72%);\n    transform: scale(1.05);\n    border-color: rgba(249, 249, 249, 0.8);\n  }\n"])));var kL,wL,xL,_L=function(){var e=m(ht);return(0,lD.jsxs)(SL,{children:[e.length?(0,lD.jsx)("h1",{children:"disney for kids"}):null,(0,lD.jsx)(EL,Pe(Pe({},{dots:!1,infinite:!0,speed:500,slidesToShow:5,slidesToScroll:1,autoplay:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:4}},{breakpoint:991,settings:{slidesToShow:3}},{breakpoint:767,settings:{slidesToShow:2}},{breakpoint:425,settings:{slidesToShow:1}}]}),{},{children:e&&e.map((function(e){return(0,lD.jsx)(TL,{children:(0,lD.jsx)(nD,{to:"/detail/".concat(e.id),children:(0,lD.jsx)("img",{src:e.CardImg})})},AD())}))}))]})},SL=sr.div(dL||(dL=_t(["\n  padding: 0.5rem 0;\n  h1 {\n    font-size: 1.7rem;\n    text-transform: uppercase;\n    font-wieght: 300 !important;\n    text-shadow: 0.1rem 0.1rem 0.1rem rgba(255, 255, 255, 0.1);\n    margin: 2vh 0 1vh 2rem;\n    @media screen and (max-width: 991px) {\n      font-size: 1.5rem;\n    }\n    @media screen and (max-width: 550px) {\n      font-size: 1.3rem;\n    }\n  }\n"]))),EL=sr(kD.Z)(pL||(pL=_t(["\n.slick-slide{\n  height: auto;\n  padding:2vh 2vh;\n}\n  .slick-list{\n       background-color: #040714;\n      border-radius:10px;\n    }\n ul li button{\n     ::before{\n         font-size:10px;\n        color:rgb(150,158,171) !important;\n     }\n }\n li.slick-active button:before{\n       color:white !important;\n    }\n}\n > button{\n     z-index:1400;\n     opacity:1;\n }\n .slick-prev{\n   left:2%;\n }\n .slick-next{\n   right:2%;\n }\n "]))),TL=sr.div(vL||(vL=_t(["\n  padding: 3px;\n\n  overflow: hidden;\n  cursor: pointer;\n  border-radius: 10px;\n  border: 3px solid rgba(249, 249, 249, 0.1);\n  box-shadow: 0px 26px 30px -10px rgba(0 0 0 /69%),\n    0px 16px 10px -10px rgba(0 0 0 /73%);\n  transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;\n  img {\n    width: 100%;\n    height: 20vh;\n    object-fit: fill;\n    opacity: 1;\n    z-index: 1400;\n    position: relative;\n    @media screen and (max-width: 991px) {\n      height: auto;\n      object-fit: cover;\n    }\n  }\n  &:hover {\n    padding: 0;\n    opacity: 1;\n    z-index: 2000;\n    position: relative;\n    box-shadow: 0px 40px 58px -16px rgba(0 0 0 /80%),\n      0px 30px 22px -10px rgba(0 0 0 /72%);\n    transform: scale(1.05);\n    border-color: rgba(249, 249, 249, 0.8);\n  }\n"])));var IL,CL=function(){var e=m(ct);return(0,lD.jsxs)(OL,{children:[e.length?(0,lD.jsx)("h1",{children:"popular disney"}):null,(0,lD.jsx)(AL,Pe(Pe({},{dots:!1,infinite:!0,speed:500,slidesToShow:5,slidesToScroll:1,autoplay:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:4}},{breakpoint:991,settings:{slidesToShow:3}},{breakpoint:767,settings:{slidesToShow:2}},{breakpoint:425,settings:{slidesToShow:1}}]}),{},{children:e&&e.map((function(e){return(0,lD.jsx)(PL,{children:(0,lD.jsx)(nD,{to:"/detail/".concat(e.id),children:(0,lD.jsx)("img",{src:e.CardImg})})},AD())}))}))]})},OL=sr.div(kL||(kL=_t(["\n  padding: 0.5rem 0;\n  h1 {\n    font-size: 1.7rem;\n    text-transform: uppercase;\n    font-wieght: 300 !important;\n    text-shadow: 0.1rem 0.1rem 0.1rem rgba(255, 255, 255, 0.1);\n    margin: 2vh 0 1vh 2rem;\n    @media screen and (max-width: 991px) {\n      font-size: 1.5rem;\n    }\n    @media screen and (max-width: 550px) {\n      font-size: 1.3rem;\n    }\n  }\n"]))),AL=sr(kD.Z)(wL||(wL=_t(["\n.slick-slide{\n  height: auto;\n  padding:2vh 2vh;\n}\n  .slick-list{\n       background-color: #040714;\n      border-radius:10px;\n    }\n ul li button{\n     ::before{\n         font-size:10px;\n        color:rgb(150,158,171) !important;\n     }\n }\n li.slick-active button:before{\n       color:white !important;\n    }\n}\n > button{\n     z-index:1400;\n     opacity:1;\n }\n .slick-prev{\n   left:2%;\n }\n .slick-next{\n   right:2%;\n }\n "]))),PL=sr.div(xL||(xL=_t(["\n  padding: 3px;\n\n  overflow: hidden;\n  cursor: pointer;\n  border-radius: 10px;\n  border: 3px solid rgba(249, 249, 249, 0.1);\n  box-shadow: 0px 26px 30px -10px rgba(0 0 0 /69%),\n    0px 16px 10px -10px rgba(0 0 0 /73%);\n  transition: all 250ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0s;\n  img {\n    width: 100%;\n    height: 20vh;\n    object-fit: fill;\n    opacity: 1;\n    z-index: 1400;\n    position: relative;\n    @media screen and (max-width: 991px) {\n      height: auto;\n      object-fit: cover;\n    }\n  }\n  &:hover {\n    padding: 0;\n    opacity: 1;\n    z-index: 2000;\n    position: relative;\n    box-shadow: 0px 40px 58px -16px rgba(0 0 0 /80%),\n      0px 30px 22px -10px rgba(0 0 0 /72%);\n    transform: scale(1.05);\n    border-color: rgba(249, 249, 249, 0.8);\n  }\n"])));var NL,RL,DL,LL,ML,jL,FL,UL,zL,VL=function(){var e=I(),n=[],r=[],i=[],a=[],o=[],s=[];return(0,t.useEffect)((function(){WN.collection("Movies").get().then((function(t){t.docs.forEach((function(e){switch(e.data().type){case"popular":n=[].concat(ei(n),[Pe({id:e.id},e.data())]);break;case"newTo":i=[].concat(ei(i),[Pe({id:e.id},e.data())]);break;case"hollywood":r=[].concat(ei(r),[Pe({id:e.id},e.data())]);break;case"kidsTv":a=[].concat(ei(a),[Pe({id:e.id},e.data())]);break;case"original":o=[].concat(ei(o),[Pe({id:e.id},e.data())]);break;case"trending":s=[].concat(ei(s),[Pe({id:e.id},e.data())])}})),e(ut({popular:n,kidsTv:a,original:o,newTo:i,hollywood:r,trending:s}))}))}),[]),(0,lD.jsxs)(BL,{children:[(0,lD.jsx)(FD,{}),(0,lD.jsx)(XD,{}),(0,lD.jsx)(qD,{}),(0,lD.jsx)(nL,{}),(0,lD.jsx)(cL,{}),(0,lD.jsx)(mL,{}),(0,lD.jsx)(_L,{}),(0,lD.jsx)(CL,{})]})},BL=sr.main(IL||(IL=_t(['\n  min-height: calc(88vh);\n  min-width: 280px;\n  padding: 2vh calc(2.5vw + 5px);\n  position: relative;\n  ::before {\n    background: url("images/home-background.png") center / cover no-repeat fixed;\n    content: "";\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    top: 0;\n    left: 0;\n    z-index: -1;\n  }\n']))),qL={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},HL=t.createContext&&t.createContext(qL),WL=function(){return WL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},WL.apply(this,arguments)},KL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function GL(e){return e&&e.map((function(e,n){return t.createElement(e.tag,WL({key:n},e.attr),GL(e.child))}))}function QL(e){return function(n){return t.createElement($L,WL({attr:WL({},e.attr)},n),GL(e.child))}}function $L(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=KL(e,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",WL({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:WL(WL({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==HL?t.createElement(HL.Consumer,null,(function(e){return n(e)})):n(qL)}function XL(e){return QL({tag:"svg",attr:{t:"1551322312294",style:"",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M474 152m8 0l60 0q8 0 8 8l0 704q0 8-8 8l-60 0q-8 0-8-8l0-704q0-8 8-8Z"}},{tag:"path",attr:{d:"M168 474m8 0l672 0q8 0 8 8l0 60q0 8-8 8l-672 0q-8 0-8-8l0-60q0-8 8-8Z"}}]})(e)}var YL,JL,ZL,eM,tM=function(){var e=function(){var e=t.useContext(PR).matches,n=e[e.length-1];return n?n.params:{}}(),n=e.id,r=Nt((0,t.useState)(),2),i=r[0],a=r[1];return(0,t.useEffect)((function(){WN.collection("Movies").doc(n).get().then((function(e){e.exists?a(e.data()):console.log("detail can not be Fetched")}))}),[n]),(0,lD.jsx)(lD.Fragment,{children:i?(0,lD.jsx)(lD.Fragment,{children:(0,lD.jsx)(nM,{style:{background:"linear-gradient(\n                rgba(0, 0, 0, 0.4),\n                rgba(0, 0, 0, 0.3),\n                rgba(0, 0, 0, 0.3),\n                rgba(0, 0, 0, 0.4)\n              ), url(".concat(i.BackgroundImg,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:(0,lD.jsx)(rM,{children:(0,lD.jsxs)(iM,{children:[(0,lD.jsx)(aM,{children:(0,lD.jsx)("img",{src:i.TitleImg,alt:""})}),(0,lD.jsx)("h2",{children:i.Genres}),(0,lD.jsx)("p",{children:i.Description}),(0,lD.jsxs)(oM,{children:[(0,lD.jsxs)("div",{className:"playtrail",children:[(0,lD.jsxs)(sM,{children:[(0,lD.jsx)("img",{src:"/images/play-icon-black.png"}),(0,lD.jsx)("span",{children:"PLAY"})]}),(0,lD.jsxs)(uM,{children:[(0,lD.jsx)("img",{src:"/images/play-icon-white.png"}),(0,lD.jsx)("span",{children:"trailer"})]})]}),(0,lD.jsxs)("div",{className:"addgp",children:[(0,lD.jsx)(cM,{children:(0,lD.jsx)(XL,{className:"plusmark"})}),(0,lD.jsx)(lM,{children:(0,lD.jsx)("img",{src:"/images/group-icon.png"})})]})]})]})})})}):(0,lD.jsx)("div",{style:{height:"11vh"}})})},nM=sr.main(NL||(NL=_t(['\n  margin-top: 11vh;\n  // background:\n  //   url("https://occ-0-4704-58.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABc3eiwbu-nD4fIQIVQ1U09rVReNG3YpVJWTmNSzmRJRB7sk4q3H4NnTIEa2Uz314j1Kj6VIApFCa3_ySFdivdH8pYjvu.jpg?r=d0f\n  // ")\n  //     center/cover no-repeat;\n  height: 100vh;\n  min-width: 280px;\n  overflow-x: hidden;\n  @media screen and (min-width: 991px) and (max-width: 1200px) {\n    height: 72vh;\n  }\n  @media screen and (min-width: 550px) and (max-width: 990px) {\n    height: 65vh;\n  }\n  @media screen and (max-width: 549px) {\n    height: 55vh;\n    object-fit: fill;\n  }\n']))),rM=sr.div(RL||(RL=_t(["\n  width: 95%;\n  margin: 0 auto;\n  height: auto;\n"]))),iM=sr.div(DL||(DL=_t(["\n  min-width: 280px;\n  height: 95vh;\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  flex-direction: column;\n\n  @media screen and (min-width: 991px) and (max-width: 1200px) {\n    height: 72vh;\n  }\n  @media screen and (min-width: 550px) and (max-width: 990px) {\n    height: 65vh;\n  }\n  @media screen and (max-width: 549px) {\n    height: 55vh;\n    object-fit: fill;\n  }\n  h2 {\n    color: #fff;\n    font-size: 1.5rem;\n    font-weight: 500 !important;\n    @media screen and (min-width: 768px) and (max-width: 1200px) {\n      font-size: 1.3rem;\n    }\n    @media screen and (min-width: 375px) and (max-width: 767px) {\n      font-size: 1.1rem;\n    }\n    @media screen and (max-width: 374px) {\n      font-size: 1rem;\n      max-width: 250px;\n    }\n  }\n  p {\n    min-width: 280px;\n    line-height: 1.4;\n    font-size: 1.2rem;\n    padding: 1rem 0;\n    color: #f9f9f9;\n    width: 100%;\n    max-width: 650px;\n    height: auto;\n    @media screen and (min-width: 768px) and (max-width: 1200px) {\n      font-size: 1.1rem;\n      max-width: 550px;\n    }\n    @media screen and (min-width: 375px) and (max-width: 767px) {\n      padding: 0.5rem 0;\n      font-size: 1rem;\n      max-width: 400px;\n    }\n    @media screen and (max-width: 374px) {\n      padding: 0.3rem 0;\n      font-size: 0.9rem;\n      max-width: 400px;\n    }\n  }\n"]))),aM=sr.div(LL||(LL=_t(["\n  width: 95%;\n  max-width: 450px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  flex-wrap: wrap;\n\n  @media screen and (min-width: 550px) and (max-width: 1200px) {\n    max-width: 325px;\n  }\n  @media screen and (min-width: 375px) and (max-width: 549px) {\n    max-width: 250px;\n  }\n  @media screen and (max-width: 374px) {\n    max-width: 150px;\n  }\n  img {\n    width: 100%;\n    height: auto;\n    object-fit: contain;\n  }\n"]))),oM=sr.div(ML||(ML=_t(["\n  display: flex;\n  align-items: center;\n  // padding:50px 0;\n  min-width: 280px;\n  @media screen and (max-width: 320px) {\n    flex-direction: column;\n    align-items: flex-start;\n  }\n"]))),sM=sr.button(jL||(jL=_t(["\n  border-radius: 4px;\n  font-size: 15px;\n  padding: 0.5rem 1.2rem;\n  margin-right: 22px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  background-color: rgb(249, 249, 249);\n  border: none;\n  :hover {\n    background-color: rgb(198, 198, 198);\n  }\n  @media screen and (min-width: 550px) and (max-width: 1200px) {\n    padding: 0.5rem 1.1rem;\n  }\n  @media screen and (min-width: 375px) and (max-width: 549px) {\n    padding: 0.5rem 1rem;\n  }\n  @media screen and (max-width: 374px) {\n    border-radius: 2px;\n    padding: 0.4rem 0.8rem;\n    margin-right: 13px;\n    background: #f9f9f9;\n  }\n  img {\n    width: 32px;\n    height: auto;\n    opacity: 1;\n    z-index: 1400;\n    object-fit: contain;\n    @media screen and (min-width: 550px) and (max-width: 1200px) {\n      width: 27px;\n    }\n    @media screen and (max-width: 549px) {\n      width: 24px;\n    }\n  }\n  span {\n    // margin-top: 0.1rem;\n    color: #000;\n    font-size: 1.2rem;\n    font-weight: 400 !important;\n    text-transform: uppercase;\n    line-height: 1.08;\n    letter-spacing: 1px;\n\n    @media screen and (min-width: 550px) and (max-width: 1200px) {\n      font-size: 1.1rem;\n    }\n    @media screen and (min-width: 375px) and (max-width: 549px) {\n      font-size: 1rem;\n    }\n    @media screen and (max-width: 374px) {\n      font-size: 0.9rem;\n    }\n  }\n"]))),uM=sr(sM)(FL||(FL=_t(["\n  background-color: rgba(0, 0, 0, 0.3);\n  border: 1px solid rgb(249, 249, 249);\n  color: white;\n  text-transform: uppercase;\n  span {\n    letter-spacing: 1.1px;\n    color: white;\n    font-weight: 400 !important;\n  }\n"]))),cM=sr.button(UL||(UL=_t(["\n  margin-right: 16px;\n  width: 41px;\n  height: 41px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  border: 2px solid white;\n  background-color: rgba(0, 0, 0, 0.6);\n  cursor: pointer;\n  @media screen and (min-width: 550px) and (max-width: 1200px) {\n    width: 37px;\n    height: 37px;\n  }\n  @media screen and (max-width: 549px) {\n    width: 35px;\n    height: 35px;\n    margin-right: 10px;\n  }\n  // @media screen and (max-width: 310px) {\n  //   display: none;\n  // }\n"]))),lM=sr(cM)(zL||(zL=_t(["\n  background-color: rgb(0, 0, 0);\n"])));var fM,hM,dM,pM,vM=sr.section(YL||(YL=_t(["\n  padding: 50px 5%;\n  position: relative;\n  background: transparent;\n  min-width: 280px;\n  @media screen and (max-width: 991px) {\n    padding: 35;\n  }\n  @media screen and (max-width: 767px) {\n    padding: 25px;\n  }\n"]))),mM=sr.div(JL||(JL=_t(["\n  display: flex;\n  flex-direction: row-reverse;\n  align-items: center;\n  justify-content: space-between;\n  @media screen and (max-width: 991px) {\n    flex-direction: column;\n    text-align: center;\n    justify-content: center;\n  }\n"]))),yM=sr.div(ZL||(ZL=_t(["\n  width: 48%;\n  flex: 0 auto;\n  opacity: 1;\n  z-index: 1400;\n  position: relative;\n  @media screen and (max-width: 991px) {\n    padding: 0;\n    width: 100%;\n  }\n  p {\n    font-size: 1rem;\n    font-weight: 100;\n    @media screen and (min-width: 375px) and (max-width: 550px) {\n      font-size: 0.85rem;\n      line-height: 1rem;\n    }\n    @media screen and (min-width: 280px) and (max-width: 374px) {\n      font-size: 0.7rem;\n      line-height: 1rem;\n      margin-top: 1vh;\n    }\n  }\n"]))),gM=sr.div(eM||(eM=_t(["\n  flex: 0 auto;\n  opacity: 1;\n  z-index: 1400;\n  position: relative;\n  img {\n    width: 100%;\n    height: auto;\n    // object-fit: contain;\n    max-width: 600px;\n    @media screen and (min-width: 500px) and (max-width: 1200px) {\n      width: 100%;\n      height: auto;\n      object-fit: contain;\n    }\n    @media screen and (min-width: 280px) and (max-width: 499px) {\n      width: 31vh;\n      height: auto;\n      object-fit: contain;\n    }\n  }\n"]))),bM=function(){return(0,lD.jsx)(vM,{children:(0,lD.jsxs)(mM,{children:[(0,lD.jsxs)(yM,{children:[(0,lD.jsx)("h1",{className:"disney-title",children:"Stream with Premier Access the "}),(0,lD.jsx)("h1",{className:"disney-title",children:"same day its in theaters"}),(0,lD.jsxs)("p",{children:["Coming May 28. Get Premier Access to Cruella for $29.99 with a Disney+ Subscription, and watch as many times as you like before its available to all Disney+ Subscription at a later date"," "]}),(0,lD.jsx)("button",{className:"disney-theme",children:"Preorder"})]}),(0,lD.jsx)(gM,{children:(0,lD.jsx)("img",{src:"/images/image/jugle.jpg",alt:""})})]})})};var kM,wM,xM,_M=sr.section(fM||(fM=_t(["\n  padding: 50px 5%;\n  position: relative;\n  background: transparent;\n  min-width: 280px;\n  @media screen and (max-width: 991px) {\n    padding: 35;\n  }\n  @media screen and (max-width: 767px) {\n    padding: 25px;\n  }\n"]))),SM=sr.div(hM||(hM=_t(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  @media screen and (max-width: 991px) {\n    flex-direction: column;\n    text-align: center;\n    justify-content: center;\n  }\n"]))),EM=sr.div(dM||(dM=_t(["\n  width: 48%;\n  flex: 0 auto;\n  //   text-align: center;\n  opacity: 1;\n  z-index: 1400;\n  position: relative;\n  @media screen and (max-width: 991px) {\n    padding: 0;\n    width: 100%;\n  }\n  p {\n    font-size: 1rem;\n    font-weight: 100;\n    @media screen and (min-width: 375px) and (max-width: 550px) {\n      font-size: 0.85rem;\n      line-height: 1rem;\n    }\n    @media screen and (min-width: 280px) and (max-width: 374px) {\n      font-size: 0.7rem;\n      line-height: 1rem;\n      margin-top: 1vh;\n    }\n  }\n"]))),TM=sr.div(pM||(pM=_t(["\n  flex: 0 auto;\n  opacity: 1;\n  z-index: 1400;\n  position: relative;\n  img {\n    width: 100%;\n    height: auto;\n    object-fit: contain;\n    max-width: 600px;\n    @media screen and (min-width: 500px) and (max-width: 1200px) {\n      width: 100%;\n      height: inherit;\n      object-fit: contain;\n      margin-top: 3vh;\n    }\n    @media screen and (min-width: 280px) and (max-width: 499px) {\n      width: 31vh;\n      height: auto;\n      object-fit: contain;\n      margin-top: 3vh;\n    }\n  }\n"]))),IM=function(){return(0,lD.jsx)(_M,{children:(0,lD.jsxs)(SM,{children:[(0,lD.jsxs)(EM,{children:[(0,lD.jsx)("h1",{className:"disney-title",children:"Stream Now or Download Now"}),(0,lD.jsx)("h1",{className:"disney-title",children:"Explore US More on Disney"}),(0,lD.jsx)("p",{children:"Stream on 4 Devices at Once or Download Your Fvourites to Watch Later. With dozens of titles i stunning 4K UHD, you can watch the way you always wished"}),(0,lD.jsx)("button",{className:"disney-theme",children:"Preorder"})]}),(0,lD.jsx)(TM,{children:(0,lD.jsx)("img",{src:"/images/image/Devices.png",alt:""})})]})})};var CM,OM,AM,PM=sr.section(kM||(kM=_t(['\n  position: relative;\n  height: 95vh;\n  ::before {\n    background-image: url("./images/image/Soul_Groupwatch.jpg");\n    background-position: center;\n    background-size: cover;\n    background-repeat: no-repeat;\n    content: "";\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    top: 0;\n    left: 0;\n    opacity: 0.5;\n    z-index: -1;\n  }\n  min-width: 280px;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  @media screen and (min-width: 768px) and (max-width: 1200px) {\n    height: 85vh;\n  }\n  @media screen and (min-width: 280px) and (max-width: 767px) {\n    height: 79vh;\n  }\n']))),NM=sr.div(wM||(wM=_t(["\n  width: 91%;\n  margin: 0 auto;\n  @media screen and (min-width: 280px) and (max-width: 991px) {\n    width: 85%;\n  }\n"]))),RM=sr.div(xM||(xM=_t(["\n  margin-top: 17vh;\n  @media screen and (min-width: 280px) and (max-width: 1200px) {\n    margin-top: 13vh;\n  }\n  li {\n    font-size: 0.9rem;\n    font-weight: 300 !important;\n  }\n"]))),DM=function(){return(0,lD.jsx)(lD.Fragment,{children:(0,lD.jsx)(PM,{children:(0,lD.jsx)(NM,{children:(0,lD.jsxs)(RM,{children:[(0,lD.jsx)("h1",{className:"disney-title",children:"Virtual Movie Nights With"}),(0,lD.jsx)("h1",{className:"disney-title",children:"GroupWatch"}),(0,lD.jsx)("li",{children:"Watch together, even when apart"}),(0,lD.jsx)("li",{children:"Stream with up to 6 friends"}),(0,lD.jsx)("li",{children:"Pause, rewind, react together"}),(0,lD.jsx)("li",{children:"Easy setup and sharing"})]})})})})};var LM,MM,jM,FM,UM,zM,VM=sr.section(CM||(CM=_t(['\n  position: relative;\n  height: 95vh;\n  ::before {\n    background-image: url("./images/image/BlackPanther.jpg");\n    background-position: center;\n    background-size: cover;\n    background-repeat: no-repeat;\n    content: "";\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    top: 0;\n    left: 0;\n    opacity: 0.5;\n    z-index: -1;\n  }\n  min-width: 280px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  @media screen and (min-width: 768px) and (max-width: 1200px) {\n    height: 85vh;\n  }\n  @media screen and (min-width: 280px) and (max-width: 767px) {\n    height: 79vh;\n  }\n']))),BM=sr.div(OM||(OM=_t(["\n  width: 91%;\n  margin: 0 auto;\n  @media screen and (min-width: 280px) and (max-width: 991px) {\n    width: 85%;\n  }\n"]))),qM=sr.div(AM||(AM=_t(["\n  margin-top: 17vh;\n  display: flex;\n  flex-direction: column;\n  text-align: end;\n  @media screen and (min-width: 280px) and (max-width: 1200px) {\n    margin-top: 13vh;\n  }\n"]))),HM=function(){return(0,lD.jsx)(lD.Fragment,{children:(0,lD.jsx)(VM,{children:(0,lD.jsx)(BM,{children:(0,lD.jsxs)(qM,{children:[(0,lD.jsx)("h1",{className:"disney-title",children:"Endless Entertainment"}),(0,lD.jsx)("p",{style:{fontSize:"1rem"},children:"Disney classics, Pixar adventures, Marvel epics, Star Wars sagas,National Geogrphich explorations, and more."})]})})})})};var WM,KM,GM,QM,$M,XM=sr.section(LM||(LM=_t(["\n  position: relative;\n  padding: 5vh 0;\n  min-width: 280px;\n"]))),YM=sr.div(MM||(MM=_t(["\n  width: 95%;\n  margin: 0 auto;\n"]))),JM=sr.div(jM||(jM=_t(["\n  text-align: center;\n  margin-bottom: 3vh;\n  p {\n    font-size: 1rem;\n  }\n  @media screen and (max-width: 550px) {\n    font-size: 0.8rem;\n  }\n"]))),ZM=sr.div(FM||(FM=_t(["\n  display: grid;\n  gap: 15px 25px;\n  grid-template-columns: repeat(3, minmax(0, 1fr));\n\n  @media screen and (max-width: 991px) {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n"]))),ej=sr.div(UM||(UM=_t(["\n  width: 100%;\n  padding: 0;\n  border-radius: 0.245rem;\n  box-shadow: rgba(0 0 0 / 69%) 0px 26px 30px -1 rgba(0 0 0 / 73%) 0px 16px 10px -1;\n  img {\n    width: 100%;\n    height: auto;\n    object-fit: cover;\n    border-radius: 0.245rem;\n  }\n"]))),tj=sr.div(zM||(zM=_t(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  padding: 1vh 0;\n"]))),nj=function(){var e=Nt((0,t.useState)(ND),1)[0];return(0,lD.jsx)(XM,{children:(0,lD.jsxs)(YM,{children:[(0,lD.jsxs)(JM,{children:[(0,lD.jsx)("h1",{className:"disney-title",children:"Stream Exclusive Disney+ Originals"}),(0,lD.jsx)("p",{children:"New Stories from our incredible family of studios"})]}),(0,lD.jsx)(ZM,{children:e.map((function(e){return(0,lD.jsx)(ej,{children:(0,lD.jsx)("img",{src:e.src,alt:""})},AD())}))}),(0,lD.jsx)(tj,{children:(0,lD.jsx)("button",{type:"button",className:"disney-theme",children:"Get The Disney Bundles"})})]})})};var rj,ij,aj,oj,sj=sr.section(WM||(WM=_t(["\n  position: relative;\n  padding: 3vh 0 0vh 0;\n  min-width: 280px;\n"]))),uj=sr.div(KM||(KM=_t(["\n  width: 95%;\n  margin: 0 auto;\n"]))),cj=sr.div(GM||(GM=_t(["\n  text-align: center;\n  margin: 0 0 4vh 0;\n"]))),lj=sr.div(QM||(QM=_t(["\n  display: grid;\n  gap: 15px 25px;\n  grid-template-columns: repeat(4, minmax(0, 1fr));\n\n  @media screen and (min-width: 280px) and (max-width: 767px) {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n"]))),fj=sr.div($M||($M=_t(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  padding: 0;\n  border-radius: 4px;\n  text-align: center;\n  @media screen and (min-width: 768px) and (max-width: 991px) {\n    width: 100%;\n  }\n  img {\n    width: 100%;\n    height: 115px;\n    object-fit: contain;\n    border-radius: 0.245rem;\n    @media screen and (min-width: 768px) and (max-width: 991px) {\n      height: 85px;\n    }\n    @media screen and (min-width: 550px) and (max-width: 767px) {\n      height: 75px;\n    }\n    @media screen and (min-width: 280px) and (max-width: 549px) {\n      height: 55px;\n    }\n\n    h2 {\n      font-weight: 500 !important;\n      @media screen and (min-width: 280px) and (max-width: 550px) {\n        font-size: 0.9rem;\n      }\n    }\n  }\n"]))),hj=function(){var e=Nt((0,t.useState)(PD),2),n=e[0];return e[1],(0,lD.jsx)(lD.Fragment,{children:(0,lD.jsx)(sj,{children:(0,lD.jsxs)(uj,{children:[(0,lD.jsx)(cj,{children:(0,lD.jsx)("h1",{className:"disney-title",children:"Available Stream on Your Favourite Devices"})}),(0,lD.jsx)(lj,{children:n.map((function(e){return(0,lD.jsxs)(fj,{children:[(0,lD.jsx)("img",{src:e.src,alt:""}),(0,lD.jsx)("h2",{children:e.title})]},AD())}))})]})})})};var dj,pj,vj,mj,yj,gj,bj=sr.section(rj||(rj=_t(["\n  position: relative;\n  padding: 35px 5%;\n  background: transparent;\n  min-width: 280px;\n"]))),kj=sr.div(ij||(ij=_t(["\n  display: flex;\n  padding: 35px 5%;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  border: 1px solid #f9f9f9;\n  @media screen and (max-width: 991px) {\n    flex-direction: column;\n    padding: 25px 35px;\n    justify-content: center;\n    text-align: center;\n  }\n  @media screen and (max-width: 767px) {\n    padding: 25px 15px;\n  }\n"]))),wj=sr.div(aj||(aj=_t(["\n    width:48%;\n    flex: 0 auto;\n  opacity: 1;\n  z-index: 1400;\n  @media screen and (max-width: 991px) {\n    width: 100%;\n  }\n     img{\n     width:100%;\n      max-width:600px;\n     height:auto;\n     object-fit:contain;\n     object-position:center:\n\n  //   }\n"]))),xj=sr.div(oj||(oj=_t(["\n  width: 48%;\n  flex: 0 auto;\n  opacity: 1;\n  z-index: 1400;\n\n  @media screen and (max-width: 991px) {\n    width: 100%;\n    text-align: center;\n  }\n  p {\n    font-size: 1rem;\n    @media screen and (max-width: 550px) {\n      font-size: 0.95rem;\n    }\n  }\n"]))),_j=function(){return(0,lD.jsx)(lD.Fragment,{children:(0,lD.jsx)(bj,{children:(0,lD.jsxs)(kj,{children:[(0,lD.jsx)(wj,{children:(0,lD.jsx)("img",{src:"/images/cta-logo-one.svg",alt:""})}),(0,lD.jsxs)(xj,{children:[(0,lD.jsx)("p",{children:"Get The Disney Bundle to Stream the best movies, shows, and sports with Disney+, HULU and ESPN+.Term Apply"}),(0,lD.jsx)("button",{className:"disney-theme",children:"Get This Disney Bundle"})]})]})})})};var Sj,Ej,Tj,Ij,Cj,Oj=function(){return(0,lD.jsxs)(lD.Fragment,{children:[(0,lD.jsx)(Aj,{children:(0,lD.jsxs)(Pj,{children:[(0,lD.jsx)(Nj,{src:"images/cta-logo-one.svg"}),(0,lD.jsx)(Rj,{children:"Get The Disney Bundle "}),(0,lD.jsx)("h4",{children:"Steam Now:Terms Apply"}),(0,lD.jsx)(Dj,{children:"The screenplay was written by Qui Nguyen and Adele Lim, both of whom also wrote the story with Hall, Estrada, Paul Briggs, John Ripa, Kiel Murray and Dean Wellins, based on story ideas by Bradley Raymond and additional story contributions by Helen Kalafatic."}),(0,lD.jsx)(Lj,{src:"images/cta-logo-two.png"}),(0,lD.jsx)("button",{type:"button",className:"link",children:"Sign UP for Disney+ Only"}),(0,lD.jsx)("button",{type:"button",className:"link text-gray",children:"$7.99/month or $79.99/year"})]})}),(0,lD.jsx)(bM,{}),(0,lD.jsx)(DM,{}),(0,lD.jsx)(HM,{}),(0,lD.jsx)(nj,{}),(0,lD.jsx)(IM,{}),(0,lD.jsx)(_j,{}),(0,lD.jsx)(hj,{})]})},Aj=sr.div(dj||(dj=_t(['\n  position: relative;\n  height: calc(100vh);\n  //height: auto;\n  //width: auto;\n  min-width: 280px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  @media screen and (min-width: 768px) and (max-width: 1200px) {\n    height: calc(93vh);\n  }\n  @media screen and (min-width: 280px) and (max-width: 767px) {\n    height: calc(88vh);\n  }\n  h4 {\n    color: #fff;\n    font-weight: 600;\n    margin-bottom: 2px;\n  }\n  button {\n    outline: none;\n    border: none;\n    background: transparent;\n    font-size: 19px;\n    color: #f9f9f9;\n    margin-top: 1vh;\n    @media screen and (min-width: 280px) and (max-width: 549px) {\n      font-size: 15px;\n    }\n  }\n  button.text-gray {\n    margin-top: 0.3vh;\n    color: gray;\n  }\n  ::before {\n    background-image: url("images/login-background.jpg");\n    background-position: top;\n    background-size: cover;\n    background-repeat: no-repeat;\n    content: "";\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    top: 0;\n    left: 0;\n    opacity: 0.7;\n    z-index: -1;\n  }\n']))),Pj=sr.div(pj||(pj=_t(["\n  max-width: 650px;\n  width: 90%;\n  padding: 60px 40px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-top: 11vh;\n  align-items: center;\n  @media screen and (min-width: 768px) and (max-width: 1200px) {\n    max-width: 550px;\n  }\n  @media screen and (min-width: 550px) and (max-width: 767px) {\n    max-width: 450px;\n  }\n  @media screen and (min-width: 375px) and (max-width: 549px) {\n    max-width: 350px;\n  }\n  @media screen and (min-width: 280px) and (max-width: 374px) {\n    max-width: auto;\n  }\n"]))),Nj=sr.img(vj||(vj=_t(["\n  width: 100%;\n  // height: auto;\n  // display: block;\n  max-width: 600px;\n  object-fit: content;\n"]))),Rj=sr.a(mj||(mj=_t(["\n  width: 100%;\n  min-width: 240px;\n  background-color: #0063e5;\n  outline: none;\n  border: none;\n  font-size: 18px;\n  font-weight: bold;\n  padding: 17px 0;\n  color: #f9f9f9;\n  border-radius: 4px;\n  text-align: center;\n  cursor: pointer;\n  margin-top: 8px;\n  margin-bottom: 10px;\n  transition: all 250ms ease-in-out;\n  letter-spacing: 1.5px;\n  text-transform: uppercase;\n  :hover {\n    background-color: #0483ee;\n  }\n  @media screen and (min-width: 550px) and (max-width: 1200px) {\n    padding: 10px 0;\n    font-size: 15px;\n  }\n  @media screen and (min-width: 280px) and (max-width: 549px) {\n    padding: 5px 0;\n    font-size: 14px;\n  }\n"]))),Dj=sr.p(yj||(yj=_t(["\n  font-size: 17px;\n  letter-spacing: 1.5px;\n  line-height: 1.5;\n  text-align: center;\n  min-width: 275px;\n  @media screen and (min-width: 991px) and (max-width: 1200px) {\n    font-size: 16px;\n    line-height: 1.4;\n  }\n  @media screen and (min-width: 550px) and (max-width: 990px) {\n    font-size: 15px;\n    line-height: 1.3;\n  }\n  @media screen and (min-width: 375px) and (max-width: 549px) {\n    font-size: 14px;\n    line-height: 1.2;\n  }\n  @media screen and (min-width: 280px) and (max-width: 374px) {\n    font-size: 13px;\n    line-height: 1.1;\n  }\n"]))),Lj=sr(Nj)(gj||(gj=_t(["\n  margin-top: 5px;\n  width: 90%;\n"])));var Mj=function(){return(0,lD.jsx)(lD.Fragment,{children:(0,lD.jsx)(jj,{children:(0,lD.jsxs)(Fj,{children:[(0,lD.jsx)(Uj,{children:(0,lD.jsx)("img",{src:"/images/logo.svg",alt:""})}),(0,lD.jsxs)(zj,{children:[(0,lD.jsx)("li",{children:(0,lD.jsx)("p",{children:"English"})}),(0,lD.jsx)("li",{children:(0,lD.jsx)("p",{children:"Subscriber Agreement"})}),(0,lD.jsx)("li",{children:(0,lD.jsx)("p",{children:"Privacy Policy"})}),(0,lD.jsx)("li",{children:(0,lD.jsx)("p",{children:"Your California Privacy"})}),(0,lD.jsx)("li",{children:(0,lD.jsx)("p",{children:"Do Not Sell My Info"})}),(0,lD.jsx)("li",{children:(0,lD.jsx)("p",{children:"Childrens Online Privacy Policy "})}),(0,lD.jsx)("li",{children:(0,lD.jsx)("p",{children:"Closed Captioning"})}),(0,lD.jsx)("li",{children:(0,lD.jsx)("p",{children:"Interest-Based-Ads"})}),(0,lD.jsx)("li",{children:(0,lD.jsx)("p",{children:"Supported Devices"})}),(0,lD.jsx)("li",{children:(0,lD.jsx)("p",{children:"Help"})}),(0,lD.jsx)("li",{children:(0,lD.jsx)("p",{children:"Gift Disney+"})}),(0,lD.jsx)("li",{children:(0,lD.jsx)("p",{children:"About US"})}),(0,lD.jsx)("li",{children:(0,lD.jsx)("p",{children:"Disney+ Partner Program"})}),(0,lD.jsx)("li",{children:(0,lD.jsx)("p",{children:"Premier Access"})}),(0,lD.jsx)("li",{children:(0,lD.jsx)("p",{children:"The Disney Bundle"})})]}),(0,lD.jsx)(Vj,{children:(0,lD.jsx)("p",{children:"\xa9 DisneyPlus-JSStack All Rights Reserved 2021"})})]})})})},jj=sr.section(Sj||(Sj=_t(["\n  overflow-x: hidden;\n  padding: 2rem 0;\n  min-width: 280px;\n  @media screen and (max-width: 550px) {\n    padding: 1rem 0;\n  }\n"]))),Fj=sr.div(Ej||(Ej=_t(["\n  width: 95%;\n  margin: 0 auto;\n"]))),Uj=sr.div(Tj||(Tj=_t(["\n  text-align: center;\n  img {\n    width: 10rem;\n    height: auto;\n    object-fit: fill;\n    @media screen and (max-width: 550px) {\n      width: 7rem;\n    }\n  }\n"]))),zj=sr.nav(Ij||(Ij=_t(["\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  flex-wrap: wrap;\n  flex-shrink: 0;\n  flex-grow: initial;\n  justify-content: center;\n  li {\n    list-style: none;\n    display: block;\n    p {\n      padding: 0.5rem;\n      font-size: 0.9rem;\n      margin-right: 0.3rem;\n      @media screen and (max-width: 550px) {\n        padding: 0.1rem;\n        font-size: 0.75rem;\n      }\n    }\n  }\n"]))),Vj=sr.div(Cj||(Cj=_t(["\n  text-align: center;\n  p {\n    margin-top: 1vh;\n    font-weight: 400 !important;\n    @media screen and (max-width: 550px) {\n      font-size: 0.95rem;\n    }\n  }\n"])));var Bj=function(){return(0,lD.jsx)("div",{className:"App",children:(0,lD.jsxs)(eD,{children:[(0,lD.jsx)(hD,{}),(0,lD.jsxs)(GR,{children:[(0,lD.jsx)(WR,{path:"/login",element:(0,lD.jsx)(Oj,{})}),(0,lD.jsx)(WR,{path:"/detail/:id",element:(0,lD.jsx)(tM,{})}),(0,lD.jsx)(WR,{path:"/",element:(0,lD.jsx)(Oj,{})}),(0,lD.jsx)(WR,{path:"/home",element:(0,lD.jsx)(VL,{})}),(0,lD.jsx)(WR,{path:"/*",element:(0,lD.jsx)(Oj,{})})]}),(0,lD.jsx)(Mj,{})]})})},qj=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},Hj=document.getElementById("root");(0,i.s)(Hj).render((0,lD.jsx)(t.StrictMode,{children:(0,lD.jsx)(x,{store:xt,children:(0,lD.jsx)(Bj,{})})})),qj()}()}();
//# sourceMappingURL=main.4a9e208d.js.map